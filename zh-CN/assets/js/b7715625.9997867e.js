"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4885],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),u=p(a),m=o,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return a?n.createElement(h,l(l({ref:t},d),{},{components:a})):n.createElement(h,l({ref:t},d))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,l=new Array(i);l[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[u]="string"==typeof e?e:o,l[1]=r;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},31527:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>p});var n=a(87462),o=(a(67294),a(3905));const i={description:"Train and Deploy Your Own AI Model Into SenseCAP A1101",title:"Train and Deploy Your Own AI Model Into SenseCAP A1101",keywords:["SenseCAP"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"1/16/2023",author:"jianjing Huang"}},l="Train and Deploy Your Own AI Model Into SenseCAP A1101",r={unversionedId:"Network/SenseCAP/Train-Deploy-AI-Model-A1101",id:"Network/SenseCAP/Train-Deploy-AI-Model-A1101",title:"Train and Deploy Your Own AI Model Into SenseCAP A1101",description:"Train and Deploy Your Own AI Model Into SenseCAP A1101",source:"@site/docs/Network/SenseCAP/Train-Deploy-AI-Model-A1101.md",sourceDirName:"Network/SenseCAP",slug:"/Network/SenseCAP/Train-Deploy-AI-Model-A1101",permalink:"/docusaurus_wiki/zh-CN/Network/SenseCAP/Train-Deploy-AI-Model-A1101",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Network/SenseCAP/Train-Deploy-AI-Model-A1101.md",tags:[],version:"current",lastUpdatedBy:"jianjing Huang",lastUpdatedAt:1673827200,formattedLastUpdatedAt:"2023\u5e741\u670816\u65e5",frontMatter:{description:"Train and Deploy Your Own AI Model Into SenseCAP A1101",title:"Train and Deploy Your Own AI Model Into SenseCAP A1101",keywords:["SenseCAP"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"1/16/2023",author:"jianjing Huang"}}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Hardware introduction",id:"hardware-introduction",level:2},{value:"SenseCAP A1101 - LoRaWAN Vision AI Sensor",id:"sensecap-a1101---lorawan-vision-ai-sensor",level:3},{value:"Software introduction",id:"software-introduction",level:2},{value:"What is Roboflow?",id:"what-is-roboflow",level:3},{value:"What is YOLOv5?",id:"what-is-yolov5",level:3},{value:"What is TensorFlow Lite?",id:"what-is-tensorflow-lite",level:3},{value:"Wiki structure",id:"wiki-structure",level:2},{value:"1. Train your own AI model with a public dataset",id:"1-train-your-own-ai-model-with-a-public-dataset",level:2},{value:"Hardware preparation",id:"hardware-preparation",level:3},{value:"Software preparation",id:"software-preparation",level:3},{value:"Use publicly available annotated dataset",id:"use-publicly-available-annotated-dataset",level:3},{value:"Train using YOLOv5 on Google Colab",id:"train-using-yolov5-on-google-colab",level:3},{value:"Deploy and inference",id:"deploy-and-inference",level:3},{value:"2. Train your own AI model with your own dataset",id:"2-train-your-own-ai-model-with-your-own-dataset",level:2},{value:"Hardware preparation",id:"hardware-preparation-1",level:3},{value:"Software preparation",id:"software-preparation-1",level:3},{value:"Windows, Linux, Intel Mac",id:"windows-linux-intel-mac",level:4},{value:"M1/ M2 Mac",id:"m1-m2-mac",level:4},{value:"Collect dataset",id:"collect-dataset",level:3},{value:"Change device firmware after image collection",id:"change-device-firmware-after-image-collection",level:3},{value:"Annotate dataset using Roboflow",id:"annotate-dataset-using-roboflow",level:3},{value:"Train using YOLOv5 on Google Colab",id:"train-using-yolov5-on-google-colab-1",level:3},{value:"3. Deploy the trained model and perform inference",id:"3-deploy-the-trained-model-and-perform-inference",level:2},{value:"Bonus content",id:"bonus-content",level:2},{value:"Can I train an AI model on my PC?",id:"can-i-train-an-ai-model-on-my-pc",level:3},{value:"Resources",id:"resources",level:2},{value:"Tech Support",id:"tech-support",level:2}],d={toc:p};function u(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"train-and-deploy-your-own-ai-model-into-sensecap-a1101"},"Train and Deploy Your Own AI Model Into SenseCAP A1101"),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"In this wiki, we will teach you how to train your own AI model for your specific application and then deploy it easily to the SenseCAP A1101 - LoRaWAN Vision AI Sensor. Let's get started!"),(0,o.kt)("h2",{id:"hardware-introduction"},"Hardware introduction"),(0,o.kt)("p",null,"We will mainly use SenseCAP A1101 - LoRaWAN Vision AI Sensor throughout this wiki. So first, let's become familiar with this hardware."),(0,o.kt)("h3",{id:"sensecap-a1101---lorawan-vision-ai-sensor"},"SenseCAP A1101 - LoRaWAN Vision AI Sensor"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/SenseCAP-A1101-LoRaWAN-Vision-AI-Sensor-p-5367.html"},"SenseCAP A1101 - LoRaWAN Vision AI Sensor")," combines TinyML AI technology and LoRaWAN long-range transmission to enable a low-power, high-performance AI device solution for outdoor use. This sensor features Himax's high-performance, low-power AI vision solution which supports the Google TensorFlow Lite framework and multiple TinyML AI platforms. Different models can implement different AI functions, for example, pest detection, people counting, object recognition. Users can adopt models provided by Seeed, generate their own models through AI training tools, or procure deployable, commercial models from Seeed's partner model providers."),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/60.jpg"})),(0,o.kt)("h2",{id:"software-introduction"},"Software introduction"),(0,o.kt)("p",null,"We will be using the following software technologies in this wiki"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Roboflow - for annotating"),(0,o.kt)("li",{parentName:"ul"},"YOLOv5 - for training"),(0,o.kt)("li",{parentName:"ul"},"TensorFlow Lite - for inferencing")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{600}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/57.png"})),(0,o.kt)("h3",{id:"what-is-roboflow"},"What is Roboflow?"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://roboflow.com"},"Roboflow")," is an annotation tool based online. This tool allows you to easily annotate all your images, add further processing to these images and export the labeled dataset into different formats such as YOLOV5 PyTorch, Pascal VOC, and more! Roboflow also has public datasets readily available to users."),(0,o.kt)("h3",{id:"what-is-yolov5"},"What is YOLOv5?"),(0,o.kt)("p",null,"YOLO is an abbreviation for the term \u2018You Only Look Once\u2019. It is an algorithm that detects and recognizes various objects in an image in real-time. Ultralytics ",(0,o.kt)("a",{parentName:"p",href:"https://ultralytics.com/yolov5"},"YOLOv5")," is the version of YOLO based on the PyTorch framework."),(0,o.kt)("h3",{id:"what-is-tensorflow-lite"},"What is TensorFlow Lite?"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.tensorflow.org/lite"},"TensorFlow Lite")," is an open-source, product ready, cross-platform deep learning framework that converts a pre-trained model in TensorFlow to a special format that can be optimized for speed or storage. The special format model can be deployed on edge devices like mobiles using Android or iOS or Linux based embedded devices like Raspberry Pi or Microcontrollers to make the inference at the Edge."),(0,o.kt)("h2",{id:"wiki-structure"},"Wiki structure"),(0,o.kt)("p",null,"This wiki will be divided into three main sections"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#1-train-your-own-ai-model-with-a-public-dataset"},"Train your own AI model with a public dataset")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#2-train-your-own-ai-model-with-your-own-dataset"},"Train your own AI model with your own dataset")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#3-deploy-the-trained-model-and-perform-inference"},"Deploy the trained AI model into SenseCAP A1101"))),(0,o.kt)("p",null,"The first section will be the fastest way to build your own AI model with the least number of steps. The second section will take some time and effort to build your own AI model, but it will be definitely worth the knowledge. The third section about deploying the AI model can be done either after first or second section."),(0,o.kt)("p",null,"So there are two ways to follow this wiki:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Follow ",(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#1-train-your-own-ai-model-with-a-public-dataset"},"section 1")," and then ",(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#3-deploy-the-trained-model-and-perform-inference"},"section 3")," - fast to follow"),(0,o.kt)("li",{parentName:"ol"},"Follow ",(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#2-train-your-own-ai-model-with-your-own-dataset"},"section 2")," and then ",(0,o.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#3-deploy-the-trained-model-and-perform-inference"},"section 3")," - slow to follow")),(0,o.kt)("p",null,"However, we encourage to follow the first way at first and then move onto the second way."),(0,o.kt)("h2",{id:"1-train-your-own-ai-model-with-a-public-dataset"},"1. Train your own AI model with a public dataset"),(0,o.kt)("p",null,"The very first step of an object detection project is to obtain data for training. You can either download datasets available publicly or create your own dataset!"),(0,o.kt)("p",null,"But what is the fastest and easiest way to get started with object detection? Well...Using public datasets can save you a lot of time that you would otherwise spend on collecting data by yourself and annotating them. These public datasets are already annotated out-of-the-box, giving you more time to focus on your AI vision applications."),(0,o.kt)("h3",{id:"hardware-preparation"},"Hardware preparation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"SenseCAP A1101 - LoRaWAN Vision AI Sensor"),(0,o.kt)("li",{parentName:"ul"},"USB Type-C cable"),(0,o.kt)("li",{parentName:"ul"},"Windows/ Linux/ Mac with internet access")),(0,o.kt)("h3",{id:"software-preparation"},"Software preparation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"No need to prepare additional software")),(0,o.kt)("h3",{id:"use-publicly-available-annotated-dataset"},"Use publicly available annotated dataset"),(0,o.kt)("p",null,"You can download a number of publically available datasets such as the  ",(0,o.kt)("a",{parentName:"p",href:"https://cocodataset.org"},"COCO dataset"),", ",(0,o.kt)("a",{parentName:"p",href:"http://host.robots.ox.ac.uk/pascal/VOC"},"Pascal VOC dataset")," and much more. ",(0,o.kt)("a",{parentName:"p",href:"https://universe.roboflow.com"},"Roboflow Universe")," is a recommended platform which provides a wide-range of datasets and it has ",(0,o.kt)("a",{parentName:"p",href:"https://blog.roboflow.com/computer-vision-datasets-and-apis"},"90,000+ datasets with 66+ million images")," available for building computer vision models. Also, you can simply search ",(0,o.kt)("strong",{parentName:"p"},"open-source datasets")," on Google and choose from a variety of datasets available."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 1.")," Visit ",(0,o.kt)("a",{parentName:"p",href:"https://universe.roboflow.com/lakshantha-dissanayake/apple-detection-5z37o/dataset/1"},"this URL")," to access an Apple Detection dataset available publicly on Roboflow Universe")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 2.")," Click ",(0,o.kt)("strong",{parentName:"p"},"Create Account")," to create a Roboflow account"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/53.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Click ",(0,o.kt)("strong",{parentName:"li"},"Download"),", select ",(0,o.kt)("strong",{parentName:"li"},"YOLO v5 PyTorch")," as the ",(0,o.kt)("strong",{parentName:"li"},"Format"),", click ",(0,o.kt)("strong",{parentName:"li"},"show download code")," and click ",(0,o.kt)("strong",{parentName:"li"},"Continue"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/51.png"})),(0,o.kt)("p",null,"This will generate a code snippet that we will use later inside Google Colab training. So please keep this window open in the background."),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{700}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/52.png"})),(0,o.kt)("h3",{id:"train-using-yolov5-on-google-colab"},"Train using YOLOv5 on Google Colab"),(0,o.kt)("p",null,"After we have chosen a public dataset, we need to train the dataset. Here we use a Google Colaboratory environment to perform training on the cloud. Furthermore, we use Roboflow api within Colab to easily download our dataset."),(0,o.kt)("p",null,"Click ",(0,o.kt)("a",{parentName:"p",href:"https://colab.research.google.com/gist/lakshanthad/b47a1d1a9b4fac43449948524de7d374/yolov5-training-for-sensecap-a1101.ipynb"},"here")," to open an already prepared Google Colab workspace, go through the steps mentioned in the workspace and run the code cells one by one."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," On Google Colab, in the code cell under ",(0,o.kt)("strong",{parentName:"p"},"Step 4"),", you can directly copy the code snippet from Roboflow as mentioned above"),(0,o.kt)("p",null,"It will walkthrough the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Setup an environment for training"),(0,o.kt)("li",{parentName:"ul"},"Download a dataset"),(0,o.kt)("li",{parentName:"ul"},"Perform the training"),(0,o.kt)("li",{parentName:"ul"},"Download the trained model")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/18.png"})),(0,o.kt)("p",null,"For an apple detection dataset with 699 images, it took around 7 minutes to finish the training process on Google Colab running on NVIDIA Tesla T4 GPU with 16GB GPU memory."),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/43.png"})),(0,o.kt)("p",null,"If you followed the above Colab project, you know that you can load 4 models to the device all at once. However, please note that only one model can be loaded at a time. This can be specified by the user and will be explained later in this wiki."),(0,o.kt)("h3",{id:"deploy-and-inference"},"Deploy and inference"),(0,o.kt)("p",null,"If you directly want to jump to ",(0,o.kt)("strong",{parentName:"p"},"section 3")," which explains how to deploy the trained AI model into SenseCAP A1101 and perform inference, ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#3-deploy-the-trained-model-and-perform-inference"},"click here"),"."),(0,o.kt)("h2",{id:"2-train-your-own-ai-model-with-your-own-dataset"},"2. Train your own AI model with your own dataset"),(0,o.kt)("p",null,"If you want to build specific object detection projects where the public datasets do not have the objects that you want to detect, you might want to build your own dataset.  When you record data for your own dataset, you have to make sure that you cover all angles (360 degrees) of the object, place the object in different environments, different lighting and different weather conditions. After recording your own dataset, you also have to annotate the images in the datset. All these steps will be convered in this section."),(0,o.kt)("p",null,"Eventhough there are different methods of collecting data such as using a mobile phone camera, the best way to collect data is to use the in-built camera on the SenseCAP A1101. This is because the colors, image quality and other details will be similar when we perform inference on SenseCAP A1101 which makes the overall detection more accurate."),(0,o.kt)("h3",{id:"hardware-preparation-1"},"Hardware preparation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"SenseCAP A1101 - LoRaWAN Vision AI Sensor"),(0,o.kt)("li",{parentName:"ul"},"USB Type-C cable"),(0,o.kt)("li",{parentName:"ul"},"Windows/ Linux/ Mac with internet access")),(0,o.kt)("h3",{id:"software-preparation-1"},"Software preparation"),(0,o.kt)("p",null,"Now let's setup the software. The software setup for Windows, Linux and Intel Mac will be same whereas for M1/M2 Mac will be different."),(0,o.kt)("h4",{id:"windows-linux-intel-mac"},"Windows, Linux, Intel Mac"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 1.")," Make sure Python is already installed on the computer. If not, visit ",(0,o.kt)("a",{parentName:"p",href:"https://www.python.org/downloads/"},"this page")," to download and install latest version of Python")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 2.")," Install the following dependency"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"pip3 install libusb1\n")),(0,o.kt)("h4",{id:"m1-m2-mac"},"M1/ M2 Mac"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 1.")," Install Homebrew")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 2.")," Install conda")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"brew install conda\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Download libusb")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wget https://conda.anaconda.org/conda-forge/osx-arm64/libusb-1.0.26-h1c322ee_100.tar.bz2\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 4.")," Install libusb")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"conda install libusb-1.0.26-h1c322ee_100.tar.bz2\n")),(0,o.kt)("h3",{id:"collect-dataset"},"Collect dataset"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 1.")," Connect SenseCAP A1101 to PC by using USB Type-C cable")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{500}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/38.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 2.")," Double click the boot button to enter ",(0,o.kt)("strong",{parentName:"li"},"boot mode"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{500}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/39.png"})),(0,o.kt)("p",null,"After this you will see a new storage drive shown on your file explorer as ",(0,o.kt)("strong",{parentName:"p"},"VISIONAI")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," The below image will be updated soon with the addition of ",(0,o.kt)("strong",{parentName:"p"},"VISIONAI")," drive"),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/19.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Drag and drop ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/Seeed_Arduino_GroveAI/raw/master/tools/capture_images_A1101_firmware.uf2"},"this .uf2 file")," to ",(0,o.kt)("strong",{parentName:"li"},"VISIONAI")," drive")),(0,o.kt)("p",null,"As soon as the uf2 finishes copying into the drive, the drive will disappear. This means the uf2 has been successfully uploaded to the module."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 4.")," Copy and paste ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/Seeed_Arduino_GroveAI/blob/master/tools/capture_images_script.py"},"this Python script")," inside a newly-created file named ",(0,o.kt)("strong",{parentName:"p"},"capture_images_script.py")," on your PC")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 5.")," Execute the Python script to start capturing images"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"python3 capture_images_script.py\n")),(0,o.kt)("p",null,"By default, it will capture an image every 300ms. If you want to change this, you can run the script in this format"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"python3 capture_images_script.py --interval <time_in_ms>\n")),(0,o.kt)("p",null,"For example, to capture an image every second"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"python3 capture_images_script.py --interval 1000\n")),(0,o.kt)("p",null,"After the above script is executed, SenseCAP A1101 will start to capture images from the in-built cameras continuosly and save all of them inside a folder named ",(0,o.kt)("strong",{parentName:"p"},"save_img")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/41.png"})),(0,o.kt)("p",null,"Also, it will open a preview window while it is recording"),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/40.jpg"})),(0,o.kt)("p",null,"After you have enough images captured, click on the terminal window and press the following key combinations to stop the capturing process"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Windows: Ctrl + Break"),(0,o.kt)("li",{parentName:"ul"},"Linux: Ctrl + Shift + \\"),(0,o.kt)("li",{parentName:"ul"},"Mac: CMD + Shift + \\")),(0,o.kt)("h3",{id:"change-device-firmware-after-image-collection"},"Change device firmware after image collection"),(0,o.kt)("p",null,"After you have finished recording images for the dataset, you need to make sure to change the firmware inside the SenseCAP A1101 back to original, so that you can again load object detection models for detection. Let's go through the steps now."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 1.")," Enter ",(0,o.kt)("strong",{parentName:"p"},"Boot mode")," on SenseCAP A1101 as explained before")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 2.")," Drag and drop ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/Seeed_Arduino_GroveAI/raw/master/tools/A1101_default_firmware.uf2"},"this .uf2 file")," to ",(0,o.kt)("strong",{parentName:"p"},"VISIONAI")," drive according to your device"))),(0,o.kt)("p",null,"As soon as the uf2 finishes copying into the drive, the drive will disappear. This means the uf2 has been successfully uploaded to the module."),(0,o.kt)("h3",{id:"annotate-dataset-using-roboflow"},"Annotate dataset using Roboflow"),(0,o.kt)("p",null,"If you use your own dataset, you will need to annotate all the images in your dataset. Annotating means simply drawing rectangular boxes around each object that we want to detect and assign them labels. We will explain how to do this using Roboflow."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://roboflow.com"},"Roboflow"),' is an annotation tool based online. Here we can directly import the video footage that we have recorded into Roboflow and it will be exported into a series of images. This tool is very convenient because it will let us help distribute the dataset into "training, validation and testing". Also this tool will allow us to add further processing to these images after labelling them. Furthermore, it can easily export the labelled dataset into ',(0,o.kt)("strong",{parentName:"p"},"YOLOV5 PyTorch format")," which is what we exactly need!"),(0,o.kt)("p",null,"For this wiki, we will use a dataset with images containing apples so that we can detect apples later on and do counting as well."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 1.")," Click ",(0,o.kt)("a",{parentName:"p",href:"https://app.roboflow.com/login"},"here")," to sign up for a Roboflow account")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 2.")," Click ",(0,o.kt)("strong",{parentName:"p"},"Create New Project")," to start our project"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/YOLOV5/2.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Fill in ",(0,o.kt)("strong",{parentName:"li"},"Project Name"),", keep the ",(0,o.kt)("strong",{parentName:"li"},"License (CC BY 4.0)")," and ",(0,o.kt)("strong",{parentName:"li"},"Project type (Object Detection (Bounding Box))"),"  as default. Under ",(0,o.kt)("strong",{parentName:"li"},"What will your model predict?")," column, fill in an annotation group name. For example, in our case we choose ",(0,o.kt)("strong",{parentName:"li"},"apples"),". This name should highlight all of the classes of your dataset. Finally, click ",(0,o.kt)("strong",{parentName:"li"},"Create Public Project"),".")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{350}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/6.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 4.")," Drag and drop the images that you have captured using SenseCAP A1101")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/7.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 5.")," After the images are processed, click ",(0,o.kt)("strong",{parentName:"li"},"Finish Uploading"),". Wait patiently until the images are uploaded.")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/4.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 6.")," After the images are uploaded, click ",(0,o.kt)("strong",{parentName:"li"},"Assign Images"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{300}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/5.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 7.")," Select an image, draw a rectangular box around an apple, choose the label as ",(0,o.kt)("strong",{parentName:"li"},"apple")," and press ",(0,o.kt)("strong",{parentName:"li"},"ENTER"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/9.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 8.")," Repeat the same for the remaining apples")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/10.png"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," Try to label all the apples that you see inside the image. If only a part of an apple is visible, try to label that too."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 9.")," Continue to annotate all the images in the dataset")),(0,o.kt)("p",null,"Roboflow has a feature called ",(0,o.kt)("strong",{parentName:"p"},"Label Assist")," where it can predict the labels beforehand so that your labelling will be much faster. However, it will not work with all object types, but rather a selected type of objects. To turn this feature on, you simply need to press the ",(0,o.kt)("strong",{parentName:"p"},"Label Assist")," button, ",(0,o.kt)("strong",{parentName:"p"},"select a model"),", ",(0,o.kt)("strong",{parentName:"p"},"select the classes")," and navigate through the images to see the predicted labels with bounding boxes"),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{200}",src:"https://files.seeedstudio.com/wiki/YOLOV5/41.png"})),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{400}",src:"https://files.seeedstudio.com/wiki/YOLOV5/39.png"})),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{400}",src:"https://files.seeedstudio.com/wiki/YOLOV5/40.png"})),(0,o.kt)("p",null,"As you can see above, it can only help to predict annotations for the 80 classes mentioned. If your images do not contain the object classes from above, you cannot use the label assist feature."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 10.")," Once labelling is done, click ",(0,o.kt)("strong",{parentName:"li"},"Add images to Dataset"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/YOLOV5/25.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 11."),' Next we will split the images between "Train, Valid and Test". Keep the default percentages for the distribution and click ',(0,o.kt)("strong",{parentName:"li"},"Add Images"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{330}",src:"https://files.seeedstudio.com/wiki/YOLOV5/26.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 12.")," Click ",(0,o.kt)("strong",{parentName:"li"},"Generate New Version"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/YOLOV5/27.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 13.")," Now you can add ",(0,o.kt)("strong",{parentName:"li"},"Preprocessing")," and ",(0,o.kt)("strong",{parentName:"li"},"Augmentation")," if you prefer. Here we will ",(0,o.kt)("strong",{parentName:"li"},"change")," the ",(0,o.kt)("strong",{parentName:"li"},"Resize")," option to ",(0,o.kt)("strong",{parentName:"li"},"192x192"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/11.png"})),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{450}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/13.png"})),(0,o.kt)("p",null,"Here we change the image size to 192x192 because we will use that size for training and the training will be faster. Otherwise, it will have to convert all images to 192x192 during the training process which consumes more CPU resources and makes the training process slower."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 14.")," Next, proceed with the remaining defaults and click ",(0,o.kt)("strong",{parentName:"li"},"Generate"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/14.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 15.")," Click ",(0,o.kt)("strong",{parentName:"li"},"Export"),", select ",(0,o.kt)("strong",{parentName:"li"},"Format")," as ",(0,o.kt)("strong",{parentName:"li"},"YOLO v5 PyTorch"),", select ",(0,o.kt)("strong",{parentName:"li"},"show download code")," and click ",(0,o.kt)("strong",{parentName:"li"},"Continue"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/54.png"})),(0,o.kt)("p",null,"This will generate a code snippet that we will use later inside Google Colab training. So please keep this window open in the background."),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{600}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/55.png"})),(0,o.kt)("h3",{id:"train-using-yolov5-on-google-colab-1"},"Train using YOLOv5 on Google Colab"),(0,o.kt)("p",null,"After we are done with annotating the dataset, we need to train the dataset. Jump to ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Train-Deploy-AI-Model/#train-using-yolov5-on-google-colab"},"this part")," which explains how to train an AI model using YOLOv5 running on Google Colab."),(0,o.kt)("h2",{id:"3-deploy-the-trained-model-and-perform-inference"},"3. Deploy the trained model and perform inference"),(0,o.kt)("p",null,"Now we will move the ",(0,o.kt)("strong",{parentName:"p"},"model-1.uf2")," that we obtained at the end of the training into SenseCAP A1101."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 1.")," Install the latest version of ",(0,o.kt)("a",{parentName:"p",href:"https://www.google.com/chrome"},"Google Chrome")," or ",(0,o.kt)("a",{parentName:"p",href:"https://www.microsoft.com/en-us/edge?r=1"},"Microsoft Edge browser")," and open it")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 2.")," Connect SenseCAP A1101 into your PC via a USB Type-C cable"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{500}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/38.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Double-click the boot button on SenseCAP A1101 to enter mass storage mode")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{500}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/39.png"})),(0,o.kt)("p",null,"After this you will see a new storage drive shown on your file explorer as ",(0,o.kt)("strong",{parentName:"p"},"VISIONAI"),"  "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," The below image shows the drive as ",(0,o.kt)("strong",{parentName:"p"},"GROVEAI"),". It will be updated soon to ",(0,o.kt)("strong",{parentName:"p"},"VISIONAI"),"  "),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/19.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 4.")," Drag and drop the ",(0,o.kt)("strong",{parentName:"li"},"model-1.uf2")," file to ",(0,o.kt)("strong",{parentName:"li"},"VISIONAI")," drive")),(0,o.kt)("p",null,"As soon as the uf2 finishes copying into the drive, the drive will disappear. This means the uf2 has been successfully uploaded to the module."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," If you have 4 model files ready, you can drag and drop each model one-by-one. Drop first model, wait until it finishes copying, enter boot mode again, drop second model and so on. If you have only loaded one model (with index 1) into SenseCAP A1101, it will load that model."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 5.")," Open ",(0,o.kt)("strong",{parentName:"p"},"SenseCAP Mate App"),". If you do not have it, download and install it on your mobile phone according to your OS"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://play.google.com/store/apps/details?id=cc.seeed.sensecapmate&hl=en&gl=US"},"Android")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://apps.apple.com/gb/app/sensecap-mate/id1619944834"},"iOS")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Step 6.")," Open the app, under ",(0,o.kt)("strong",{parentName:"p"},"Config")," screen, select ",(0,o.kt)("strong",{parentName:"p"},"Vision AI Sensor")))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/21.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 7.")," Press and hold the configuration button on the SenseCap A1101 for 3 seconds to enter bluetooth pairing mode")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/37.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 8.")," Click ",(0,o.kt)("strong",{parentName:"li"},"Setup")," and it will start scanning for nearby SenseCAP A1101 devices")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/23.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 9.")," Click on the device found")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/24.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 10.")," Go to ",(0,o.kt)("strong",{parentName:"li"},"Settings")," and make sure ",(0,o.kt)("strong",{parentName:"li"},"Object Detection")," is selected. If not, select it and click ",(0,o.kt)("strong",{parentName:"li"},"Send"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/25.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 11.")," Go to ",(0,o.kt)("strong",{parentName:"li"},"General")," and click ",(0,o.kt)("strong",{parentName:"li"},"Detect"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{280}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/26.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 12.")," ",(0,o.kt)("a",{parentName:"li",href:"https://files.seeedstudio.com/grove_ai_vision/index.html"},"Click here")," to open a preview window of the camera stream")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/31.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 13.")," Click ",(0,o.kt)("strong",{parentName:"li"},"Connect")," button. Then you will see a pop up on the browser. Select ",(0,o.kt)("strong",{parentName:"li"},"Grove AI - Paired")," and click ",(0,o.kt)("strong",{parentName:"li"},"Connect"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/32.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 14.")," View real-time inference results using the preview window!")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/33.jpg"})),(0,o.kt)("p",null,'As you can see above, the apples are being detected with bounding boxes around them. Here "0" corresponds to each detection of the same class. If you have multiple classes, they will be named as 0,1,2,3,4 and so on. Also the confidence score for each detected apple (0.8 and 0.84 in above demo) is being displayed!'),(0,o.kt)("h2",{id:"bonus-content"},"Bonus content"),(0,o.kt)("p",null,"If you feel more adventurous, you can continue to follow the rest of the wiki!"),(0,o.kt)("h3",{id:"can-i-train-an-ai-model-on-my-pc"},"Can I train an AI model on my PC?"),(0,o.kt)("p",null,"You can also use your own PC to train an object detection model. However, the training preformance will depend on the hardware you have. You also need to have a PC with a Linux OS for training. We have used an Ubuntu 20.04 PC for this wiki."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 1.")," Clone the ",(0,o.kt)("strong",{parentName:"li"},"yolov5-swift repo")," and install ",(0,o.kt)("strong",{parentName:"li"},"requirements.txt")," in a ",(0,o.kt)("strong",{parentName:"li"},"Python>=3.7.0")," environment")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Seeed-Studio/yolov5-swift \ncd yolov5-swift\npip install -r requirements.txt\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 2.")," If you followed the steps in this wiki before, you might remember that we exported the dataset after annotating in Robolflow. Also in Roboflow Universe, we downloaded the dataset. In both methods, there was a window like below where it asks what kind of format to download the dataset. So now, please select ",(0,o.kt)("strong",{parentName:"li"},"download zip to computer"),", under ",(0,o.kt)("strong",{parentName:"li"},"Format")," choose ",(0,o.kt)("strong",{parentName:"li"},"YOLO v5 PyTorch")," and click ",(0,o.kt)("strong",{parentName:"li"},"Continue"))),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{400}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/16.png"})),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{400}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/17.png"})),(0,o.kt)("p",null,"After that, a ",(0,o.kt)("strong",{parentName:"p"},".zip file")," will be downloaded to your computer"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 3.")," Copy and paste the .zip file that we downloaded into ",(0,o.kt)("strong",{parentName:"li"},"yolov5-swift")," directory and extract it")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"# example\ncp ~/Downloads/Apples.v1i.yolov5pytorch.zip ~/yolov5-swift\nunzip Apples.v1i.yolov5pytorch.zip\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 4.")," Open ",(0,o.kt)("strong",{parentName:"li"},"data.yaml")," file and edit ",(0,o.kt)("strong",{parentName:"li"},"train")," and ",(0,o.kt)("strong",{parentName:"li"},"val")," directories as follows")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"train: train/images\nval: valid/images\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 5.")," Download a pre-trained model suitable for our training")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install wget\nwget https://github.com/Seeed-Studio/yolov5-swift/releases/download/v0.1.0-alpha/yolov5n6-xiao.pt\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 6.")," Execute the following to start training")),(0,o.kt)("p",null,"Here, we are able to pass a number of arguments:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"img:")," define input image size"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"batch:")," determine batch size"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"epochs:")," define the number of training epochs"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"data:")," set the path to our yaml file"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"cfg:")," specify our model configuration"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"weights:")," specify a custom path to weights"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"name:")," result names"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"nosave:")," only save the final checkpoint"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"cache:")," cache images for faster training")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"python3 train.py --img 192 --batch 64 --epochs 100 --data data.yaml --cfg yolov5n6-xiao.yaml --weights yolov5n6-xiao.pt --name yolov5n6_results --cache\n")),(0,o.kt)("p",null,"For an apple detection dataset with 987 images, it took around 30 minutes to finish the training process on a Local PC running on NVIDIA GeForce GTX 1660 Super GPU with 6GB GPU memory."),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/44.png"})),(0,o.kt)("p",null,"If you followed the above Colab project, you know that you can load 4 models to the device all at once. However, please not that only one model can be loaded at a time. This can be specified by the user and will be explained later in this wiki."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 7.")," If you navigate to ",(0,o.kt)("inlineCode",{parentName:"li"},"runs/train/exp/weights"),", you will see a file called ",(0,o.kt)("strong",{parentName:"li"},"best.pt"),". This is the generated model from training.")),(0,o.kt)("div",{align:"center"},(0,o.kt)("img",{width:"{600}",src:"https://files.seeedstudio.com/wiki/YOLOV5/33.jpg"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 8.")," Export the trained model to TensorFlow Lite")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"python3 export.py --data {dataset.location}/data.yaml --weights runs/train/yolov5n6_results/weights/best.pt --imgsz 192 --int8 --include tflite  \n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 9.")," Convert TensorFlow Lite to a UF2 file")),(0,o.kt)("p",null,"UF2 is a file format, developed by Microsoft. Seeed uses this format to convert .tflite to .uf2, allowing tflite files to be stored on the AIoT devices launched by Seeed. Currently Seeed's devices support up to 4 models, each model (.tflite) is less than 1M ."),(0,o.kt)("p",null,"You can specify the model to be placed in the corresponding index with -t."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-t 1"),": index 1"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-t 2"),": index 2")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"# Place the model to index 1\npython3 uf2conv.py -f GROVEAI -t 1 -c runs//train/yolov5n6_results//weights/best-int8.tflite -o model-1.uf2\n")),(0,o.kt)("p",null,"Eventhough you can load 4 models to the device all at once, please not that only one model can be loaded at a time. This can be specified by the user and will be explained later in this wiki."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Step 10.")," Now a file named ",(0,o.kt)("strong",{parentName:"li"},"model-1.uf2")," will be generated. This is the file that we will load into the SenseCAP A1101 Module to perform the inference!")),(0,o.kt)("h2",{id:"resources"},"Resources"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,o.kt)("a",{parentName:"p",href:"https://docs.ultralytics.com"},"YOLOv5 Documentation"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,o.kt)("a",{parentName:"p",href:"https://ultralytics.com/hub"},"Ultralytics HUB"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,o.kt)("a",{parentName:"p",href:"https://docs.roboflow.com"},"Roboflow Documentation"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,o.kt)("a",{parentName:"p",href:"https://www.tensorflow.org/lite/guide"},"TensorFlow Lite Documentation"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[PDF]")," ",(0,o.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/SenseCAP_A1101_spec.pdf"},"SenseCAP A1101 LoRaWAN Vision AI Sensor Specification"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[PDF]")," ",(0,o.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/SenseCAP_A1101_LoRaWAN_Vision_AI_Sensor_User_Guide_V1.0.2.pdf"},"SenseCAP A1101 LoRaWAN Vision AI Sensor User Guide"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[PDF]")," ",(0,o.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/products/114992867/SenseCAP%20S210X%20LoRaWAN%20Sensor%20Catalogue.pdf"},"SenseCAP S210X LoRaWAN Sensor Catalogue"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"[PDF]")," ",(0,o.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/SenseCAP-A1101/FAQ_for_SenseCAP_A1101_LoRaWAN_AI_Vision_Sensor_v1.0.0.pdf"},"FAQ for SenseCAP A1101 LoRaWAN Vision AI Sensor")))),(0,o.kt)("h2",{id:"tech-support"},"Tech Support"),(0,o.kt)("p",null,"Please submit any technical issue into our ",(0,o.kt)("a",{parentName:"p",href:"https://forum.seeedstudio.com/"},"forum"),". ",(0,o.kt)("br",null)),(0,o.kt)("p",{style:{textAlign:"center"}},(0,o.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,o.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"}))))}u.isMDXComponent=!0}}]);