"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[21538],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=i.createContext({}),s=function(e){var t=i.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(a),c=n,k=u["".concat(p,".").concat(c)]||u[c]||m[c]||o;return a?i.createElement(k,r(r({ref:t},d),{},{components:a})):i.createElement(k,r({ref:t},d))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:n,r[1]=l;for(var s=2;s<o;s++)r[s]=a[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}c.displayName="MDXCreateElement"},88967:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var i=a(87462),n=(a(67294),a(3905));const o={title:"Wio-E5 STM32WLE5JC Module",nointro:null,keywords:["wio","docusaurus"],image:"https://wiki.seeedstudio.com/wio_gps_board/",last_update:{date:"01/30/2023",author:"hushuxu"}},r=void 0,l={unversionedId:"Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module",id:"Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module",title:"Wio-E5 STM32WLE5JC Module",description:"LoRaWAN\xae is a mark used under license from the LoRa Alliance\xae.",source:"@site/docs/Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module.md",sourceDirName:"Sensor/Wio_Series/Wio-E5",slug:"/Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module",permalink:"/docusaurus_wiki/zh-CN/Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Sensor/Wio_Series/Wio-E5/LoRa-E5_STM32WLE5JC_Module.md",tags:[],version:"current",lastUpdatedBy:"hushuxu",lastUpdatedAt:1675036800,formattedLastUpdatedAt:"2023\u5e741\u670830\u65e5",frontMatter:{title:"Wio-E5 STM32WLE5JC Module",nointro:null,keywords:["wio","docusaurus"],image:"https://wiki.seeedstudio.com/wio_gps_board/",last_update:{date:"01/30/2023",author:"hushuxu"}},sidebar:"ProductSidebar",previous:{title:"Wio-E5 Development Kit",permalink:"/docusaurus_wiki/zh-CN/Sensor/Wio_Series/Wio-E5/LoRa_E5_Dev_Board"},next:{title:"LoRaWAN\xae Gateway Module WM1302",permalink:"/docusaurus_wiki/zh-CN/Sensor/Wio_Series/Wio_WM1302/WM1302_module"}},p={},s=[{value:"Product Introduction",id:"product-introduction",level:2},{value:"Features",id:"features",level:2},{value:"Applications",id:"applications",level:2},{value:"Application Notes",id:"application-notes",level:2},{value:"Hardware Pinout",id:"hardware-pinout",level:2},{value:"Specifications",id:"specifications",level:2},{value:"Sources",id:"sources",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"1. Quick start of AT Commands",id:"1-quick-start-of-at-commands",level:3},{value:"1.1 Preparation",id:"11-preparation",level:4},{value:"1.3 Connect and send data to The Things Network",id:"13-connect-and-send-data-to-the-things-network",level:4},{value:"Develop with STM32Cube MCU Package",id:"develop-with-stm32cube-mcu-package",level:3},{value:"Preparations",id:"preparations",level:4},{value:"GPIO Configuration Overview",id:"gpio-configuration-overview",level:4},{value:"Applications",id:"applications-1",level:3},{value:"LoRaWAN\xae End Node",id:"lorawan-end-node",level:4},{value:"FreeRTOS LoRaWAN\xae",id:"freertos-lorawan",level:4},{value:"FreeRTOS LoRaWAN\xae AT",id:"freertos-lorawan-at",level:4},{value:"FreeRTOS LowPower",id:"freertos-lowpower",level:4},{value:"Tech Support",id:"tech-support",level:2}],d={toc:s};function u(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/product.jpg",alt:"pir",width:600,height:"auto"})),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/LoRa-E5-Wireless-Module-p-4745.html"},(0,n.kt)("p",null,(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/common/Get_One_Now_Banner.png",alt:"pir",width:600,height:"auto"})))," "),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"LoRaWAN\xae is a mark used under license from the LoRa Alliance\xae.\nThe LoRa\xae Mark is a trademark of Semtech Corporation or its subsidiaries.")),(0,n.kt)("h2",{id:"product-introduction"},"Product Introduction"),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre"},"    We has recently released the Wio-E5 Series based on Wio-E5 module. Click [here](https://www.seeedstudio.com/lora-c-755.html?product_list_stock=3) to meet new members of the Wio-E5 family from the [Grove module](https://wiki.seeedstudio.com/Grove_LoRa_E5_New_Version/), [mini Dev boards](https://wiki.seeedstudio.com/LoRa_E5_mini/) to [Development Kit](https://wiki.seeedstudio.com/LoRa_E5_Dev_Board/). To learn more on creating a LoRaWAN End Node with STM32Cube MCU Package for STM32WL series(SDK), to join and to send data to LoRaWAN Network, read more on wiki pages for [mini Dev boards](https://wiki.seeedstudio.com/LoRa_E5_mini/) and [Development Kit](https://wiki.seeedstudio.com/LoRa_E5_Dev_Board/).\n"))),(0,n.kt)("p",null,"Wio-E5 is a low-cost, ultra-low power, extremely compact, and high-performance LoRaWAN\xae Module designed by Seeed Technology Co., Ltd. ",(0,n.kt)("strong",{parentName:"p"},"It contains ST system-level package chip STM32WLE5JC, which is the world first SoC integrated with the combo of LoRa\xae RF and MCU chip.")," This module is also embedded with ARM Cortex M4 ultra-low-power MCU and LoRa\xae SX126X, and therefore supports (G)FSK mode and LoRa\xae. 62.5kHz, 125kHz, 250kHz, and 500kHz bandwidth can be used in LoRa\xae mode, making it suitable for the design of various IoT nodes, supporting EU868 and US915."),(0,n.kt)("p",null,"This Wio E5 module is designed with industrial standards, hence it's highly suitable to be used in designing industrial IoT products, with a wide working temperature at -40\u2103 ~ 85\u2103."),(0,n.kt)("p",null,"If you are not quite familiar with LoRa\xae and LoRaWAN\xae, check out this article ",(0,n.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/blog/2020/08/03/lorapedia-an-introduction-of-lora-and-lorawan-technology/"},"LoRapedia")," for detail."),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/products/113990934/%E8%8A%AF%E7%89%87%E5%AF%B9%E6%AF%94_2021.3.4.png",alt:"pir",width:600,height:"auto"})),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/products/317990687/image/3111605248180_.pic.jpg",alt:"pir",width:600,height:"auto"})),"*(extremely compacted size, smaller than 1 euro coin)*",(0,n.kt)("h2",{id:"features"},"Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Ultra-low Power Consumption"),": as low as 2.1uA sleep current (WOR mode)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Extremely Compacted Size"),": 12mm ",(0,n.kt)("em",{parentName:"p"}," 12mm ")," 2.5mm 28 pins SMT")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"High Performance"),": TXOP=22dBm@868/915MHz; -136.5dBm sensitivity for SF12 with 125KHz BW")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Long Distance Use"),": 158dB link budget")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Wireless Connectivity"),": Embedded LoRaWAN\xae protocol, AT command, support global LoRaWAN\xae frequency plan")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Worldwide Compatibility"),": wide frequency range; EU868 / US915 / AU915 / AS923 / KR920 / IN865")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Great Flexibility"),": For users who want to develop software on the MCU of the module, other GPIOs of the MCU can be easily manipulated, including UART, I2C, ADC, etc. These rich GPIO interfaces are useful for users who need to expand peripherals.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"FCC and CE Certified")))),(0,n.kt)("h2",{id:"applications"},"Applications"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Works for LoRaWAN\xae sensor nodes and any wireless communication application.")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/products/317990687/image/application.png",alt:"applications"})),(0,n.kt)("h2",{id:"application-notes"},"Application Notes"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"1. Factroy AT Firmare")),(0,n.kt)("p",null,"Wio-E5 series has a built-in AT command firmware, which supports LoRaWAN\xae Class A/B/C protocol and a wide frequency plan: EU868/US915/AU915/AS923/KR920/IN865. With this AT command firmware, developers can easily and quickly build their prototype or application."),(0,n.kt)("p",null,'The AT command firmware contains a bootloader for DFU and the AT application. The "PB13/SPI_SCK/BOOT" pin is used to control Wio-E5 to stay in the bootloader or jump to the AT application. When PB13 is HIGH, the module will jump to AT application after reset, with a default baud rate of 9600. When PB13 is LOW (press the "Boot" button on Wio-E5 mini/ Wio-E5 Development Kit), the module will stay in the bootloader, and keep transmitting "C" character every 1S at baud rate 115200.'),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre"},'    - Factory AT Firmware is programmed with RDP(Read Protection) Level 1, developers need to remove RDP first with STM32Cube Programmer. Note that regression RDP to level 0 will cause a flash memory mass to erase and the Factory AT Firmware can\'t be restored again.\n    - The "PB13/SPI_SCK/BOOT" pin on the Wio-E5 module is just a normal GPIO, not the "BOOT0" pin of the MCU. This "PB13/SPI_SCK/BOOT" pin is used in the bootloader of the Factory AT firmware, to decide to jump to APP or stay in bootloader(for DFU). The real "BOOT0" pin doesn\'t pinout to the module, so users need to be careful when developing the low-power applications.\n'))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"2. Clock Configuration")),(0,n.kt)("p",null,"2.1 HSE "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"32MHz TCXO")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"TCXO power supply: PB0-VDD_TCXO"))),(0,n.kt)("p",null,"2.2 LSE"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"32.768KHz crystal oscillator")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"3. RF Switch")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Wio-E5 module ONLY transmits through RFO_HP:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Receive: PA4=1, PA5=0")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Transmit(high output power, SMPS mode): PA4=0, PA5=1"))),(0,n.kt)("h2",{id:"hardware-pinout"},"Hardware Pinout"),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/products/317990687/image/pin.jpg",alt:"pir",width:600,height:"auto"})),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/products/317990687/image/pinout.png",alt:"pir",width:600,height:"auto"})),(0,n.kt)("h2",{id:"specifications"},"Specifications"),(0,n.kt)("table",{class:"tg"},(0,n.kt)("thead",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"ITEMs"),(0,n.kt)("th",null,"Parameter"),(0,n.kt)("th",{colspan:"4"},"Specifications"),(0,n.kt)("th",null,"Unit"))),(0,n.kt)("tbody",null,(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"2"},"Structure"),(0,n.kt)("td",null,"Size"),(0,n.kt)("td",{colspan:"4"},"12(W)*12(L)*2.5(H)"),(0,n.kt)("td",null,"mm")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"Package"),(0,n.kt)("td",{colspan:"4"},"28 pins, SMT"),(0,n.kt)("td",null)),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"18"},"Electrical Characteristics"),(0,n.kt)("td",null,"power supply"),(0,n.kt)("td",{colspan:"4"},"3.3V type"),(0,n.kt)("td",null,"V")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"sleep current"),(0,n.kt)("td",{colspan:"4"},"2.1uA(WDT on)"),(0,n.kt)("td",null,"uA")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"3"},"Operation current (Transmitter+MCU)"),(0,n.kt)("td",{colspan:"4"},"50mA @10dBm in 434MHz type"),(0,n.kt)("td",{rowspan:"3"},"mA")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"111mA @22dBm in 470MHz type")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"111mA @22dBm in 868MHz type")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"3"},"Operation current (Receiver+MCU)"),(0,n.kt)("td",{colspan:"4"},"6.7mA @BW125kHz, 868MHz type"),(0,n.kt)("td",{rowspan:"3"},"mA")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"6.7mA @BW125kHz, 434MHz type")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"6.7mA @BW125kHz, 470MHz type")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"3"},"Output power"),(0,n.kt)("td",{colspan:"4"},"10dBm max @434MHz"),(0,n.kt)("td",{rowspan:"3"},"dBm")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"22dBm max @470MHz")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"22dBm max @868MHz")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"5"},"Sensitivity"),(0,n.kt)("td",{colspan:"4"},"@SF12, BW125kHz"),(0,n.kt)("td",{rowspan:"5"},"dBm")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"Fr(MHz)"),(0,n.kt)("td",null,"min"),(0,n.kt)("td",null,"type"),(0,n.kt)("td",null,"max")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"434"),(0,n.kt)("td",null,"-"),(0,n.kt)("td",null,"-134.5"),(0,n.kt)("td",null,"-136")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"470"),(0,n.kt)("td",null,"-"),(0,n.kt)("td",null,"-136.5"),(0,n.kt)("td",null,"-137.5")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"868"),(0,n.kt)("td",null,"-"),(0,n.kt)("td",null,"-135"),(0,n.kt)("td",null,"-137")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"2"},"Harmonics"),(0,n.kt)("td",{colspan:"4"},"< -36dBm below 1GHz"),(0,n.kt)("td",null,"dBm")),(0,n.kt)("tr",null,(0,n.kt)("td",{colspan:"4"},"< -40dBm above 1GHz"),(0,n.kt)("td",null,"dBm")),(0,n.kt)("tr",null,(0,n.kt)("td",{rowspan:"6"},"Interface "),(0,n.kt)("td",null,"RFIO"),(0,n.kt)("td",{colspan:"4"},"RF port"),(0,n.kt)("td",null)),(0,n.kt)("tr",null,(0,n.kt)("td",null,"UART"),(0,n.kt)("td",{colspan:"4"},"3 group of UART, include 2 pins"),(0,n.kt)("td",{class:"tg-2fdn"})),(0,n.kt)("tr",null,(0,n.kt)("td",null,"I2C"),(0,n.kt)("td",{colspan:"4"},"1 group of I2C, include 2 pins"),(0,n.kt)("td",null)),(0,n.kt)("tr",null,(0,n.kt)("td",null,"ADC"),(0,n.kt)("td",{colspan:"4"},"1 ADC Input, include 1 pins, 12-bit 1Msps"),(0,n.kt)("td",null)),(0,n.kt)("tr",null,(0,n.kt)("td",null,"NRST"),(0,n.kt)("td",{colspan:"4"},"Manual reset pin input"),(0,n.kt)("td",null)),(0,n.kt)("tr",null,(0,n.kt)("td",null,"SPI"),(0,n.kt)("td",{colspan:"4"},"1 group of SPI, include 4 pins"),(0,n.kt)("td",null)))),(0,n.kt)("h2",{id:"sources"},"Sources"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20module%20datasheet_V1.0.pdf"},"Wio-E5 datasheet and specifications"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20AT%20Command%20Specification_V1.0%20.pdf"},"Wio-E5 AT Command Specification"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/STM32WLE5JC%20Datasheet.pdf"},"STM32WLE5JC Datasheet"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/RHF0M0E5-HF22-BOM20211111.pdf"}," Wio-E5 BOM")))),(0,n.kt)("p",null,"Certifications:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20Certification%20CE-VOC-RED.pdf"},"Wio-E5-HF Certification CE-VOC-RED"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DSS.pdf"},"Wio-E5-HF FCC Certification -DSS"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DTS.pdf"},"Wio-E5-HF FCC Certification -DTS")))),(0,n.kt)("p",null,"Library: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5_kicad_Library.zip"},"Wio-E5 kicad library"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF_3D_File.stp"},"Wio-E5 HF 3D File"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Wio-E5/LORA-E5_Eagle_Library.lbr"},"Wio-E5 Eagle Library")))),(0,n.kt)("p",null,"Relevant SDK:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubewl.license=1608693595598.product=STM32CubeWL.version=1.0.0.html#overview",target:"_blank"},"STM32Cube MCU Package for STM32WL series")),(0,n.kt)("div",{id:"gtx-trans",style:{position:"absolute",left:"-36px",top:"48.875px"}},(0,n.kt)("div",{className:"gtx-trans-icon"})))),(0,n.kt)("h2",{id:"getting-started"},"Getting Started"),(0,n.kt)("h3",{id:"1-quick-start-of-at-commands"},"1. Quick start of AT Commands"),(0,n.kt)("h4",{id:"11-preparation"},"1.1 Preparation"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 1.")," Connect Wio-E5 Development Board to PC via a Type-C cable")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 2.")," Open a serial tool(eg. Arudino Serial Monitor), select the right COM port, set baudrate to 9600 and select Both NL & CR")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3."),' Try to send "AT" and you will see the response.'))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/4.png",alt:"pir",width:600,height:"auto"})),"#### 1.2 Basic AT Commands",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+ID // Read all, DevAddr(ABP), DevEui(OTAA), AppEui(OTAA)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+ID=DevAddr // Read DevAddr")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+ID=DevEui // Read DevEui")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+ID=AppEui // Read AppEui")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+ID=DevAddr,"devaddr" // Set new DevAddr')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+ID=DevEui,"deveui" // Set new DevEui')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+ID=AppEui,"appeui" // Set new AppEui')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+KEY=APPKEY,"16 bytes length key" // Change application session key')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+DR=band // Change the Band Plans")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+DR=SCHEME // Check current band")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+CH=NUM, 0-7 // Enable channel 0~7")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+MODE="mode" // Select work mode: LWOTAA, LWABP or TEST')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"AT+JOIN // Send JOIN request")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+MSG="Data to send" // Use to send string format frame which is no need to be confirmed by the server')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+CMSG="Data to send" // Use to send string format frame which must be confirmed by the server')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+MSGHEX="xx xx xx xx" // Use to send hex format frame which is no need to be confirmed by the server')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'AT+CMSGHEX="xx xx xx xx" // Use to send hex format frame which must be confirmed by the server'))),(0,n.kt)("h4",{id:"13-connect-and-send-data-to-the-things-network"},"1.3 Connect and send data to The Things Network"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 1.")," Visit ",(0,n.kt)("a",{parentName:"p",href:"https://www.thethingsnetwork.org"},"The Things Network")," website and sign up for a new account")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 2.")," After logging in, click your profile and select ",(0,n.kt)("strong",{parentName:"p"},"Console")))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/1.png",alt:"pir",width:600,height:"auto"})),"- **Step 3.** Select a cluster to start adding devices and gateways",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/2.png",alt:"pir",width:600,height:"auto"})),"- **Step 4.** Click **Go to applications**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/4.png",alt:"pir",width:600,height:"auto"})),"- **Step 5.** Click **+ Add application**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/5.png",alt:"pir",width:600,height:"auto"})),"- **Step 6.** Fill **Application ID** and click **Create application**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/6.png",alt:"pir",width:600,height:"auto"})),"**Note:** Here **Application name** and **Description** are not compulsory fields. If **Application name** is left blank, it will use the same name as **Application ID** by default",(0,n.kt)("p",null,"The following is the newly created application"),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/7.png",alt:"pir",width:600,height:"auto"})),"- **Step 7.** Click **+ Add end device**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/8.png",alt:"pir",width:600,height:"auto"})),"- **Step 8.** Click **Manually**, to enter the registration credentials manually",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/9.png",alt:"pir",width:600,height:"auto"})),"- **Step 9.** Select the **Frequency plan** according to your region. Also make sure you use the same frequency as the gateway in which you will connect this device to. Select **MAC V1.0.2** as the **LoRaWAN\xae version** and **PHY V1.0.2 REV B** as the **Regional Parameters version**. These settings are according to the LoraWAN\xae stack of Wio-E5.",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/10.png",alt:"pir",width:600,height:"auto"})),"- **Step 10.** While the Wio-E5 module is still accessible over the serial console, send the following AT commands on the serial monitor:",(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'- `AT+ID=DevEui` to get your Device EUI\n- `AT+ID=AppEui`, to get your App EUI\n- `AT+KEY=APPKEY,"2B7E151628AED2A6ABF7158809CF4F3C"` to set the App Key \n')),(0,n.kt)("p",null,"The output will be as follows:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Tx: AT+ID=DevEui\nRx: +ID: DevEui, 2C:F7:F1:20:24:90:03:63\nTx: AT+ID=AppEui\nRx: +ID: AppEui, 80:00:00:00:00:00:00:07\nTx: AT+KEY=APPKEY,"2B7E151628AED2A6ABF7158809CF4F3C"\nRx: +KEY: APPKEY 2B7E151628AED2A6ABF7158809CF4F3C\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 11.")," Copy and paste the above information into ",(0,n.kt)("strong",{parentName:"li"},"DevEUI"),", ",(0,n.kt)("strong",{parentName:"li"},"AppEUI")," and ",(0,n.kt)("strong",{parentName:"li"},"AppKey")," fields. ",(0,n.kt)("strong",{parentName:"li"},"End device ID")," field will be automatically filled when we fill ",(0,n.kt)("strong",{parentName:"li"},"DevEUI"),". Finally click ",(0,n.kt)("strong",{parentName:"li"},"Register end device"))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/12.png",alt:"pir",width:600,height:"auto"})),"- **Step 12.** Register your LoRaWAN\xae Gateway with TTN Console. Please refer to the instructions shown [here](https://wiki.seeedstudio.com/The-Things-Indoor-Gateway/#step-2-gateway-registration-on-ttn-console)",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 13.")," Type the following AT commmands to connect to TTN")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"// If you are using US915\nAT+DR=US915\nAT+CH=NUM,8-15\n\n// If you are using EU868\nAT+DR=EU868\nAT+CH=NUM,0-2\n\nAT+MODE=LWOTAA\nAT+JOIN\n")),(0,n.kt)("p",null,"The output on serial monitor will be as follows:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Tx: AT+DR=US915\nRx: +DR: US915\nTx: AT+CH=NUM,8-15\nRx: +CH: NUM, 8-15\n\nTx: AT+MODE=LWOTAA\nRx: +MODE: LWOTAA\n\nTx: AT+JOIN\nRx: +JOIN: Start\n+JOIN: NORMAL\n+JOIN: Network joined\n+JOIN: NetID 000013 DevAddr 26:01:5F:66\n+JOIN: Done\n")),(0,n.kt)("p",null,"If you see ",(0,n.kt)("strong",{parentName:"p"},"+JOIN: Network joined")," on your serial console, that means your device has successfully connected to TTN! "),(0,n.kt)("p",null,"You can also check your device status on the ",(0,n.kt)("strong",{parentName:"p"},"End devices")," page"),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/13.png",alt:"pir",width:600,height:"auto"})),"- **Step 14.** Type the following AT commands to send data to TTN",(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'// send string "HELLO" to TTN \nTx: AT+MSG=HELLO\nRx: +MSG: Start\n+MSG: FPENDING\n+MSG: RXWIN2, RSSI -112, SNR -1.0\n+MSG: Done\n// send hex "00 11 22 33 44" \nTx: AT+MSGHEX="00 11 22 33 44"\nRx: +MSGHEX: Start\n+MSGHEX: Done\n')),(0,n.kt)("p",null,"For more information about AT Commands, please refer to ",(0,n.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20AT%20Command%20Specification_V1.0%20.pdf"},"LoRa-E5 AT Command Specification")),(0,n.kt)("h3",{id:"develop-with-stm32cube-mcu-package"},"Develop with STM32Cube MCU Package"),(0,n.kt)("p",null,"This section is for Wio-E5 mini/ Wio-E5 Development Kit aiming at building several applications with STM32Cube MCU Package for STM32WL series(SDK)."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:")," We have now updated the library to support v1.1.0 which is the latest version of STM32Cube MCU Package for STM32WL series."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre"},"   Please read [Erase Factory AT Firmware](https://wiki.seeedstudio.com/LoRa_E5_mini/#21-erase-factory-at-firmware) section first, as if we need to erase the Factory AT Firmware before we program with SDK. After erasing the Factory AT Firmware it CANNOT be recovered.\n"))),(0,n.kt)("h4",{id:"preparations"},"Preparations"),(0,n.kt)("p",null,"Software:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-ides/stm32cubeide.html"},"STM32CubeIDE"),": for compilation and debugging")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stm32cubeprog.license=1614563305396.product=STM32CubePrg-W64.version=2.6.0.html"},"STM32CubeProgrammer"),": for programming STM32 devices"))),(0,n.kt)("p",null,"Hardware:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"LoRaWAN\xae Gateway connected to LoRaWAN\xae Network Server (e.g. TTN)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"A USB Type-C cable and a ST-LINK. Connect the Type-C cable to the Type-C port of the board for power and serial communication. Connect the ST-LINK to the SWD pins as follows "))),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/connection.png",alt:"connection"})),(0,n.kt)("h4",{id:"gpio-configuration-overview"},"GPIO Configuration Overview"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"As the hardware design of Wio-E5 series is a bit different with NUCLEO-WL55JC, the official STM32WL55JC development board from ST, developers need to reconfigure some gpios, to adapt the SDK example to Wio-E5 series. We have already reconfigured GPIOs, but we think it is nessary to point out the difference.")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"SDK Example Label"),(0,n.kt)("th",{parentName:"tr",align:null},"GPIO of NUCLEO-WL55JC"),(0,n.kt)("th",{parentName:"tr",align:null},"GPIO of Wio-E5 mini/ Wio-E5 Development Kit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"RF_CTRL1"),(0,n.kt)("td",{parentName:"tr",align:null},"PC4"),(0,n.kt)("td",{parentName:"tr",align:null},"PA4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"RF_CTRL2"),(0,n.kt)("td",{parentName:"tr",align:null},"PC5"),(0,n.kt)("td",{parentName:"tr",align:null},"PA5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"RF_CTRL3"),(0,n.kt)("td",{parentName:"tr",align:null},"PC3"),(0,n.kt)("td",{parentName:"tr",align:null},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"BUT1"),(0,n.kt)("td",{parentName:"tr",align:null},"PA0"),(0,n.kt)("td",{parentName:"tr",align:null},"PB13 (Boot Button)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"BUT2"),(0,n.kt)("td",{parentName:"tr",align:null},"PA1"),(0,n.kt)("td",{parentName:"tr",align:null},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"BUT3"),(0,n.kt)("td",{parentName:"tr",align:null},"PC6"),(0,n.kt)("td",{parentName:"tr",align:null},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"LED1"),(0,n.kt)("td",{parentName:"tr",align:null},"PB15"),(0,n.kt)("td",{parentName:"tr",align:null},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"LED2"),(0,n.kt)("td",{parentName:"tr",align:null},"PB9"),(0,n.kt)("td",{parentName:"tr",align:null},"PB5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"LED3"),(0,n.kt)("td",{parentName:"tr",align:null},"PB11"),(0,n.kt)("td",{parentName:"tr",align:null},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DBG1"),(0,n.kt)("td",{parentName:"tr",align:null},"PB12"),(0,n.kt)("td",{parentName:"tr",align:null},"PA0 (D0 Button)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DBG2"),(0,n.kt)("td",{parentName:"tr",align:null},"PB13"),(0,n.kt)("td",{parentName:"tr",align:null},"PB10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DBG3"),(0,n.kt)("td",{parentName:"tr",align:null},"PB14"),(0,n.kt)("td",{parentName:"tr",align:null},"PB3")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DBG4"),(0,n.kt)("td",{parentName:"tr",align:null},"PB10"),(0,n.kt)("td",{parentName:"tr",align:null},"PB4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Usart"),(0,n.kt)("td",{parentName:"tr",align:null},"Usart2(PA2/PA3)"),(0,n.kt)("td",{parentName:"tr",align:null},"Usart1(PB6/PB7)")))),(0,n.kt)("h3",{id:"applications-1"},"Applications"),(0,n.kt)("p",null,"Now we will explore several applications for Wio-E5 mini/ Wio-E5 Development Kit with STM32Cube MCU Package for STM32WL series(SDK)."),(0,n.kt)("h4",{id:"lorawan-end-node"},"LoRaWAN\xae End Node"),(0,n.kt)("p",null,"This application will connect Wio-E5 mini/ Wio-E5 Development Kit with TTN (The Things Network) and send data after connecting with a LoRaWAN\xae gateway."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/LoRaWan-E5-Node/tree/qian"},"here")," to visit ",(0,n.kt)("strong",{parentName:"li"},"Seeed-Studio/LoRaWan-E5-Node")," repository and download it as a ZIP file")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/main-branch.png",alt:"pir",width:600,height:"auto"})),"- **Step 2.** Extract the ZIP file and navigate to `Wio-E5-Node > Projects > Applications > LoRaWAN > LoRaWAN_End_Node > STM32CubeIDE`",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3.")," Double click the ",(0,n.kt)("strong",{parentName:"p"},".project")," file")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 4.")," Right click on the project and click ",(0,n.kt)("strong",{parentName:"p"},"Properties")))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/properties-open-2.jpg",alt:"pir",width:600,height:"auto"})),"- **Step 5.** Navigate to `C/C++ Build > Settings > MCU Post build outputs`, tick **Convert to Intel Hex file (-O ihex)** and click **Apply and Close**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/set-hex.png",alt:"pir",width:600,height:"auto"})),"- **Step 6.** Click **Build 'Debug'**, and it should compile without any errors",(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/build.png",alt:"build"})),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/lorawan-debug-2.png",alt:"pir",width:600,height:"auto"})),"Now we will modify our **Device EUI**, **Application EUI**, **Application KEY** and **LoRawan Region**",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 7.")," Please follow the ",(0,n.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/LoRa_E5_mini/#13-connect-and-send-data-to-the-things-network"},"guide")," here to setup your TTN application, get your ",(0,n.kt)("strong",{parentName:"li"},"Application EUI")," and copy it to the macro definition ",(0,n.kt)("inlineCode",{parentName:"li"},"LORAWAN_JOIN_EUI")," in ",(0,n.kt)("inlineCode",{parentName:"li"},"LoRaWAN/App/se-identity.h")," , for example, the Application EUI here is ",(0,n.kt)("inlineCode",{parentName:"li"},"80 00 00 00 00 00 00 0x07")," :")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-C"},"// LoRaWAN/App/se-identity.h\n\n/*!\n * App/Join server IEEE EUI (big endian)\n */\n#define LORAWAN_JOIN_EUI                                   { 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07 }\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 8.")," Also, you can modify your ",(0,n.kt)("strong",{parentName:"li"},"Device EUI")," and ",(0,n.kt)("strong",{parentName:"li"},"Application Key"),", by setting the macro definition ",(0,n.kt)("inlineCode",{parentName:"li"},"LORAWAN_DEVICE_EUI")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"LORAWAN_NWK_KEY")," in ",(0,n.kt)("inlineCode",{parentName:"li"},"LoRaWAN/App/se-identity.h"),". Make sure ",(0,n.kt)("inlineCode",{parentName:"li"},"LORAWAN_DEVICE_EUI")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"LORAWAN_NWK_KEY")," are the same as the ",(0,n.kt)("inlineCode",{parentName:"li"},"Device EUI")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"App Key")," in TTN console.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-C"},"// LoRaWAN/App/se-identity.h\n\n/*!\n * end-device IEEE EUI (big endian)\n */\n#define LORAWAN_DEVICE_EUI                                 { 0x2C, 0xF7, 0xF1, 0x20, 0x24, 0x90, 0x03, 0x63 }\n\n/*!\n * Network root key\n */\n#define LORAWAN_NWK_KEY                                    2B,7E,15,16,28,AE,D2,A6,AB,F7,15,88,09,CF,4F,3C\n")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/se-identity.png",alt:"pir",width:600,height:"auto"})),"- **Step 9.** The default LoRaWAN\xae Region is `EU868`, you can modify it, by setting the macro definition `ACTIVE_REGION` in `LoRaWAN/App/lora_app.h`",(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-c"},"// LoRaWAN/App/lora_app.h\n\n/* LoraWAN application configuration (Mw is configured by lorawan_conf.h) */\n/* Available: LORAMAC_REGION_AS923, LORAMAC_REGION_AU915, LORAMAC_REGION_EU868, LORAMAC_REGION_KR920, LORAMAC_REGION_IN865, LORAMAC_REGION_US915, LORAMAC_REGION_RU864 */\n#define ACTIVE_REGION                               LORAMAC_REGION_US915\n")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/lora-app-h.png",alt:"pir",width:600,height:"auto"})),"- **Step 10.** After the above modifications, **rebuild** the example and program to your Wio-E5. Open `STM32CubeProgrammer`, connect ST-LINK to your PC, hold `RESET Button` of your Device, then click `Connect` and release `RESET Button`:",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program1.png",alt:"pir",width:600,height:"auto"})),"- **Step 11.** Make sure the Read Out Protection is `AA`, if it is shown as `BB`, select `AA` and click `Apply`:",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program2.png",alt:"pir",width:600,height:"auto"})),"- **Step 12.** Now, go to the `Erasing & Programming` page, select your hex file path(for example: `C:\\Users\\user\\Downloads\\LoRaWan-E5-Node\\Projects\\Applications\\LoRaWAN\\LoRaWAN_End_Node\\STM32CubeIDE\\Debug\\LoRaWAN_End_Node.hex` ), select the programming options as the following picture, then click `Start Programming`!",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program3.png",alt:"pir",width:600,height:"auto"})),"You will see the message **Download verified successfully**, once programming is finished.",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 13.")," If your LoRaWAN\xae Gateway and TTN are setup, Wio-E5 will join successfully after reset! A confirm LoRaWAN\xae package will be sent to TTN every 30 seconds. The following log will be printed on the serial monitor (Arduino Serial Monitor is used here) if the join is successful:")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/TTN-joined.png",alt:"pir",width:600,height:"auto"})),"- Cheers! Now you have connected Wio-E5 to LoRaWAN\xae Network! You can now proceed to develop more exciting LoRaWAN\xae End Node applications!",(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:")," Wio-E5 only supports high power output mode, so you can't use these macro definitions in ",(0,n.kt)("inlineCode",{parentName:"p"},"radio_board_if.h")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"#define RBI_CONF_RFO     RBI_CONF_RFO_LP_HP\n// or\n#define RBI_CONF_RFO     RBI_CONF_RFO_LP\n")),(0,n.kt)("p",null,"Eventhough ",(0,n.kt)("strong",{parentName:"p"},"RBI_CONF_RFO")," is defined as ",(0,n.kt)("strong",{parentName:"p"},"RBI_CONF_RFO_LP_HP")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"radio_board_if.h"),", it will not be used because ",(0,n.kt)("strong",{parentName:"p"},"USE_BSP_DRIVER")," is defined and ",(0,n.kt)("strong",{parentName:"p"},"BSP_RADIO_GetTxConfig()")," function returns ",(0,n.kt)("strong",{parentName:"p"},"RADIO_CONF_RFO_HP")),(0,n.kt)("h4",{id:"freertos-lorawan"},"FreeRTOS LoRaWAN\xae"),(0,n.kt)("p",null,"This application will also connect Wio-E5 mini/ Wio-E5 Development Kit with TTN (The Things Network) and send data after connecting with a LoRaWAN\xae gateway. The difference between previous LoRaWAN End Node application and this FreeRTOS LoRaWAN\xae application is that, the previous one runs on bare metal whereas this runs under FreeRTOS."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/LoRaWan-E5-Node/tree/qian"},"here")," to visit ",(0,n.kt)("strong",{parentName:"li"},"Seeed-Studio/LoRaWan-E5-Node")," repository and download it as a ZIP file")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/main-branch.png",alt:"pir",width:600,height:"auto"})),"- **Step 2.** Extract the ZIP file and navigate to `LoRaWan-E5-Node > Projects > Applications > FreeRTOS > FreeRTOS_LoRaWAN`",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3.")," Double click the ",(0,n.kt)("strong",{parentName:"p"},".project")," file")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 4.")," Refer to ",(0,n.kt)("strong",{parentName:"p"},"step 4 - step 13")," from the previous ",(0,n.kt)("strong",{parentName:"p"},"LoRaWAN\xae End Node")," application to connect Wio-E5 mini/ Wio-E5 Development Kit with TTN!  "))),(0,n.kt)("h4",{id:"freertos-lorawan-at"},"FreeRTOS LoRaWAN\xae AT"),(0,n.kt)("p",null,"This application will also connect Wio-E5 mini/ Wio-E5 Development Kit with TTN (The Things Network) and send data after connecting with a LoRaWAN\xae gateway. The difference between previous FreeRTOS LoRaWAN\xae application and this application is that, you can use AT commands."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/LoRaWan-E5-Node/tree/qian"},"here")," to visit ",(0,n.kt)("strong",{parentName:"li"},"Seeed-Studio/LoRaWan-E5-Node")," repository and download it as a ZIP file")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/main-branch.png",alt:"pir",width:600,height:"auto"})),"- **Step 2.** Extract the ZIP file and navigate to `LoRaWan-E5-Node > Projects > Applications > FreeRTOS > FreeRTOS_LoRaWAN_AT`",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3.")," Double click the ",(0,n.kt)("strong",{parentName:"p"},".project")," file")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 4.")," Refer to ",(0,n.kt)("strong",{parentName:"p"},"step 4 - step 12")," from the previous ",(0,n.kt)("strong",{parentName:"p"},"LoRaWAN\xae End Node")," application")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 5.")," Open a serial monitor such as ",(0,n.kt)("strong",{parentName:"p"},"Arduino Serial Monitor")," and you will see the following output"))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-at-serial-open-2.png",alt:"pir",width:600,height:"auto"})),"- **Step 6.** Type **AT?** and press **ENTER** to view all the available AT commands",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/at-commands.png",alt:"pir",width:600,height:"auto"})),"- **Step 7.** If you still want to change **Device EUI**, **Application EUI**, **Application KEY** and **LoRawan Region**, you can change using AT commands. However, these parameters are already set in **se-identity.h** and **lora_app.h** in this example",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 8.")," Type ",(0,n.kt)("strong",{parentName:"li"},"AT+JOIN=1")," and you will see the following output once the join is successful!")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-at-join.png",alt:"pir",width:600,height:"auto"})),"**Note:** Here **AT+JOIN=(Mode)** format should be used. **Mode** corresponds to either **0 for ABP** or **1 for OTAA**",(0,n.kt)("h4",{id:"freertos-lowpower"},"FreeRTOS LowPower"),(0,n.kt)("p",null,"This application will enable low-power mode on Wio-E5 mini/ Wio-E5 Development Kit. Once the application is flashed, the board will consume power as normal for 2 seconds and enter low-power mode for 2 seconds and so on. "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/LoRaWan-E5-Node/tree/qian"},"here")," to visit ",(0,n.kt)("strong",{parentName:"li"},"Seeed-Studio/LoRaWan-E5-Node")," repository and download it as a ZIP file")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/main-branch.png",alt:"pir",width:600,height:"auto"})),"- **Step 2.** Extract the ZIP file and navigate to `LoRaWan-E5-Node > Projects > Applications > FreeRTOS > FreeRTOS_LowPower`",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3.")," Double click the ",(0,n.kt)("strong",{parentName:"p"},".project")," file")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 4.")," Right click on the project and click ",(0,n.kt)("strong",{parentName:"p"},"Properties")))),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-lpower-properties.jpg",alt:"pir",width:600,height:"auto"})),"- **Step 5.** Navigate to `C/C++ Build > Settings > MCU Post build outputs`, tick **Convert to Intel Hex file (-O ihex)** and click **Apply and Close**",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-lpower-hex.jpg",alt:"pir",width:600,height:"auto"})),"- **Step 6.** Click **Build 'Debug'**, and it should compile without any errors",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-lpower-build.png",alt:"pir",width:600,height:"auto"})),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/freertos-lpower-success.png",alt:"pir",width:600,height:"auto"})),"- **Step 7.** Open `STM32CubeProgrammer`, connect ST-LINK to your PC, hold `RESET Button` of your Device, then click `Connect` and release `RESET Button`:",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program1.png",alt:"pir",width:600,height:"auto"})),"- **Step 8.** Make sure the Read Out Protection is `AA`, if it is shown as `BB`, select `AA` and click `Apply`:",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program2.png",alt:"pir",width:600,height:"auto"})),"- **Step 9.** Now, go to the `Erasing & Programming` page, select your hex file path(for example: `C:\\Users\\user\\Downloads\\LoRaWan-E5-Node\\Projects\\Applications\\FreeRTOS\\FreeRTOS_LowPower\\Debug\\FreeRTOS_LowPower.hex` ), select the programming options as the following picture, then click `Start Programming`!",(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program3.png",alt:"pir",width:600,height:"auto"})),"You will see the message **Download verified successfully**, once programming is finished.",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 10.")," Connect the Wio-E5 mini/ Wio-E5 Development Kit to a PC by attaching a power meter. You will notice the red LED on the board blinks every second and the board switches between normal and low power states (The current on the power meter comes down for 1 second for lower power state and comes back up for 1 second for normal working state)")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/low-power-demo-2.gif",alt:"pir",width:600,height:"auto"})),"#### Low Power",(0,n.kt)("p",null,"This application will also enable low-power mode on Wio-E5 mini/ Wio-E5 Development Kit. The difference between previous FreeRTOS LowPower application and this Low Power application is that, the previous one runs under FreeRTOS whereas this runs on bare metal."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/Seeed-Studio/LoRaWan-E5-Node/tree/qian"},"here")," to visit ",(0,n.kt)("strong",{parentName:"li"},"Seeed-Studio/LoRaWan-E5-Node")," repository and download it as a ZIP file")),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-mini/main-branch.png",alt:"pir",width:600,height:"auto"})),"- **Step 2.** Extract the ZIP file and navigate to `LoRaWan-E5-Node > Projects > Applications > LowPower`",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 3.")," Double click the ",(0,n.kt)("strong",{parentName:"p"},".project")," file")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step 4.")," Refer to ",(0,n.kt)("strong",{parentName:"p"},"step 4 - step 10")," from the previous ",(0,n.kt)("strong",{parentName:"p"},"FreeRTOS LowPower")," application and you will see the same output at the end on the power meter!"))),(0,n.kt)("h2",{id:"tech-support"},"Tech Support"),(0,n.kt)("p",null,"Please submit any technical issue into our ",(0,n.kt)("a",{parentName:"p",href:"http://forum.seeedstudio.com/"},"forum"),". "),(0,n.kt)("div",null,(0,n.kt)("br",null),(0,n.kt)("p",{style:{textAlign:"center"}},(0,n.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,n.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"})))))}u.isMDXComponent=!0}}]);