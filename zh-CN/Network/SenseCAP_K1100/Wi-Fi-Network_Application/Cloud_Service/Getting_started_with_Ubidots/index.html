<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Ubidots Usage | Seeed Studio Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://c1ev0ps.github.io/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ubidots Usage | Seeed Studio Wiki"><meta data-rh="true" name="description" content="Develop with Ubidots"><meta data-rh="true" property="og:description" content="Develop with Ubidots"><meta data-rh="true" name="keywords" content="SenseCap"><meta data-rh="true" property="og:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><meta data-rh="true" name="twitter:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><link data-rh="true" rel="icon" href="/docusaurus_wiki/zh-CN/img/S.png"><link data-rh="true" rel="canonical" href="https://c1ev0ps.github.io/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8182LB8Y0D-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docusaurus_wiki/zh-CN/blog/rss.xml" title="Seeed Studio Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docusaurus_wiki/zh-CN/blog/atom.xml" title="Seeed Studio Wiki Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Seeed Studio Wiki" href="/docusaurus_wiki/zh-CN/opensearch.xml">
<link rel="icon" href="/docusaurus_wiki/zh-CN/img/docusaurus.png">
<link rel="manifest" href="/docusaurus_wiki/zh-CN/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<script src="https://viewer.altium.com/client/static/js/embed.js" async></script><link rel="stylesheet" href="/docusaurus_wiki/zh-CN/assets/css/styles.e0cba3cd.css">
<link rel="preload" href="/docusaurus_wiki/zh-CN/assets/js/runtime~main.6ee2a286.js" as="script">
<link rel="preload" href="/docusaurus_wiki/zh-CN/assets/js/main.6fe5e388.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">We are looking forward to your contribution! Welcome to check our <a target="_blank" rel="https://github.com/orgs/c1ev0ps/projects/3/views/1" href="https://github.com/c1ev0ps/docusaurus_wiki/blob/main/TASK.md">task lists</a>！</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus_wiki/zh-CN/"><div class="navbar__logo"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--light_HNdA navbar_logo_items"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--dark_i4oU navbar_logo_items"></div></a><a aria-current="page" class="navbar__item navbar__link navbar_doc_items navbar__link--active" href="/docusaurus_wiki/zh-CN/Getting_Started">Getting Started</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/zh-CN/Sensor_Network">Sensor Network</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/zh-CN/Edge_Computing">Edge Computing</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/zh-CN/CloudnChain">Cloud &amp; Chain</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/zh-CN/Solutions">Solutions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/c1ev0ps/docusaurus_wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_items">GitHub 💭</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/zh-CN/Getting_Started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/zh-CN/weekly_wiki">Weekly Wiki</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Sensor </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Grove/Grove_Sensors/All_in_one/Grove_SEN5X_All_in_One">Grove</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/mmWave_radar_sensor/Radar_MR24HPC1">mmWave radar sensor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_SAMD21/Seeeduino-XIAO">SeeedStudio XIAO</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Wio_Terminal/Wio-Terminal-Getting-Started">Wio Terminal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Wio_Series/Wio">Wio Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Seeeduino Series/Getting_Started_with_Seeeduino">Seeeduino Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Arch/Arch_Mix">Arch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Azure Sphere MT3620/Azure_Sphere_MT3620_Development_Kit">Azure Sphere MT3620</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/IOT_Button_For_AWS/SEEED-IOT-BUTTON-FOR-AWS">IOT BUTTON FOR AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Pi_Pico/Grove-Starter-Kit-for-Raspberry-Pi-Pico">Pi Pico</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Sensor/Beyond_Grove/Sensors/Ultra_Sonic_range_measurement_module">Beyond Grove</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Network </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Network/SenseCAP/Industrial-IoT-SenseCAP-Introduction">SenseCAP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/K1100_Getting_Started">SenseCAP K1100</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/K1100_Getting_Started">The Sensor Prototype Kit Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/K1100-quickstart">Quick &amp; No-code Initiation with SenseCraft</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/LoRaWAN-Network_Application/Sensors_Basic_Usage_with_Arduino/K1100-Light-Sensor-Grove-LoRa-E5">LoRaWAN-Network Application</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Wio-Terminal-Advanced-WiFi">Wi-Fi-Network Application</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Wio-Terminal-Advanced-WiFi">Advanced WiFi Usage</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots">Cloud Service</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots">Ubidots Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Quick-Start-to-using-Blynk">Blynk Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Connect-Wio-Terminal-to-Google-Cloud">Google Usage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Azure_IoT_Platform_Usage/Connect-Wio-Terminal-to-Azure-IoT-Central">Azure IoT Platform Usage</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Embedded_ML_Application/K1111-Edge-Impulse">Embedded ML Application</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Contributors_Project/IoT-into-the-wild-contest">Contributors Project</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Network/LinkStar/Linkstar_Datasheet">LinkStar</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Network/reRouter/Raspberry-OpenWrt-Getting-Started">reRouter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Network/TTN_Gateway/The-Things-Indoor-Gateway">TTN Gateway</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Edge </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/reTerminal/">reTerminal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/reComputer/reComputer_Jetson_Series_Introduction">reComputer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/reServer/reServer_X86/reServer-Getting-Started">reServer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/Edge_Series/Edge_Box_RPi_200/Edgebox-rpi-200-codesys">Edge Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/Beagle_Bone/BeagleBone">BeagleBone®</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/ODYSSEY/ODYSSEY_X86J4105/ODYSSEY-X86J4105">ODYSSEY</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Edge/Quantum_Development_Board/Quantum-Mini-Linux-Development-Kit">Quantum Development Board</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Cloud and Chain </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Cloud_Chain/SenseCAP_M4/wiki">SenseCAP Cloud</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Top Brand </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Top_Brand/Arduino/">Arduino</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Top_Brand/Raspberry_Pi/">Raspberry Pi</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Top_Brand/NVIDIA/Mini_PC/reComputer_A203E_Flash_System">NVIDIA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Top_Brand/Micro_bit/Grove_Inventor_Kit_for_microbit">Micro:bit</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/zh-CN/About">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/zh-CN/License">License</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/zh-CN/Seeed_Elderly/reSpeaker/">Seeed Elderly</a></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/docusaurus_wiki/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SenseCAP K1100</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Wi-Fi-Network Application</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cloud Service</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ubidots Usage</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Develop with Ubidots</h1><p><strong>Ubidots</strong> is a systems integrators, IoT Entrepreneurs and OEMs effortlessly self-construct Internet of Things (IoT) applications and connected services with Ubidots’ data collection, analysis, and visualization tools. In the planning of the kit, we choose Ubidots platform as an alternative without LoRaWAN®, you can use the WiFi function that comes with Wio Terminal to get the data presentation in Ubidots dashboard with the sensor data you need through MQTT protocol.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/1.png" class="img_ev3q"></div><p>In this chapter we will show you how to send data from sensors to Ubidots by means of Arduino programming.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preliminary-preparation">Preliminary Preparation<a class="hash-link" href="#preliminary-preparation" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection">Connection<a class="hash-link" href="#connection" title="标题的直接链接">​</a></h3><p>The sensors inside the SeseCAP - K1100 Kit can all be connected to the Grove connector under the Wio Terminal via the Grove cable. The following table describes the location of the Grove connector to which each sensor is connected.</p><div align="center"><img loading="lazy" width="500" src="https://files.seeedstudio.com/wiki/k1100_ubidots/2.png" class="img_ev3q"></div><table align="center"><tbody><tr><th align="center">Sensor Type</th><th align="center">Communication Protocol</th><th align="center">Connected Grove Interface</th></tr><tr><td align="center">Grove Temp&amp;Humi Sensor (SHT40)</td><td align="center">I2C</td><td align="center">Wio Terminal <strong>left</strong> Grove interface</td></tr><tr><td align="center">Grove VOC and eCO2 Gas Sensor (SGP30)</td><td align="center">I2C</td><td align="center">Wio Terminal <strong>left</strong> Grove interface</td></tr><tr><td align="center">Grove Vision AI Module</td><td align="center">I2C</td><td align="center">Wio Terminal <strong>left</strong> Grove interface</td></tr><tr><td align="center">Grove Soil Moisture Sensor</td><td align="center">ADC</td><td align="center">Wio Terminal <strong>right</strong> Grove interface</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-preparation">Software preparation<a class="hash-link" href="#software-preparation" title="标题的直接链接">​</a></h3><p><strong>Step 1.</strong> You need to Install an Arduino Software.</p><div><p><a href="https://www.arduino.cc/en/Main/Software" target="_blank" rel="noopener noreferrer"></a></p><div align="center"><a href="https://www.arduino.cc/en/Main/Software" target="_blank" rel="noopener noreferrer"><img loading="lazy" width="600" src="https://files.seeedstudio.com/wiki/Seeeduino_Stalker_V3_1/images/Download_IDE.png" class="img_ev3q"></a></div><p></p></div><p><strong>Step 2.</strong> Launch the Arduino application.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/seeed_logo/arduino.jpg" class="img_ev3q"></div><p><strong>Step 3.</strong> Add Wio Terminal to the Arduino IDE.</p><p>Open your Arduino IDE, click on <code>File &gt; Preferences</code>, and copy below url to Additional Boards Manager URLs:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://files.seeedstudio.com/arduino/package_seeeduino_boards_index.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/Boardurl.png" class="img_ev3q"></div><p>Click on <code>Tools &gt; Board &gt; Board Manager</code> and Search <strong>Wio Terminal</strong> in the Boards Manager.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/addBoard.png" class="img_ev3q"></div><p><strong>Step 4.</strong> Select your board and port</p><p>You&#x27;ll need to select the entry in the <code>Tools &gt; Board</code> menu that corresponds to your Arduino. Selecting the <strong>Wio Terminal</strong>.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/selectBoard.png" class="img_ev3q"></div><p>Select the serial device of the Wio Terminal board from the <code>Tools -&gt; Port</code> menu. This is likely to be COM3 or higher (COM1 and COM2 are usually reserved for hardware serial ports). To find out, you can disconnect your Wio Terminal board and re-open the menu; the entry that disappears should be the Arduino board. Reconnect the board and select that serial port.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>For Mac User, it will be something like <code>/dev/cu.usbmodem141401</code>.</p></div></div><p> If you are not able to upload the sketch, mostly it&#x27;s because Arduino IDE was not able to put Wio Terminal to bootloader mode. (Because MCU was halted or your program handling USB) Workaround is putting your Wio Terminal to bootloader mode manually.</p><div align="center"><img loading="lazy" width="400" src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/Wio-Terminal-Bootloader.png" class="img_ev3q"></div><p><strong>Step 5.</strong> Install the library required for the sensor of your choice</p><table align="center"><tbody><tr><th align="center">Sensor Type</th><th align="center">Link 1</th><th align="center">Link 2</th></tr><tr><td align="center">Wio Terminal IMU Sensor</td><td align="center"><a href="https://github.com/Seeed-Studio/Seeed_Arduino_LIS3DHTR/tree/master" target="_blank" rel="noopener noreferrer">Download</a></td><td align="center">-</td></tr><tr><td align="center">Grove Temp&amp;Humi Sensor (SHT40)</td><td align="center"><a href="https://github.com/Sensirion/arduino-i2c-sht4x" target="_blank" rel="noopener noreferrer">Download</a></td><td align="center"><a href="https://github.com/Sensirion/arduino-core" target="_blank" rel="noopener noreferrer">Download</a></td></tr><tr><td align="center">Grove VOC and eCO2 Gas Sensor (SGP30)</td><td align="center"><a href="https://github.com/Seeed-Studio/SGP30_Gas_Sensor" target="_blank" rel="noopener noreferrer">Download</a></td><td align="center">-</td></tr><tr><td align="center">Grove Vision AI Module</td><td align="center"><a href="https://github.com/limengdu/Seeed-Grove-Vision-AI-Moudle" target="_blank" rel="noopener noreferrer">Download</a></td><td align="center">-</td></tr></tbody></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p> Sensors not listed in the table above indicate that a separate library download is not required.</p></div></div><p><strong>Step 6.</strong> Needed Libraries for Wi-Fi</p><p>We need the following libraries to get started with Wi-Fi on the Wio Terminal. You can search for these libraries by typing the library name in the search box of Arduino Library Manager.</p><div align="center"><img loading="lazy" width="600" src="https://files.seeedstudio.com/wiki/k1100_ubidots/20.png" class="img_ev3q"></div><ul><li><a href="https://github.com/Seeed-Studio/Seeed_Arduino_rpcWiFi" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_rpcWiFi</strong></a> - search for <code>seeed rpcwifi</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/21.png" class="img_ev3q"></div><ul><li><a href="https://github.com/Seeed-Studio/Seeed_Arduino_rpcUnified" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_rpcUnified</strong></a> - search for <code>seeed rpcunified</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/23.png" class="img_ev3q"></div><ul><li><a href="https://github.com/Seeed-Studio/Seeed_Arduino_mbedtls" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_mbedtls</strong></a> - search for <code>seeed mbedtls</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/24.png" class="img_ev3q"></div><ul><li><a href="https://github.com/Seeed-Studio/Seeed_Arduino_FS" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_FS</strong></a> - search for <code>seeed fs</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/25.png" class="img_ev3q"></div><ul><li><a href="https://github.com/Seeed-Studio/Seeed_Arduino_SFUD" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_SFUD</strong></a> - search for <code>seeed sfud</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/26.png" class="img_ev3q"></div><ul><li><a href="https://github.com/knolleary/pubsubclient" target="_blank" rel="noopener noreferrer"><strong>PubSubClinet</strong></a> - search for <code>PubSubClient</code></li></ul><div align="center"><img loading="lazy" width="700" src="https://files.seeedstudio.com/wiki/k1100_ubidots/22.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operation-steps">Operation Steps<a class="hash-link" href="#operation-steps" title="标题的直接链接">​</a></h2><p><strong>Step 1.</strong> Register and login to Ubidots</p><p>If this is your first time using Ubidots, please go to the <a href="https://ubidots.com/" target="_blank" rel="noopener noreferrer">Ubidots website</a> and register an account of your own.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/3.png" class="img_ev3q"></div><p>Once you have registered, please login to Ubidots using your registered account.</p><p><strong>Step 2.</strong> Assign your unique <strong>Ubidots TOKEN</strong></p><p>Every request to Ubidots requires a TOKEN. The easiest way to get yours is clicking on “API Credentials” from the user dropdown.</p><p>Go to you user dropdown and click on API credentials:</p><div align="center"><img loading="lazy" width="250" src="https://files.seeedstudio.com/wiki/k1100_ubidots/4.png" class="img_ev3q"></div><p><strong>Tokens</strong>: Temporary and revocable keys to be used in your API requests. Please save the TOKEN for now, we will use it later.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/5.png" class="img_ev3q"></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p> All API calls only accept your <strong>TOKEN</strong>. Don’t try to use your API Key, it won’t work! You can also access all of your Ubidots API Keys section of the My Profile settings in your User Dropdown. Select <strong>My Profile</strong> –&gt; <strong>API Credentials</strong> to review the list of API TOKENS relating to your specific Ubidots Account.</p></div></div><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/6.png" class="img_ev3q"></div><p><strong>Step 3.</strong> Be prepared with the necessary information</p><p>To establish an MQTT connection, we will need to prepare the following information in advance.</p><ul><li><strong>WiFi SSID</strong><ul><li>Fill in the WiFi SSID to which Wio Terminal can connect. Wio Terminal will search for WiFi within its surroundings and try to connect to it.</li></ul></li><li><strong>Password for WiFi SSID</strong><ul><li>Fill in the password for the WiFi SSID to which Wio Terminal can connect.</li></ul></li><li><strong>Ubidots TOKEN</strong><ul><li>This is the TOKEN generated in <strong>step 2</strong>.</li></ul></li><li><strong>Variable label</strong><ul><li>This is the name of the sensor value provided by the user to Ubidots. Ubidots are matched to different data based on this name provided by the user. If the Variable label don’t exist before the first dot is sent, Ubidots will create them automatically.</li></ul></li><li><strong>Device label</strong><ul><li>This is the name of the device and the name of the device provided by the user will be used by Ubidots to identify the device. If the Device label don’t exist before the first dot is sent, Ubidots will create them automatically.</li></ul></li><li><strong>MQTT client name</strong><ul><li>This is special because it is the ID with which your device will be identified by the broker so it <strong>MUST</strong> be unique. If your device tries to connect with the same ID that has already been taken by another device, the connection will be refused. Please create your own all alphanumeric 8-12+ character MQTT client name and input into the code accordingly.
Need some help creating a unique MQTT client name, check out this <a href="https://www.random.org/strings/" target="_blank" rel="noopener noreferrer">random ascii builder</a>, or simply use the MAC address of your device as every MAC address is globally unique.</li></ul></li></ul><div align="center"><img loading="lazy" width="600" src="https://files.seeedstudio.com/wiki/k1100_ubidots/7.png" class="img_ev3q"></div><p>At the beginning of the program below, we will define for these requirements at the top of the code, please fill in your own information as appropriate.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL &quot;light&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-built-in-sensors-data-to-ubidots">Send built-in sensors Data to Ubidots<a class="hash-link" href="#send-built-in-sensors-data-to-ubidots" title="标题的直接链接">​</a></h3><p>If you want to send detection data from the Wio Terminal&#x27;s built-in sensors to Ubidots, paste the complete code below into the Arduino and upload it to the Wio Terminal.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;PubSubClient.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;rpcWiFi.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;TFT_eSPI.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include&quot;LIS3DHTR.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIS3DHTR&lt;TwoWire&gt; lis;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Required Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL1 &quot;light&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL2 &quot;IMUx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL3 &quot;IMUy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL4 &quot;IMUz&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL5 &quot;sound&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const long interval = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsigned long previousMillis = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TFT_eSPI tft;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char mqttBroker[] = &quot;industrial.api.ubidots.com&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WiFiClient wifiClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubSubClient client(wifiClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static int lightValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static float imuxValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static float imuyValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static float imuzValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static int soundValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Space to store values to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char str_light[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char str_imux[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char str_imuy[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char str_imuz[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char str_sound[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char payload[700];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char topic[150];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void callback(char* topic, byte* payload, unsigned int length){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Message arrived [&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(topic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;] &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i=0;i&lt;length;i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print((char)payload[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void reconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Loop until we&#x27;re reconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Attempting MQTT connection...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Attempt to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (client.connect(MQTT_CLIENT_NAME, TOKEN,&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;connected&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&quot;failed, rc=&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(client.state());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot; try again in 2 seconds&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait 2 seconds before retrying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Reading built-in sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void read_builtin()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lightValue = analogRead(WIO_LIGHT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Light = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(lightValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imuxValue = lis.getAccelerationX();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;IMU_x = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(imuxValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imuyValue = lis.getAccelerationY();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;IMU_y = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(imuyValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imuzValue = lis.getAccelerationZ();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;IMU_z = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(imuzValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  soundValue = analogRead(WIO_MIC);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Sound = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(soundValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void send_data()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(lightValue, 4, 0, str_light);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(imuxValue, 4, 3, str_imux);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(imuyValue, 4, 3, str_imuy);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(imuzValue, 4, 3, str_imuz);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(soundValue, 4, 0, str_sound);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Builds the topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s&quot;, &quot;&quot;); // Cleans the topic content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s%s&quot;, &quot;/v2.0/devices/&quot;, DEVICE_LABEL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Builds the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL1); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_light); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL2); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_imux); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL3); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_imuy); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL4); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_imuz); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL5); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_sound); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.loop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lis.begin(Wire1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pinMode(WIO_MIC, INPUT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pinMode(WIO_LIGHT, INPUT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setRotation(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setTextSize(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lis.setOutputDataRate(LIS3DHTR_DATARATE_25HZ); //Data output rate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lis.setFullScaleRange(LIS3DHTR_RANGE_2G);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  while(!Serial);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set WiFi to station mode and disconnect from an AP if it was previously connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.mode(WIFI_STA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connecting to WiFi...&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (WiFi.status() != WL_CONNECTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connected to the WiFi&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setServer(mqttBroker, 1883);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setCallback(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read_builtin();   //Reading buile-in sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  send_data();   //Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(5000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-grove-soil-moisture-sensor-data-to-ubidots">Send Grove Soil Moisture Sensor Data to Ubidots<a class="hash-link" href="#send-grove-soil-moisture-sensor-data-to-ubidots" title="标题的直接链接">​</a></h3><p>If you want to send Grove Soil Moisture Sensor data to Ubidots, paste the complete code below into the Arduino and upload it to the Wio Terminal.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;PubSubClient.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;rpcWiFi.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;TFT_eSPI.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Required Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL &quot;light&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const long interval = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsigned long previousMillis = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TFT_eSPI tft;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char mqttBroker[] = &quot;industrial.api.ubidots.com&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WiFiClient wifiClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubSubClient client(wifiClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Soil moisture pins and sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int sensorPin = A0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static int soilValue = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Space to store values to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_soil[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char payload[700];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char topic[150];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void callback(char* topic, byte* payload, unsigned int length){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Message arrived [&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(topic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;] &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i=0;i&lt;length;i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print((char)payload[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void reconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Loop until we&#x27;re reconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Attempting MQTT connection...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Attempt to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (client.connect(MQTT_CLIENT_NAME, TOKEN,&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;connected&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&quot;failed, rc=&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(client.state());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot; try again in 2 seconds&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait 2 seconds before retrying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Reading soil moisture sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void read_soil()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  soilValue = analogRead(sensorPin);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Moisture = &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(soilValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void send_data()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(soilValue, 4, 0, str_soil);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Builds the topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s&quot;, &quot;&quot;); // Cleans the topic content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s%s&quot;, &quot;/v2.0/devices/&quot;, DEVICE_LABEL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Builds the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_soil); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.loop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setRotation(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setTextSize(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set WiFi to station mode and disconnect from an AP if it was previously connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.mode(WIFI_STA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connecting to WiFi...&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (WiFi.status() != WL_CONNECTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connected to the WiFi&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setServer(mqttBroker, 1883);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setCallback(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read_soil();   //Reading soil moisture sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  send_data();   //Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(5000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-grove-voc-and-eco2-gas-sensor-data-to-ubidots">Send Grove VOC and eCO2 Gas Sensor Data to Ubidots<a class="hash-link" href="#send-grove-voc-and-eco2-gas-sensor-data-to-ubidots" title="标题的直接链接">​</a></h3><p>If you want to send Grove VOC and eCO2 Gas Sensor data to Ubidots, paste the complete code below into the Arduino and upload it to the Wio Terminal.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;PubSubClient.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;rpcWiFi.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;TFT_eSPI.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;sensirion_common.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;sgp30.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL1 &quot;voc&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL2 &quot;co2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const long interval = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsigned long previousMillis = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char mqttBroker[] = &quot;industrial.api.ubidots.com&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WiFiClient wifiClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubSubClient client(wifiClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TFT_eSPI tft = TFT_eSPI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static unsigned short int VOC = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static unsigned short int CO2 = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Space to store values to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_voc[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_co2[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char payload[700];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char topic[150];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void callback(char* topic, byte* payload, unsigned int length){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Message arrived [&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(topic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;] &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i=0;i&lt;length;i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print((char)payload[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void reconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Loop until we&#x27;re reconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Attempting MQTT connection...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Attempt to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (client.connect(MQTT_CLIENT_NAME, TOKEN,&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;connected&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&quot;failed, rc=&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(client.state());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot; try again in 2 seconds&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait 2 seconds before retrying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void read_sgp30()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  s16 err = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sgp_measure_iaq_blocking_read(&amp;VOC, &amp;CO2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (err == STATUS_OK) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;tVOC  Concentration:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(VOC);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(&quot;ppb&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;CO2eq Concentration:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(CO2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(&quot;ppm&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(&quot;error reading IAQ values\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void send_data()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(VOC, 4, 0, str_voc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(CO2, 4, 0, str_co2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Builds the topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s&quot;, &quot;&quot;); // Cleans the topic content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s%s&quot;, &quot;/v2.0/devices/&quot;, DEVICE_LABEL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Builds the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL1); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_voc); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL2); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_co2); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.loop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (sgp_probe() != STATUS_OK) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(&quot;SGP failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sgp_set_absolute_humidity(13000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sgp_iaq_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setRotation(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setTextSize(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  while(!Serial);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set WiFi to station mode and disconnect from an AP if it was previously connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.mode(WIFI_STA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connecting to WiFi...&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (WiFi.status() != WL_CONNECTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connected to the WiFi&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setServer(mqttBroker, 1883);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setCallback(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read_sgp30();    //Reading sgp30 sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  send_data();     //Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(5000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-grove-temphumi-sensor-data-to-ubidots">Send Grove Temp&amp;Humi Sensor Data to Ubidots<a class="hash-link" href="#send-grove-temphumi-sensor-data-to-ubidots" title="标题的直接链接">​</a></h3><p>If you want to send Grove Temp&amp;Humi Sensor data to Ubidots, paste the complete code below into the Arduino and upload it to the Wio Terminal.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;PubSubClient.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;rpcWiFi.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;TFT_eSPI.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;SensirionI2CSht4x.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;Wire.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL1 &quot;temperature&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL2 &quot;humidity&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const long interval = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsigned long previousMillis = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char mqttBroker[] = &quot;industrial.api.ubidots.com&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WiFiClient wifiClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubSubClient client(wifiClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TFT_eSPI tft = TFT_eSPI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SensirionI2CSht4x sht4x;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static float temp = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static float humi = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Space to store values to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_temp[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_humi[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char payload[700];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char topic[150];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void callback(char* topic, byte* payload, unsigned int length){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Message arrived [&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(topic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;] &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i=0;i&lt;length;i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print((char)payload[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void reconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Loop until we&#x27;re reconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Attempting MQTT connection...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Attempt to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (client.connect(MQTT_CLIENT_NAME, TOKEN,&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;connected&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&quot;failed, rc=&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(client.state());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot; try again in 2 seconds&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait 2 seconds before retrying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void read_sht40()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint16_t error;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  char errorMessage[256];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  error = sht4x.measureHighPrecision(temp, humi);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;Error trying to execute measureHighPrecision(): &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      errorToString(error, errorMessage, 256);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(errorMessage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;Temperature:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(temp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;\t&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.print(&quot;Humidity:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(humi);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void send_data()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(temp, 4, 2, str_temp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(humi, 4, 2, str_humi);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Builds the topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s&quot;, &quot;&quot;); // Cleans the topic content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s%s&quot;, &quot;/v2.0/devices/&quot;, DEVICE_LABEL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Builds the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL1); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_temp); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL2); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_humi); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.loop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Wire.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sht4x.begin(Wire);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setRotation(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setTextSize(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  while(!Serial);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set WiFi to station mode and disconnect from an AP if it was previously connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.mode(WIFI_STA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connecting to WiFi...&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (WiFi.status() != WL_CONNECTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connected to the WiFi&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setServer(mqttBroker, 1883);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setCallback(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read_sht40();    //Reading sht40 sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  send_data();     //Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(5000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-grove-vision-ai-module-data-to-ubidots">Send Grove Vision Ai Module Data to Ubidots<a class="hash-link" href="#send-grove-vision-ai-module-data-to-ubidots" title="标题的直接链接">​</a></h3><p>If you want to send Grove Vision Ai Module data to Ubidots, paste the complete code below into the Arduino and upload it to the Wio Terminal.</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;PubSubClient.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;rpcWiFi.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;TFT_eSPI.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include&quot;LIS3DHTR.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;Seeed_Arduino_GroveAI.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Required Information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define WIFISSID &quot;&lt;YOUR-WIFISSD&gt;&quot; // Put your WifiSSID here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define PASSWORD &quot;&lt;YOUR-WIFI-PASSWORD&quot; // Put your wifi password here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define TOKEN &quot;&lt;YOUR-UBIDOTS-TOKEN&gt;&quot; // Put your Ubidots&#x27; TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL1 &quot;num&quot; // Assign the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define VARIABLE_LABEL2 &quot;confidence&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define DEVICE_LABEL &quot;wio-terminal&quot; // Assign the device label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MQTT_CLIENT_NAME &quot;r6y1ax7mq8&quot; // MQTT client Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const long interval = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsigned long previousMillis = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char mqttBroker[] = &quot;industrial.api.ubidots.com&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WiFiClient wifiClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubSubClient client(wifiClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GroveAI ai(Wire);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint8_t state = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TFT_eSPI tft = TFT_eSPI();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static int num = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static int conf = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Space to store values to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_num[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char str_conf[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char payload[700];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char topic[150];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void callback(char* topic, byte* payload, unsigned int length){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;Message arrived [&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(topic);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.print(&quot;] &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i=0;i&lt;length;i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print((char)payload[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void reconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Loop until we&#x27;re reconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Attempting MQTT connection...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Attempt to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (client.connect(MQTT_CLIENT_NAME, TOKEN,&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;connected&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&quot;failed, rc=&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(client.state());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot; try again in 2 seconds&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Wait 2 seconds before retrying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Vision AI init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void VisionAI_Init()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(&quot;begin&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (ai.begin(ALGO_OBJECT_DETECTION, MODEL_EXT_INDEX_1)) // Object detection and pre-trained model 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Algo begin failed.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Read VisionAI values: number of characters recognized, confidence level for each person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void read_VisionAI()  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (state == 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32_t tick = millis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ai.invoke()) // begin invoke</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      while (1) // wait for invoking finished</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CMD_STATE_T ret = ai.state(); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (ret == CMD_STATE_IDLE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delay(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint8_t len = ai.get_result_len(); // receive how many people detect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if(len)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Serial.print(&quot;Number of people: &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         num = len;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Serial.println(num);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         object_detection_t data;       //get data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         for (int i = 0; i &lt; len; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ai.get_result(i, (uint8_t*)&amp;data, sizeof(object_detection_t)); //get result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Serial.print(&quot;confidence:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            conf = data.confidence;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Serial.println(conf);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Serial.println(&quot;No identification&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       num = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       conf = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Serial.println(&quot;Invoke Failed.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      num = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      conf = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void send_data()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(num, 4, 0, str_num);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dtostrf(conf, 4, 0, str_conf);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!client.connected()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Builds the topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s&quot;, &quot;&quot;); // Cleans the topic content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(topic, &quot;%s%s&quot;, &quot;/v2.0/devices/&quot;, DEVICE_LABEL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Builds the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL1); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_num); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s&quot;, &quot;&quot;); // Cleans the payload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;{\&quot;%s\&quot;:&quot;, VARIABLE_LABEL2); // Adds the variable label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s%s&quot;, payload, str_conf); // Adds the value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sprintf(payload, &quot;%s}&quot;, payload); // Closes the dictionary brackets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.publish(topic, payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.loop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Wire.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.begin();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setRotation(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.setTextSize(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VisionAI_Init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set WiFi to station mode and disconnect from an AP if it was previously connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.mode(WIFI_STA);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connecting to WiFi...&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (WiFi.status() != WL_CONNECTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WiFi.begin(WIFISSID, PASSWORD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.fillScreen(TFT_BLACK);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tft.drawString(&quot;Connected to the WiFi&quot;,20,120);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setServer(mqttBroker, 1883);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client.setCallback(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read_VisionAI(); //Reading visionai sensor values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  send_data();     //Sending data to Ubidots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  delay(5000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ubidots-panels">Ubidots Panels<a class="hash-link" href="#ubidots-panels" title="标题的直接链接">​</a></h3><p>Once the code has been uploaded, we can prepare to set up the dashboard to see how the data has been uploaded.</p><p>Ubidots has a very simple interface and if you want to view information about your device, you can select <strong>Devices</strong> right at the top of the dashboard.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/16.png" class="img_ev3q"></div><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/11.png" class="img_ev3q"></div><p>Click on your device name here to be able to see all the history tabs. This is determined by the <strong>VARIABLE_LABEL</strong> in the code.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/19.png" class="img_ev3q"></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>The free version of Ubidots only supports the creation of <strong>one TOKEN</strong> and <strong>ten labels</strong>. Once you have more than ten labels, the labels you have uploaded as well as the data will be discarded.</p></div></div><p>If you want to see the data information of your device, you can select <strong>Data</strong>.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/17.png" class="img_ev3q"></div><p>You can also select a different dashboard screen in the top left corner of the main page. By default to start with, Ubidots will automatically create a dashboard for you called <strong>Demo Dashboard</strong>. Once the Wio Terminal is networked and sending data, you will be able to see a dashboard called <strong>wio terminal dashboard</strong>. This is defined in the code under <strong>DEVICE_LABEL</strong>.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/18.png" class="img_ev3q"></div><p>You can add different panels under the current dashboard, which requires you to click on the <strong>+</strong> sign in the top right corner.</p><div align="center"><img loading="lazy" width="800" src="https://files.seeedstudio.com/wiki/k1100_ubidots/13.png" class="img_ev3q"></div><p>Below is a list of the panels supported by Ubidots.</p><div align="center"><img loading="lazy" width="600" src="https://files.seeedstudio.com/wiki/k1100_ubidots/15.png" class="img_ev3q"></div><p>Let&#x27;s take the example of creating a line chart table. If you want to draw a line chart of IMU sensor values, then you need to create three labels and the <strong>names of the labels need to match the VARIABLE_LABEL in your code</strong>, then just leave everything to Ubidots and it will be generated automatically for you.</p><div align="center"><img loading="lazy" width="600" src="https://files.seeedstudio.com/wiki/k1100_ubidots/14.png" class="img_ev3q"></div><p>Ubidots also has very powerful customisation features, such as whether to display values, the name of the Y-axis and how much data to display, all of which you can play with freely.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="标题的直接链接">​</a></h2><p>For all the codes used in this tutorial please click on the icon to access them.</p><div><p><a href="https://github.com/limengdu/K1100_Ubidots" target="_blank" rel="noopener noreferrer"></a></p><div align="center"><a href="https://github.com/limengdu/K1100_Ubidots" target="_blank" rel="noopener noreferrer"><img loading="lazy" width="300" src="https://files.seeedstudio.com/wiki/seeed_logo/github.png" class="img_ev3q"></a></div><p></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tech-support">Tech Support<a class="hash-link" href="#tech-support" title="标题的直接链接">​</a></h2><p>Please do not hesitate to submit the issue into our <a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer">forum</a>.</p><p style="text-align:center"><a href="https://www.seeedstudio.com/act-4.html?utm_source=wiki&amp;utm_medium=wikibanner&amp;utm_campaign=newproducts" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="statement">Statement<a class="hash-link" href="#statement" title="标题的直接链接">​</a></h2><ul><li>The LoRa® Mark is a trademark of Semtech Corporation or its subsidiaries.</li><li>LoRaWAN® is a mark used under license from the LoRa Alliance®.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Getting_started_with_Ubidots.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>shuxu hu</b> <!-- -->于 <b><time datetime="2023-01-13T00:00:00.000Z">2023年1月13日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Wio-Terminal-Advanced-WiFi"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Advanced WiFi Usage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus_wiki/zh-CN/Network/SenseCAP_K1100/Wi-Fi-Network_Application/Cloud_Service/Quick-Start-to-using-Blynk"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Blynk Usage</div></a></nav></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preliminary-preparation" class="table-of-contents__link toc-highlight">Preliminary Preparation</a><ul><li><a href="#connection" class="table-of-contents__link toc-highlight">Connection</a></li><li><a href="#software-preparation" class="table-of-contents__link toc-highlight">Software preparation</a></li></ul></li><li><a href="#operation-steps" class="table-of-contents__link toc-highlight">Operation Steps</a><ul><li><a href="#send-built-in-sensors-data-to-ubidots" class="table-of-contents__link toc-highlight">Send built-in sensors Data to Ubidots</a></li><li><a href="#send-grove-soil-moisture-sensor-data-to-ubidots" class="table-of-contents__link toc-highlight">Send Grove Soil Moisture Sensor Data to Ubidots</a></li><li><a href="#send-grove-voc-and-eco2-gas-sensor-data-to-ubidots" class="table-of-contents__link toc-highlight">Send Grove VOC and eCO2 Gas Sensor Data to Ubidots</a></li><li><a href="#send-grove-temphumi-sensor-data-to-ubidots" class="table-of-contents__link toc-highlight">Send Grove Temp&amp;Humi Sensor Data to Ubidots</a></li><li><a href="#send-grove-vision-ai-module-data-to-ubidots" class="table-of-contents__link toc-highlight">Send Grove Vision Ai Module Data to Ubidots</a></li><li><a href="#ubidots-panels" class="table-of-contents__link toc-highlight">Ubidots Panels</a></li></ul></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#tech-support" class="table-of-contents__link toc-highlight">Tech Support</a></li><li><a href="#statement" class="table-of-contents__link toc-highlight">Statement</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Navigation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/zh-CN/Getting_Started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/zh-CN/Sensor_Network">Sensor Network</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/zh-CN/Edge_Computing">Edge Computing</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/zh-CN/CloudnChain">Cloud &amp; Chain</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/zh-CN/Solutions">Solutions</a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/QqMgVwHT3X" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://project.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Hub</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/ecosystem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partners</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/distributors.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Distributors</a></li></ul></div><div class="col footer__col"><div class="footer__title">Quick Guide</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bazzar</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/HowToGetHelp" target="_blank" rel="noopener noreferrer" class="footer__link-item">How to get help</a></li><li class="footer__item"><a href="https://support.seeedstudio.com/knowledgebase" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQs</a></li><li class="footer__item"><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/TechnicalSupport" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technical Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/about-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Seeed</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/join-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Join us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/contacts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/blog/2020/04/22/seeed-in-the-news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Press</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Seeed Studio, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus_wiki/zh-CN/assets/js/runtime~main.6ee2a286.js"></script>
<script src="/docusaurus_wiki/zh-CN/assets/js/main.6fe5e388.js"></script>
</body>
</html>