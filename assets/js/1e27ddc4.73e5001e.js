"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[52229],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),u=a,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||i;return n?r.createElement(h,l(l({ref:t},d),{},{components:n})):r.createElement(h,l({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:a,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},40665:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={description:"reTerminal E10-1",title:"reTerminal E10-1",keywords:["Edge","reTerminal Extension_Board"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"2/1/2023",author:"jianjing Huang"}},l="**Getting Started with reTerminal E10-1**",o={unversionedId:"Edge/reTerminal/Extension_Board/reTerminalBridge",id:"Edge/reTerminal/Extension_Board/reTerminalBridge",title:"reTerminal E10-1",description:"reTerminal E10-1",source:"@site/docs/Edge/reTerminal/Extension_Board/reTerminalBridge.md",sourceDirName:"Edge/reTerminal/Extension_Board",slug:"/Edge/reTerminal/Extension_Board/reTerminalBridge",permalink:"/docusaurus_wiki/Edge/reTerminal/Extension_Board/reTerminalBridge",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Edge/reTerminal/Extension_Board/reTerminalBridge.md",tags:[],version:"current",lastUpdatedBy:"jianjing Huang",lastUpdatedAt:1675209600,formattedLastUpdatedAt:"Feb 1, 2023",frontMatter:{description:"reTerminal E10-1",title:"reTerminal E10-1",keywords:["Edge","reTerminal Extension_Board"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"2/1/2023",author:"jianjing Huang"}},sidebar:"ProductSidebar",previous:{title:"Stream-pi & OBS studio for reTerminal",permalink:"/docusaurus_wiki/Edge/reTerminal/OS_Installation/Streampi_OBS_On_reTerminal"},next:{title:"reTerminal Mount Options",permalink:"/docusaurus_wiki/Edge/reTerminal/Extension_Board/reTerminal_Mount_Options"}},s={},p=[{value:"<strong>Materials Required</strong>",id:"materials-required",level:3},{value:"<strong>Preliminary Preparation</strong>",id:"preliminary-preparation",level:3},{value:"<strong>Connection</strong>",id:"connection",level:4},{value:"<strong>Installation and removal</strong>",id:"installation-and-removal",level:4},{value:"<strong>Driver Installation</strong>",id:"driver-installation",level:4},{value:"<strong>Install Libraries</strong>",id:"install-libraries",level:4},{value:"<strong>Power Supply</strong>",id:"power-supply",level:3},{value:"<strong>DC Jack</strong>",id:"dc-jack",level:4},{value:"<strong>PoE</strong>",id:"poe",level:4},{value:"<strong>UPS -18650 battery</strong>",id:"ups--18650-battery",level:4},{value:"<strong>Fan</strong>",id:"fan",level:3},{value:"<strong>CAN Communication</strong>",id:"can-communication",level:3},{value:"<strong>RS485  Communication</strong>",id:"rs485--communication",level:3},{value:"<strong>RS232  Communication</strong>",id:"rs232--communication",level:3},{value:"<strong>Ethernet</strong>",id:"ethernet",level:3},{value:"<strong>WM1302 (USB/SPI) LoRaWAN Gateway</strong>",id:"wm1302-usbspi-lorawan-gateway",level:3},{value:"<strong>Hard Drive Expansion</strong>",id:"hard-drive-expansion",level:3},{value:"Format Harddrive",id:"format-harddrive",level:4},{value:"<strong>EC25-EUX 4G Module</strong>",id:"ec25-eux-4g-module",level:3},{value:"<strong>Audio</strong>",id:"audio",level:3},{value:"Resources",id:"resources",level:2},{value:"FAQ",id:"faq",level:2},{value:"Tech Support",id:"tech-support",level:2}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"getting-started-with-reterminal-e10-1"},(0,a.kt)("strong",{parentName:"h1"},"Getting Started with reTerminal E10-1")),(0,a.kt)("h3",{id:"materials-required"},(0,a.kt)("strong",{parentName:"h3"},"Materials Required")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"reTerminal"),(0,a.kt)("th",{parentName:"tr",align:null},"reTerminal E10-1"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:210,src:"https://files.seeedstudio.com/wiki/ReTerminal/wiki_thumb.png"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:210,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/reterminale10overviewnew.jpeg"})))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},(0,a.kt)("strong",{parentName:"a"},"Get ONE Now"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},(0,a.kt)("strong",{parentName:"a"},"Get ONE Now")))))),(0,a.kt)("h3",{id:"preliminary-preparation"},(0,a.kt)("strong",{parentName:"h3"},"Preliminary Preparation")),(0,a.kt)("h4",{id:"connection"},(0,a.kt)("strong",{parentName:"h4"},"Connection")),(0,a.kt)("p",null,"Note the orientation and place the reTerminal on the reTerminal E10-1, and force them to fit snugly. If the reTerminal E10-1 is powered on at this time, reTerminal will wake up and boot into the system. If you want to know more about reTerminal, please click ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/reTerminal/"},(0,a.kt)("strong",{parentName:"a"},"reTerminal")),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image3.png"})),(0,a.kt)("h4",{id:"installation-and-removal"},(0,a.kt)("strong",{parentName:"h4"},"Installation and removal")),(0,a.kt)("p",null,"In the process of using the reTerminal E10-1, it may be necessary to remove its casing to add peripherals."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image002.png"})),(0,a.kt)("h4",{id:"driver-installation"},(0,a.kt)("strong",{parentName:"h4"},"Driver Installation")),(0,a.kt)("p",null,"If you want reTerminal to use the functions of reTerminal E10-1, you need to install the driver for reTerminal before starting. Please follow the commands in the terminal window of reTerminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Seeed-Studio/seeed-linux-dtoverlays.git\ncd seeed-linux-dtoverlays\nsudo ./scripts/reTerminal.sh\n")),(0,a.kt)("p",null,"After the installation is complete, please restart the machine. Then use the following command to check whether the ",(0,a.kt)("inlineCode",{parentName:"p"},"reTerminal-bridge.dtbo")," file exists to ensure that the driver installation is complete."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"ls /boot/overlays/reTerminal-bridge.dtbo\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:900,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image1.jpg"})),(0,a.kt)("h4",{id:"install-libraries"},(0,a.kt)("strong",{parentName:"h4"},"Install Libraries")),(0,a.kt)("p",null,"Install the python3 library."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get update\nsudo apt-get install python3-pip\nsudo pip3 install RPi.GPIO\nsudo apt-get install python3-serial\n")),(0,a.kt)("p",null,"Install the git library."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y git\n")),(0,a.kt)("h3",{id:"power-supply"},(0,a.kt)("strong",{parentName:"h3"},"Power Supply")),(0,a.kt)("p",null,"There are three methods to supply power shown as below:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"DC Jack"),(0,a.kt)("li",{parentName:"ul"},"PoE"),(0,a.kt)("li",{parentName:"ul"},"UPS -18650 battery")),(0,a.kt)("p",null,"The battery for this device is NCR18650B chargeable Li-ion battery. Please kindly know that no battery in the package, while the battery is available in regular convenience store and customer need to prepare themselves. And what we propose is Panasonic NCR18650B 3.6V 3400mAh."),(0,a.kt)("h4",{id:"dc-jack"},(0,a.kt)("strong",{parentName:"h4"},"DC Jack")),(0,a.kt)("p",null,"Supply power to the reTerminal, the expansion board and the battery in DC 12V @4A"),(0,a.kt)("h4",{id:"poe"},(0,a.kt)("strong",{parentName:"h4"},"PoE")),(0,a.kt)("p",null,"The PoE power input is RJ45 and supports a maximum of 25W power input."),(0,a.kt)("h4",{id:"ups--18650-battery"},(0,a.kt)("strong",{parentName:"h4"},"UPS -18650 battery")),(0,a.kt)("p",null,"2 x battery holder with fixed pin.During the charging process, the battery will automatically stop charging if it overheats, and LED 2 will flash the alarm."),(0,a.kt)("h3",{id:"fan"},(0,a.kt)("strong",{parentName:"h3"},"Fan")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},"Fan(inlcuded) x1")),(0,a.kt)("p",null,"In order to keep the reTerminal and reTerminal E10-1 at a normal temperature level under heavy load. There is a 3-Pin fan inside the reTerminal E10-1."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image29.jpg"})),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image031.jpg"})),(0,a.kt)("p",null,"This example introduces how to control fan on reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," We can directly control the fan switch by the following command."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"#Toggle fan on\nraspi-gpio set 23 op pn dh\n\n#Toggle fan off\nraspi-gpio set 23 op pn dl\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," We can also enable and disable the fan by detecting the temperature of the CPU. Please follow the steps below to download and run the program."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/limengdu/Seeed_reTerminal_Bridge_Fan_control.git\ncd Seeed_reTerminal_Bridge_Fan_control/\nsudo python3 fan.py\n")),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"fan.py")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"import sys \nimport time\ntry:\n import RPi.GPIO as GPIO \nexcept RuntimeError:\n print(\"Error importting Rpi.GPIO\")\n\nMAX_TEMP = 40.0\nMIN_TEMP = 20.0\n \ndef cpu_temp():\n f = open(\"/sys/class/thermal/thermal_zone0/temp\",'r') \n return float(f.read())/1000\n \ndef main():\n channel = 23\n GPIO.setmode(GPIO.BCM)\n \n # init 23 off\n GPIO.setup(channel,GPIO.OUT,initial=GPIO.LOW)\n is_close = True\n while 1:\n  temp = cpu_temp()\n  if is_close:\n   if temp > MAX_TEMP:\n    GPIO.output(channel,GPIO.HIGH)\n    is_close = False\n  else:\n   if temp < MIN_TEMP:\n    GPIO.output(channel,GPIO.LOW)\n    is_close = True\n  time.sleep(2.0)\n  GPIO.setwarnings(False) \n \nif __name__ == '__main__':\n main() \n")),(0,a.kt)("p",null,"After the code runs successfully, when the CPU temperature is detected to be higher than 40\xb0C, the fan will be turned on. When the temperature is lower than 20\xb0C, the fan will be turned off."),(0,a.kt)("h3",{id:"can-communication"},(0,a.kt)("strong",{parentName:"h3"},"CAN Communication")),(0,a.kt)("p",null,"A Controller Area Network (CAN) is a robust vehicle bus standard designed to allow microcontrollers and devices to communicate with each other's applications without a host computer."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x2"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x2"),(0,a.kt)("li",{parentName:"ul"},"male to male cable x2")),(0,a.kt)("p",null,"This example introduces how to use the CAN on the reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Use male to male cables to connect the two reTerminal E10-1s through the CAN interface."),(0,a.kt)("p",null,"H -> H\nL -> L\nGND -> GND"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/can.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Install the ",(0,a.kt)("strong",{parentName:"p"},"CAN-utils")," separately for the two reTerminals."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install can-utils\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image4.jpg"})),(0,a.kt)("p",null,"CAN-utils is a collection of extremely useful debugging tools using the CAN interface. It includes applications such as:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"candump \u2013 Dump can packets \u2013 display, filter and log to disk."),(0,a.kt)("li",{parentName:"ul"},"canplayer \u2013 Replay CAN log files."),(0,a.kt)("li",{parentName:"ul"},"cansend \u2013 Send a single frame."),(0,a.kt)("li",{parentName:"ul"},"cangen \u2013 Generate random traffic."),(0,a.kt)("li",{parentName:"ul"},"canbusload \u2013 display the current CAN bus utilisation.")),(0,a.kt)("p",null,"CAN-utils source can be obtained from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/linux-can/can-utils"},"GitHub repository"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Add configuration information for two reTerminals. Open the ",(0,a.kt)("strong",{parentName:"p"},"/boot/config.txt")," file with an editor and save it after adding ",(0,a.kt)("inlineCode",{parentName:"p"},"dtoverlay=seeed-can-fd-hat-v2")," at the end, then restart reTerminal."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Without an ID EEPROM on the \u2018hat\u2019 specifying the hardware, the Linux kernel will not automatically discover the CAN Controller on the SPI interface. To load the appropriate driver, you must specify device tree overlay settings at boot.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo nano /boot/config.txt\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image5.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," The CAN interface behaves just like a network interface. You should be able to get various statistics using ",(0,a.kt)("inlineCode",{parentName:"p"},"ifconfig -a")," (interface configuration)."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image6.jpg"})),(0,a.kt)("p",null,"Use the command ",(0,a.kt)("inlineCode",{parentName:"p"},"cangen can0 -v")," to send random data to test if the CAN communication goes well."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image7.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 5.")," You can manually bring up the CAN interface using:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ip link set can0 up type can bitrate 500000\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 6.")," Download the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/limengdu/Seeed_reTerminal_Bridge_CAN_exmaple"},"code")," to reTerminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/limengdu/Seeed_reTerminal_Bridge_CAN_exmaple\n")),(0,a.kt)("p",null,"One of the reTerminals compiles and runs the code that sends the data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cd Seeed_reTerminal_Bridge_CAN_exmaple/\ngcc cantransmit.c -o cantransmit\n")),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"cantransmit.c")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n\n#include <net/if.h>\n#include <sys/ioctl.h>\n#include <sys/socket.h>\n\n#include <linux/can.h>\n#include <linux/can/raw.h>\n\nint main(int argc, char **argv)\n{\n int s; \n struct sockaddr_can addr;\n struct ifreq ifr;\n struct can_frame frame;\n\n printf("CAN Sockets Demo\\r\\n");\n\n if ((s = socket(PF_CAN, SOCK_RAW, CAN_RAW)) < 0) {\n  perror("Socket");\n  return 1;\n }\n\n strcpy(ifr.ifr_name, "can0" );\n ioctl(s, SIOCGIFINDEX, &ifr);\n\n memset(&addr, 0, sizeof(addr));\n addr.can_family = AF_CAN;\n addr.can_ifindex = ifr.ifr_ifindex;\n\n if (bind(s, (struct sockaddr *)&addr, sizeof(addr)) < 0) {\n  perror("Bind");\n  return 1;\n }\n\n frame.can_id = 0x555;\n frame.can_dlc = 5;\n sprintf(frame.data, "Hello");\n\n if (write(s, &frame, sizeof(struct can_frame)) != sizeof(struct can_frame)) {\n  perror("Write");\n  return 1;\n }\n\n if (close(s) < 0) {\n  perror("Close");\n  return 1;\n }\n\n return 0;\n}\n')),(0,a.kt)("p",null,"Another reTerminal compiles and runs the code that receives the data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"gcc canreceive.c -o canreceive\n")),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"canreceive.c")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n\n#include <net/if.h>\n#include <sys/ioctl.h>\n#include <sys/socket.h>\n\n#include <linux/can.h>\n#include <linux/can/raw.h>\n\nint main(int argc, char **argv)\n{\n int s, i; \n int nbytes;\n struct sockaddr_can addr;\n struct ifreq ifr;\n struct can_frame frame;\n\n printf("CAN Sockets Receive Demo\\r\\n");\n\n if ((s = socket(PF_CAN, SOCK_RAW, CAN_RAW)) < 0) {\n  perror("Socket");\n  return 1;\n }\n\n strcpy(ifr.ifr_name, "can0" );\n ioctl(s, SIOCGIFINDEX, &ifr);\n\n memset(&addr, 0, sizeof(addr));\n addr.can_family = AF_CAN;\n addr.can_ifindex = ifr.ifr_ifindex;\n\n if (bind(s, (struct sockaddr *)&addr, sizeof(addr)) < 0) {\n  perror("Bind");\n  return 1;\n }\n\n nbytes = read(s, &frame, sizeof(struct can_frame));\n\n  if (nbytes < 0) {\n  perror("Read");\n  return 1;\n }\n\n printf("0x%03X [%d] ",frame.can_id, frame.can_dlc);\n\n for (i = 0; i < frame.can_dlc; i++)\n  printf("%02X ",frame.data[i]);\n\n printf("\\r\\n");\n\n if (close(s) < 0) {\n  perror("Close");\n  return 1;\n }\n\n return 0;\n}\n')),(0,a.kt)("p",null,"You can see that the two reTerminals successfully send and receive data through the CAN interface."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image8.jpg"})),(0,a.kt)("p",null,"In addition to reading, you may want to filter out CAN frames that are not relevant. This happens at the driver level and this can be more efficient that reading each frame in a user mode application."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"gcc canfilter.c -o canfilter\n")),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"canfilter.c")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n\n#include <net/if.h>\n#include <sys/ioctl.h>\n#include <sys/socket.h>\n\n#include <linux/can.h>\n#include <linux/can/raw.h>\n\nint main(int argc, char **argv)\n{\n int s, i; \n int nbytes;\n struct sockaddr_can addr;\n struct ifreq ifr;\n struct can_frame frame;\n\n printf("CAN Sockets Receive Filter Demo\\r\\n");\n\n if ((s = socket(PF_CAN, SOCK_RAW, CAN_RAW)) < 0) {\n  perror("Socket");\n  return 1;\n }\n\n strcpy(ifr.ifr_name, "can0" );\n ioctl(s, SIOCGIFINDEX, &ifr);\n\n memset(&addr, 0, sizeof(addr));\n addr.can_family = AF_CAN;\n addr.can_ifindex = ifr.ifr_ifindex;\n\n if (bind(s, (struct sockaddr *)&addr, sizeof(addr)) < 0) {\n  perror("Bind");\n  return 1;\n }\n\n /*\n To set up a filter, initialise a single can_filter structure or array of \n structures and populate the can_id and can_mask. The call setsockopt():\n */\n struct can_filter rfilter[1];\n\n rfilter[0].can_id   = 0x550;\n rfilter[0].can_mask = 0xFF0;\n //rfilter[1].can_id   = 0x200;\n //rfilter[1].can_mask = 0x700;\n\n setsockopt(s, SOL_CAN_RAW, CAN_RAW_FILTER, &rfilter, sizeof(rfilter));\n\n nbytes = read(s, &frame, sizeof(struct can_frame));\n\n if (nbytes < 0) {\n  perror("Read");\n  return 1;\n }\n\n printf("0x%03X [%d] ",frame.can_id, frame.can_dlc);\n\n for (i = 0; i < frame.can_dlc; i++)\n  printf("%02X ",frame.data[i]);\n\n printf("\\r\\n");\n\n // And finally, if there is no further need for the socket, close it:\n if (close(s) < 0) {\n  perror("Close");\n  return 1;\n }\n\n return 0;\n}\n')),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Most CAN controllers have acceptance filters and masks included in silicon (hardware). Unfortunately, the current architecture performs filtering in the kernel and is not as optimal, but still better than passing all frames up to the user mode app.")),(0,a.kt)("h3",{id:"rs485--communication"},(0,a.kt)("strong",{parentName:"h3"},"RS485  Communication")),(0,a.kt)("p",null,"RS485, also known as TIA-485(-A) or EIA-485, is a standard defining the electrical characteristics of drivers and receivers for use in serial communications systems. Electrical signaling is balanced, and multipoint systems are supported. Digital communications networks implementing the standard can be used effectively over long distances and in electrically noisy environments. Multiple receivers may be connected to such a network in a linear, multidrop bus."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/USB-TO-RS232--RS485--TTL-Industrial-Isolated-Converter-p-3231.html"},"USB To RS485 Industrial Isolated Converter")," and cable")),(0,a.kt)("p",null,"This example introduces how to use the RS485 on the reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Since the RS485 function uses ttyS0, it is necessary to close the ttyS0 system interaction function before starting."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo raspi-config\n")),(0,a.kt)("p",null,"Select ",(0,a.kt)("strong",{parentName:"p"},"Interface Options"),", ",(0,a.kt)("strong",{parentName:"p"},"Serial port")," in turn."),(0,a.kt)("p",null,"On the next screen you will be prompted if you want to login shell accessible over serial, select ",(0,a.kt)("strong",{parentName:"p"},"No"),"."),(0,a.kt)("p",null,"Then in \u201cDo you want to use serial port hardware\u201d, make sure ",(0,a.kt)("strong",{parentName:"p"},"Yes")," is selected with."),(0,a.kt)("p",null,"After reTerminal has made changes, you will see the following text appear on the screen."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image9.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Use a cable to connect the reTerminal E10-1 to the computer via the RS485 interface."),(0,a.kt)("p",null,"A -> A\nB -> B\nGND -> GND"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/rs485.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Use the command ",(0,a.kt)("inlineCode",{parentName:"p"},"dmesg | grep tty")," to view the serial port name. Determine the serial port name for RS485 communication with the computer. This may vary from computer to computer. In general, it is ",(0,a.kt)("strong",{parentName:"p"},"ttyS0"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image10.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Download the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/limengdu/Seeed_reTerminal_Bridge_RS485_exmaple"},"code")," to reTerminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/limengdu/Seeed_reTerminal_Bridge_RS485_exmaple\ncd Seeed_reTerminal_Bridge_RS485_exmaple/\n")),(0,a.kt)("p",null,"Open the serial port software on the computer. Execute the command ",(0,a.kt)("inlineCode",{parentName:"p"},"sudo python3 rs485.py")," to get the following effects."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image11.png"})),(0,a.kt)("p",null,"At the same time, you can also send 16-byte data to reTerminal through the serial port assistant within 5 seconds of receiving the message."),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"rs485.py")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'import serial, time\ntry:\n    import RPi.GPIO as GPIO\nexcept RuntimeError:\n    print("Error importting Rpi.GPIO")\n\nGPIO.setmode(GPIO.BCM)\n\nser = serial.Serial()\nser.port = "/dev/ttyS0"\nchannel1 = 25\nchannel2 = 17\n\n#9600,N,8,1\nser.baudrate = 9600\nser.bytesize = serial.EIGHTBITS    #number of bits per bytes\nser.parity = serial.PARITY_NONE    #set parity check\nser.stopbits = serial.STOPBITS_ONE #number of stop bits\n\nser.timeout = 0.5                  #non-block read 0.5s\nser.writeTimeout = 0.5             #timeout for write 0.5s\nser.xonxoff = False                #disable software flow control\nser.rtscts = False                 #disable hardware (RTS/CTS) flow control\nser.dsrdtr = False                 #disable hardware (DSR/DTR) flow control\n\nGPIO.setup(channel1,GPIO.OUT,initial=GPIO.LOW)\nGPIO.setup(channel2,GPIO.OUT,initial=GPIO.LOW)\n\ntry:\n    ser.open()\nexcept Exception as ex:\n    print ("open serial port error " + str(ex))\n    exit()\n\nif ser.isOpen():\n    try:\n        ser.flushInput() #flush input buffer\n        ser.flushOutput() #flush output buffer\n        GPIO.output(channel1,GPIO.HIGH)\n        GPIO.output(channel2,GPIO.HIGH)\n        time.sleep(0.1)\n        #write data\n        ser.write("rs485 communication is on, you can try to send data...\\n".encode())\n        print("Sent successfully\\n")\n        GPIO.output(channel2,GPIO.LOW)\n        time.sleep(5)  #wait 5s\n        #read data\n        response = ser.read(16)\n        print("read 16 byte data:")\n        print(response)\n        ser.close()\n    except Exception as e1:\n        print ("communicating error " + str(e1))\nelse:\n    print ("open serial port error")\n')),(0,a.kt)("h3",{id:"rs232--communication"},(0,a.kt)("strong",{parentName:"h3"},"RS232  Communication")),(0,a.kt)("p",null,"RS-232 or Recommended Standard 232 is a standard originally introduced in 1960 for serial communication transmission of data. It formally defines signals connecting between a DTE and a DCE. Compared with later interfaces such as RS-422, RS-485 and Ethernet, RS-232 has lower transmission speed, shorter maximum cable length, larger voltage swing, larger standard connectors, no multipoint capability and limited multidrop capability."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/USB-TO-RS232--RS485--TTL-Industrial-Isolated-Converter-p-3231.html"},"USB To RS232 Industrial Isolated Converter")," and cable")),(0,a.kt)("p",null,"This example introduces how to use the RS232 on the reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Since the RS485 function uses ttyS0, it is necessary to close the ttyS0 system interaction function before starting."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo raspi-config\n")),(0,a.kt)("p",null,"Select ",(0,a.kt)("strong",{parentName:"p"},"Interface Options"),", ",(0,a.kt)("strong",{parentName:"p"},"Serial port")," in turn."),(0,a.kt)("p",null,"On the next screen you will be prompted if you want to login shell accessible over serial, select ",(0,a.kt)("strong",{parentName:"p"},"No"),"."),(0,a.kt)("p",null,"Then in \u201cDo you want to use serial port hardware\u201d, make sure ",(0,a.kt)("strong",{parentName:"p"},"Yes")," is selected with."),(0,a.kt)("p",null,"After reTerminal has made changes, you will see the following text appear on the screen."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image9.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Use a cable to connect the reTerminal E10-1 to the computer via the RS232 interface."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/rs232.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Use the command ",(0,a.kt)("inlineCode",{parentName:"p"},"dmesg | grep tty")," to view the serial port name. Determine the serial port name for RS232 communication with the computer. This may vary from computer to computer. In general, it is ",(0,a.kt)("strong",{parentName:"p"},"ttyS0"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image12.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Download the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/limengdu/Seeed_reTerminal_Bridge_RS232_exmaple"},"code")," to reTerminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/limengdu/Seeed_reTerminal_Bridge_RS232_exmaple\ncd Seeed_reTerminal_Bridge_RS232_exmaple/\n")),(0,a.kt)("p",null,"One of the reTerminals compiles and runs the code that sends the data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo python3 rs232_send.py\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image13.jpg"})),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"rs232_send.py")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'#!/usr/bin/env python\nimport time\nimport serial\n\nser = serial.Serial(\n        port=\'/dev/ttyS0\',              # Please modify here according to the serial port name displayed by reTerminal\n        baudrate = 9600,\n        parity=serial.PARITY_NONE,\n        stopbits=serial.STOPBITS_ONE,\n        bytesize=serial.EIGHTBITS,\n        timeout=1\n)\ncounter=0\ntry:\n        print("rs232 starts now!\\n")\n        ser.write("rs232 starts now!\\n".encode())\n        while 1:\n                ser.write(("Write counter:{}\\n".format(counter)).encode())\n                time.sleep(1)\n                counter += 1\nexcept KeyboardInterrupt:\n    exit()\n')),(0,a.kt)("p",null,"Another reTerminal compiles and runs the code that receives the data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo python3 rs232_receive.py\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image14.jpg"})),(0,a.kt)("p",null,"Here is the ",(0,a.kt)("strong",{parentName:"p"},"rs232_receive.py")," code for reference."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"#!/usr/bin/env python\nimport time\nimport serial\n\nser = serial.Serial(\n        port='/dev/ttyS0',\n        baudrate = 9600,\n        parity=serial.PARITY_NONE,\n        stopbits=serial.STOPBITS_ONE,\n        bytesize=serial.EIGHTBITS,\n        timeout=1\n)\ntry:\n    print(\"Start receiving data now!\\n\")\n    while 1:\n            x=ser.readline()\n            if x != b'':\n                print(x)\nexcept KeyboardInterrupt:\n        exit()\n")),(0,a.kt)("h3",{id:"ethernet"},(0,a.kt)("strong",{parentName:"h3"},"Ethernet")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1")),(0,a.kt)("p",null,"This example introduces how to test the ethernet connection on reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Download the ",(0,a.kt)("strong",{parentName:"p"},"iperf3")," for reTerminal and computer."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/esnet/iperf.git\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Use the following codes to install the ",(0,a.kt)("strong",{parentName:"p"},"iperf3")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd iperf\nsudo ./configure\nsudo make\nsudo make install\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Use reTerminal as server."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"iperf3 -s\n")),(0,a.kt)("p",null,"Use a computer to test the network speed connected to reTerminal. At this time, please keep the computer and reTerminal in the same local area network."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"iperf3 -c 192.168.xxx.xxx\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},'The address "192.168.xxx.xxx" above is the reTerminal address.')),(0,a.kt)("p",null,"For example, in my setup the ip address of reTerminal is ",(0,a.kt)("inlineCode",{parentName:"p"},"192.168.31.187"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"iperf3 -c 192.168.31.187\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image17.jpg"})),(0,a.kt)("p",null,"If you need to complete more network testing functions, you can refer to the use of query parameters on the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/esnet/iperf"},"iperf")," project website."),(0,a.kt)("h3",{id:"wm1302-usbspi-lorawan-gateway"},(0,a.kt)("strong",{parentName:"h3"},"WM1302 (USB/SPI) LoRaWAN Gateway")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/WM1302-LoRaWAN-Gateway-Module-USB-EU868-p-4892.html"},"WM1302 LoRaWAN Gateway Module (USB/SPI) US/EU")," x1")),(0,a.kt)("p",null,"The difference between USB and SPI module is shown below:"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/reTerminalLoRa.png"})),(0,a.kt)("p",null,"This example introduces how to use WM1302 LoRaWAN Gateway on reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Install the WM1302 module on the reTerminal E10-1, and then fix it with screws."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/039.jpg"})),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image18.jpg"})),(0,a.kt)("p",null,"Then turn the button next to the fan to PCIE."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/045.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," type ",(0,a.kt)("inlineCode",{parentName:"p"},"sudo raspi-config")," in command line to open Rasberry Pi Software Configuration Tool:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Select Interface Options"),(0,a.kt)("li",{parentName:"ul"},"Select SPI, then select ",(0,a.kt)("strong",{parentName:"li"},"Yes")," to enable it"),(0,a.kt)("li",{parentName:"ul"},"Select I2C, then select ",(0,a.kt)("strong",{parentName:"li"},"Yes")," to enable it"),(0,a.kt)("li",{parentName:"ul"},"Select Serial Port, then select ",(0,a.kt)("strong",{parentName:"li"},"No"),' for "Would you like a login shell..." and select ',(0,a.kt)("strong",{parentName:"li"},"Yes"),' for "Would you like the serial port hardware..."')),(0,a.kt)("p",null,"After this, please reboot Raspberry Pi to make sure these settings work."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Download the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Lora-net/sx1302_hal"},"WM1302 code")," to reTerminal and compile it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Lora-net/sx1302_hal\ncd sx1302_hal\nsudo make\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Configure the reset script. First download the file to ",(0,a.kt)("strong",{parentName:"p"},"sx1302_hal/packet_forwarder")," use the command"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd sx1302_hal/packet_forwarder\nwget https://files.seeedstudio.com/wiki/reTerminal_bridge/reset_lgw.sh\n")),(0,a.kt)("p",null,"Then run the following code test according to your WM1302 version."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"USB version\n$ cd packet_forwarder\n$ ./lora_pkt_fwd -c global_conf.json.sx1250.EU868.USB\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"SPI version\n$ cd packet_forwarder\n$ ./lora_pkt_fwd -c global_conf.json.sx1250.EU868\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:700,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image20.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 5.")," Sign up at ",(0,a.kt)("a",{parentName:"p",href:"https://www.thethingsnetwork.org/"},"TTN website"),' and log into your account. If you don\'t have one please registe. Then enter the Gateway interface and click "Get Starting"'),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/reTerminalLoRa1.png"})),(0,a.kt)("p",null,"Select your region."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:300,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/reTerminalLoRa2.png"})),(0,a.kt)("p",null,'Chose "Go to gateways"'),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/reTerminalLoRa3.png"})),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"Add gateway")," to add the device:"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image22.jpg"})),(0,a.kt)("p",null,"Among them, the value of ",(0,a.kt)("strong",{parentName:"p"},"Gateway EUI")," will be displayed in the log when the test is run in ",(0,a.kt)("strong",{parentName:"p"},"step 4"),". The Frequency plan in Lora options (take the European version as an example) select ",(0,a.kt)("strong",{parentName:"p"},"Europe 863-870 MHz (SF9 for RX2 - recommended)"),". Then click on ",(0,a.kt)("strong",{parentName:"p"},"Create gateway"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image23.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 6.")," (Take the European version as an example)\nIf it is SPI version, edit ",(0,a.kt)("strong",{parentName:"p"},"global_conf.json.sx1250.EU868")," in the ",(0,a.kt)("strong",{parentName:"p"},"sx1302_hal/packet_forwarder"),"."),(0,a.kt)("p",null,"If it is USB version, edit ",(0,a.kt)("strong",{parentName:"p"},"global_conf.json.sx1250.EU868.USB")," in the ",(0,a.kt)("strong",{parentName:"p"},"sx1302_hal/packet_forwarder"),"."),(0,a.kt)("p",null,"Search for ",(0,a.kt)("strong",{parentName:"p"},"gateway_conf")," in the corresponding file."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Then change the ",(0,a.kt)("strong",{parentName:"p"},"gateway_ID")," behind to the ",(0,a.kt)("strong",{parentName:"p"},"Gateway EUI")," filled in the webpage.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"server_address")," is modified to the ",(0,a.kt)("strong",{parentName:"p"},"Gateway Server address")," in the web page.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Both ",(0,a.kt)("strong",{parentName:"p"},"serv_port_up")," and ",(0,a.kt)("strong",{parentName:"p"},"serv_port_up")," are modified to ",(0,a.kt)("strong",{parentName:"p"},"1700"),"."))),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image24.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 7.")," Run the command in ",(0,a.kt)("strong",{parentName:"p"},"step 4")," again, and you can see the connection information of the device on the web page later."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"USB version\n$ ./lora_pkt_fwd -c global_conf.json.sx1250.EU868.USB\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"SPI version\n$ ./lora_pkt_fwd -c global_conf.json.sx1250.EU868\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:900,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image25.jpg"})),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The above tutorial is based on the European version of WM1302. If you are using the US version of the WM1302, the steps are generally the same, but the files to modify and run in the tutorial will be different. The file name refers to the version you purchased and the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Lora-net/sx1302_hal/tree/master/packet_forwarder"},"following pages"),".")),(0,a.kt)("h3",{id:"hard-drive-expansion"},(0,a.kt)("strong",{parentName:"h3"},"Hard Drive Expansion")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},"M.2 B key Connector x1")),(0,a.kt)("p",null,"This example introduces how to install and check hard disk operation on reTerminal E10-1."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Open the back cover of the reTerminal E10-1, insert the M.2 SSD into the Mini-PCIe Connector and fix it with screws. Close the back cover, connect the reTerminal and power up."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/040.jpg"})),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image26.jpg"})),(0,a.kt)("p",null,"Then turn the button next to the fan to M.2."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/046.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Enter the command to see if the SSD storage device is detected."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo fdisk -l\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/025.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," We can also use the dd command to test the read and write speed of the hard drive."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"Read\n$ sudo dd if=/dev/sda3 of=/dev/null bs=512k count=500\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"Write\n$ sudo dd if=/dev/zero of=/dev/sda3 bs=512k count=500\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/28.jpg"})),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Make sure you are using M.2 B key."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/add_pic_1.png"}))),(0,a.kt)("h4",{id:"format-harddrive"},"Format Harddrive"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"The following step will wipe all your data from the SSD you have connected to the reTerminal E10-1, also if you have selected the wrong drive media you, so please make sure you have followed the steps below carefully and make sure you understand purpose each of the steps.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Software Tools used"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"lsblk"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"fdisk"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"mkfs"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"mount"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"umount"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Find your SSD device Name\nonce you have connected your SSD in the reTerminal E10-1 and attached to the reTerminal, open terminal once the system has powered on, then type following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"lsblk\n")),(0,a.kt)("p",null,"you should see something similar:"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/lsblk.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Using fdisk to partition your SSD"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"You will lose the data on the SSD that you have attached to the reTerminal E10-1, after following this step.")),(0,a.kt)("p",null,"Followed by the steps above, type in following command in terminal, note the /dev/",(0,a.kt)("strong",{parentName:"p"},"sdX")," where the ",(0,a.kt)("strong",{parentName:"p"},"X")," is the ",(0,a.kt)("strong",{parentName:"p"},"SSD device Name")," that you have choosen to get formated, make sure there are no other USB drives attached to reTerminal, unless you are confident with the correct device name."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo fdisk /dev/sdX\n")),(0,a.kt)("p",null,"For example, in my case:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo fdisk /dev/sda\n")),(0,a.kt)("p",null,"you should see something similiar as shown below:"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/fdisk.png"})),(0,a.kt)("p",null,"At the fdisk promte:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"Welcome to fdisk (util-linux 2.36.1).\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\n\nCommand (m for help):\n")),(0,a.kt)("p",null,"First type ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"d"))," to delete the partitions on the SSD device."),(0,a.kt)("p",null,"Then followed by type ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"n"))," for create new partition on the SSD device."),(0,a.kt)("p",null,"After that you shuold see following message:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"Partition type\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended (container for logical partitions)\n")),(0,a.kt)("p",null,"Type ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"p"))," for create a primary partition, then followed by ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"1")),"."),(0,a.kt)("p",null,"Then for the First sector, you can press ",(0,a.kt)("strong",{parentName:"p"},"ENTER")," for default of using the beginning sector of the drive, or you could specify where to start the partion 1 on your SSD at specific sector location. In my case I just pressed Ennter for default value."),(0,a.kt)("p",null,"Then followed by select the last sector for partion 1, if you want utilising the whole drive space for partition 1 just press ",(0,a.kt)("strong",{parentName:"p"},"ENTER"),", or your can type in the specific sector location for the end of partion 1 this also means the storage size of the partition 1 you are creating."),(0,a.kt)("p",null,"Then press ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"Y"))," for remove the signature."),(0,a.kt)("p",null,"Then followed by ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"w"))," to write the changes and then quit the fdisk promte."),(0,a.kt)("p",null,"Here is an example of the process:"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/fdisk_sample.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Format your SSD partition to ext4 format\nNow you should create a partition/s for your SSD, you need to format the partition/s to the ext4 format in order to mount and use it. To do so by using the mkfs.ext4:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mkfs.ext4 /dev/sdXX\n")),(0,a.kt)("p",null,"similarly where the ",(0,a.kt)("inlineCode",{parentName:"p"},"sdXX")," is the device name of your SSD, in my case i use ",(0,a.kt)("inlineCode",{parentName:"p"},"/dev/sda1")," like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mkfs.ext4 /dev/sda1\n")),(0,a.kt)("p",null,"and at the ",(0,a.kt)("inlineCode",{parentName:"p"},"Proceed anyway? (y,N)")," type ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"y"))," and ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"ENTER")),", then wait couple secound until the process finished."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/mkfs.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Mount the partition\nNow you can mount the SSD to use as external disk for extra storage."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'sudo mkdir /media/"YOUR USER NAME"/"THE NAME YOU WANT TO MOUNT THE DRIVE"\n\nsudo mount /dev/sdXX /media/"YOUR USER NAME"/"THE NAME YOU WANT TO MOUNT THE DRIVE"\n')),(0,a.kt)("p",null,"where ",(0,a.kt)("strong",{parentName:"p"},'"YOUR USER NAME"')," is the user name of your reTerminal system and  ",(0,a.kt)("strong",{parentName:"p"},'"THE NAME YOU WANT TO MOUNT THE DRIVE"')," is the name you create to mount your drive, the ",(0,a.kt)("strong",{parentName:"p"},"/dev/sdXX")," is the device name of the SSD partition you want mount."),(0,a.kt)("p",null,"for example in my case:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mkdir /media/seeed/SSD\n\nsudo mount /dev/sda1 /media/seeed/SSD/\n")),(0,a.kt)("p",null,"To check if the SSD successfully mounted by:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"lsblk\n")),(0,a.kt)("p",null,"you should see similar output as my, where the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"/dev/sda1"))," is mounted to ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"/media/seeed/SSD")),":"),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/mount.png"})),(0,a.kt)("h3",{id:"ec25-eux-4g-module"},(0,a.kt)("strong",{parentName:"h3"},"EC25-EUX 4G Module")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1"),(0,a.kt)("li",{parentName:"ul"},"EC25-EUX 4G Module x1"),(0,a.kt)("li",{parentName:"ul"},"SIM Card x1")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Open the back cover of the reTerminal E10-1, then install the EC25-EUX and SIM card onto the reTerminal E10-1."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/039.jpg"})),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/041.jpg"})),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/042.jpg"})),(0,a.kt)("p",null,"Then turn the button next to the fan to PCIE."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/045.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Check if EC25-EUX gets detectd by using ",(0,a.kt)("inlineCode",{parentName:"p"},"lsusb")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"lsusb\nlsusb -t\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/lsusb.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Install the serial communication tool minicom."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install minicom\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Connect EC25-EUX 4G module through minicom."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo minicom -D /dev/ttyUSB2 -b 1152008n1\n")),(0,a.kt)("p",null,"once the serial connection opened, Type in AT and press 'Enter', and you should see OK."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image31.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 5.")," Enable 4G module to connect to 4G network"),(0,a.kt)("p",null,"Please put in the 4G enabled sim-card in the sim card slot at Li-Po battery holder, where the sim card slot supports micro sim card, so if you have nano sim card you need to find a micro sim card adaptor to convert to micro sim card.  "),(0,a.kt)("p",null,"AT the same minicom serial window please type:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'AT+QCFG="usbnet"\n')),(0,a.kt)("p",null,"It will return something like ",(0,a.kt)("inlineCode",{parentName:"p"},'+QCFG: "usbnet",0,')," but we need that to be set to 1 (ECM mode), so enter the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'AT+QCFG="usbnet",1\n')),(0,a.kt)("p",null,"Then enter the following command to force the modem to reboot:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"AT+CFUN=1,1\n")),(0,a.kt)("p",null,"Then you could reboot or wait for a while for the moudel to get internet from your sim card carrier."),(0,a.kt)("p",null,"You can also use the command ",(0,a.kt)("inlineCode",{parentName:"p"},"ifconfig")," to query the networking status of reTerminal."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image33.png"})),(0,a.kt)("h3",{id:"audio"},(0,a.kt)("strong",{parentName:"h3"},"Audio")),(0,a.kt)("p",null,"In order to meet the multimedia needs of different users, a speaker module and two microphone modules are installed inside the reTermnal E10-1 to achieve the needs of playing sound and recording."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/028.jpg"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Materials Required")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/ReTerminal-with-CM4-p-4904.html"},"reTerminal")," x1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.seeedstudio.com/reTerminal-E10-1-p-5376.html"},"reTerminal E10-1")," x1")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Download and install the driver."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Seeed-Projects/seeed-voicecard.git\ncd seeed-voicecard\nsudo ./install.sh\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Add configuration items. Add ",(0,a.kt)("inlineCode",{parentName:"p"},"dtoverlay=seeed-2mic-voicecard")," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"/boot/config.txt"),". Then restart the device."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo sed -i '$s/$/\\ndtoverlay=seeed-2mic-voicecard/'  /boot/config.txt\n")),(0,a.kt)("p",null,"to check if you have modified ",(0,a.kt)("inlineCode",{parentName:"p"},"/boot/config.txt")," you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"nano")," text editor to open the file and scroll the last line to check:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"nano /boot/config.txt\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image35.jpg"})),(0,a.kt)("p",null,"Once its added to the ",(0,a.kt)("inlineCode",{parentName:"p"},"/boot/config.txt")," you can reboot now:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo reboot\n")),(0,a.kt)("p",null,"After waiting for the restart, use the command ",(0,a.kt)("inlineCode",{parentName:"p"},"arecord -l")," to view the recording device."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"arecord -L\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/030.png"})),(0,a.kt)("p",null,"As shown in the figure above, ",(0,a.kt)("strong",{parentName:"p"},"card 0 device 0")," is the device we need to use to record."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," According to the above information, use the command to perform the operation of recording and saving."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"arecord -Dhw:0,0 -d 10 -f cd -r 44100 -c 2 -t wav test.wav\n")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Parameter Parsing")),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-D")," specifies the recording device, 0,0 means card 0 device 0, which is bcm2835-i2s-wm8960-hifi wm8960-hifi-0."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-d")," specifies the duration of the recording, in seconds."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-f")," specifies the recording format, only supports cd, cdr, dat."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-r")," specifies the sampling rate in Hz."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-c")," specifies the number of channels."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"-t")," specifies the generated file format."))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 4.")," Check the playback device."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"aplay -l\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/031.png"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 5.")," Adjust the appropriate volume to play the sound."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo alsamixer\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image38.jpg"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo aplay -Dhw:0 test.wav\n")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/reTerminal_Bridge/image39.jpg"})),(0,a.kt)("h2",{id:"resources"},"Resources"),(0,a.kt)("h2",{id:"faq"},"FAQ"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"What type of 18650 batteries are compatible?")),(0,a.kt)("p",null,"Answer: Panasonic NCR18650B 3.6V 3400mAh is recommended."),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Do the batteries need to have their own overcurrent/undervoltage/overvoltage protection?")),(0,a.kt)("p",null,"Answer: No, because reTerminal E10-1 has battery protection circuit"),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"What model of CAN and RS485 controller does it use?")),(0,a.kt)("p",null,"Answer:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"485controller\uff1aTP485E"),(0,a.kt)("li",{parentName:"ul"},"CAN\xa0controller\uff1aMCP2518FDT-E/QBB")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Installed\xa0E10\xa0yesterday,\xa0is\xa0the\xa0battery\xa0information\xa0(charge\xa0level)\xa0correct?\xa0\xa0shows\xa0it\xa0as\xa0red\xa0(0%)\xa0even\xa0if\xa0I\xa0just\xa0took\xa0them\xa0out\xa0of\xa0the\xa0charger.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Kernel:\xa05.10.103-v8+\xa0aarch64\xa0bits:\xa064\xa0Console:\xa0tty\xa00\xa0Distro:\xa0Debian\xa0GNU/Linux\xa010\n")),(0,a.kt)("p",null,"Power display feature: not yet developed, but your voice got and we will schedule the development of this feature"),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"Is the reterminal extension provide another (separate) ethernet port --\x3e so we have two ethernet port ?")),(0,a.kt)("p",null,"These two ports can be used simultaneously without affecting each other."),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},"Is the RS232 and RS485 are independant/separated (sometimes, in some hardware, you can use juste one ...)")),(0,a.kt)("p",null,"You can only use either RS232 or RS485 at one time."),(0,a.kt)("h2",{id:"tech-support"},"Tech Support"),(0,a.kt)("p",null,"Please submit any technical issue into our ",(0,a.kt)("a",{parentName:"p",href:"http://forum.seeedstudio.com/"},"forum"),". ",(0,a.kt)("br",null)),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"}))))}m.isMDXComponent=!0}}]);