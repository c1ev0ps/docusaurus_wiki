"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[44190],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return n?r.createElement(k,o(o({ref:t},u),{},{components:n})):r.createElement(k,o({ref:t},u))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},36178:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={title:"Grove - Wio-E5",nointro:null,keywords:["docs","docusaurus"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"01/06/2022",author:"gunengyu"}},o=void 0,l={unversionedId:"Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version",id:"Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version",title:"Grove - Wio-E5",description:"LoRaWAN\xae is a mark used under license from the LoRa Alliance\xae.",source:"@site/docs/Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version.md",sourceDirName:"Sensor/Grove/Grove_Sensors_Network/LoRa",slug:"/Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version",permalink:"/docusaurus_wiki/Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Sensor/Grove/Grove_Sensors_Network/LoRa/Grove_LoRa_E5_New_Version.md",tags:[],version:"current",lastUpdatedBy:"gunengyu",lastUpdatedAt:1641427200,formattedLastUpdatedAt:"Jan 6, 2022",frontMatter:{title:"Grove - Wio-E5",nointro:null,keywords:["docs","docusaurus"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"01/06/2022",author:"gunengyu"}},sidebar:"ProductSidebar",previous:{title:"Grove-Encoder",permalink:"/docusaurus_wiki/Sensor/Grove/Grove_Sensors/Motion/Grove-Encoder"},next:{title:"Grove - BLE (dual model) v1.0",permalink:"/docusaurus_wiki/Sensor/Grove/Grove_Sensors_Network/Bluetooth/Grove-BLE-dual_model-v1.0"}},s={},p=[{value:"Features",id:"features",level:2},{value:"Harware Overview",id:"harware-overview",level:2},{value:"Platform Supported",id:"platform-supported",level:2},{value:"Specification",id:"specification",level:2},{value:"Application",id:"application",level:2},{value:"Application Notes",id:"application-notes",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Preparations",id:"preparations",level:3},{value:"Hardware Required",id:"hardware-required",level:3},{value:"Hardware Connection",id:"hardware-connection",level:3},{value:"Software Preparation",id:"software-preparation",level:3},{value:"Download Library",id:"download-library",level:4},{value:"Software Code",id:"software-code",level:4},{value:"TTN Console Configuration Setup",id:"ttn-console-configuration-setup",level:3},{value:"Grove - Wio-E5 P2P Example",id:"grove---wio-e5-p2p-example",level:2},{value:"Preparations",id:"preparations-1",level:3},{value:"Connecting hardware",id:"connecting-hardware",level:3},{value:"Download Library",id:"download-library-1",level:3},{value:"Download the example",id:"download-the-example",level:3},{value:"Review Results",id:"review-results",level:3},{value:"Resources",id:"resources",level:2},{value:"Tech Support",id:"tech-support",level:2}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/products/113020091/%E5%AE%98%E7%BD%91/11302009_Preview-34.png",alt:null})),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("a",{href:"https://www.seeedstudio.com/Grove-LoRa-E5-STM32WLE5JC-p-4867.html",target:"_blank"},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Seeed-WiKi/docs/images/get_one_now.png",border:0}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"LoRaWAN\xae is a mark used under license from the LoRa Alliance\xae.\nThe LoRa\xae Mark is a trademark of Semtech Corporation or its subsidiaries.")),(0,a.kt)("p",null,"Grove Wio-E5 embedded with Wio-E5 STM32WLE5JC, powered by ARM Cortex M4 ultra-low-power MCU core and Wio SX126x, is a wireless radio module supporting LoRa\xae and LoRaWAN\xae protocol on the EU868 & US915 frequency and (G)FSK, BPSK, (G)MSK, LoRa\xae modulations. Grove - Wio-E5 can endow your development boards' strong features of ultra-long transmitting range by easily plug and play with Grove connector on board."),(0,a.kt)("p",null,"As an upgrade of our old version - ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/Grove-LoRa-Radio-868MHz.html"},"Grove - Long Range 868MHz")," - powered by ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/RFM95-Ultra-long-Range-Transceiver-Module-LoRa-Module-support-868M-frequency-p-2807.html"},"RFM95 ultra-long-range Transceiver Module"),", Grove LoRa-E5 embedded with ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/LoRa-E5-Wireless-Module-p-4745.html"},"Wio-E5 STM32WLE5JC Module")," is a high-performance and easy-to-use wireless radio LoRa\xae module supporting LoRaWAN\xae protocol."),(0,a.kt)("p",null,"Wio-E5 LoRaWAN\xae STM32WLE5JC module is the major functional part integrated into Grove - Wio-E5. It is a LoRaWAN\xae module that embedded with ARM Cortex M4 ultra-low-power MCU core and Wio SX126x, as the world-first combo of LoRa\xae RF and MCU chip into one single tiny module, it supports (G)FSK, BPSK, (G)MSK, and LoRa\xae modulations, and is FCC, CE certified. (Learn more about Wio-E5 from ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/LoRa-E5_STM32WLE5JC_Module/"},"Wio-E5 wiki"),")"),(0,a.kt)("p",null,"More comparison between the Wio-E5 and RFM95 chip:\n",(0,a.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/products/113990934/%E8%8A%AF%E7%89%87%E5%AF%B9%E6%AF%94_2021.3.4.png",alt:null})),(0,a.kt)("p",null,"By connecting Grove - Wio-E5 to your development boards, your devices are able to communicate with and control Wio-E5 conveniently by AT command through UART connection. Grove LoRa-E5 will be a superior choice for IoT device development, testing, and long-distance, ultra-low power consumption IoT scenarios like smart agriculture, smart office, and smart industry. It is designed with industrial standards with a wide working temperature at -40\u2103 ~ 85\u2103, high sensitivity between -116.5 dBm and -136 dBm, and power output between 10 dBm and 22 dBm."),(0,a.kt)("h2",{id:"features"},"Features"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Wio-E5 (STM32WLE5JC) embedded"),(0,a.kt)("li",{parentName:"ul"},"Support LoRaWAN\xae protocol on EU868/US915 frequency band"),(0,a.kt)("li",{parentName:"ul"},"Ultra-long transmitting range up to 10km (Ideal value in open space)"),(0,a.kt)("li",{parentName:"ul"},"Easy control by AT command via UART connection"),(0,a.kt)("li",{parentName:"ul"},"Rapid prototyping with plug-and-play Grove interfaces"),(0,a.kt)("li",{parentName:"ul"},"Ultra-low power consumption and high performance")),(0,a.kt)("h2",{id:"harware-overview"},"Harware Overview"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/hardware%20overview/4081615359627_.pic_hd.jpg",alt:null})),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Wio-E5 STM32WLE5JC (",(0,a.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20module%20datasheet_V1.0.pdf"},"Datasheet"),")")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"MHF IPEX Connector")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Wire Antenna")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Grove Connector")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"LED Indicators"))),(0,a.kt)("h2",{id:"platform-supported"},"Platform Supported"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Arduino"),(0,a.kt)("th",{parentName:"tr",align:null},"Raspberry Pi"),(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null}))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/wiki_english/docs/images/arduino_logo.jpg",alt:"pir",width:600,height:"auto"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/products/113020091/Raspberry_Pi-Logo.wine.png",alt:"pir",width:600,height:"auto"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("img",{parentName:"td",src:"https://files.seeedstudio.com/wiki/wiki_english/docs/images/bbg_logo_n.jpg",alt:null})),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("img",{parentName:"td",src:"https://files.seeedstudio.com/wiki/wiki_english/docs/images/wio_logo_n.jpg",alt:null})),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("img",{parentName:"td",src:"https://files.seeedstudio.com/wiki/wiki_english/docs/images/linkit_logo_n.jpg",alt:null}))))),(0,a.kt)("h2",{id:"specification"},"Specification"),(0,a.kt)("table",{class:"tg"},(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{class:"tg-f2tp",colspan:"2"},"General Parameters"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Voltage\xa0",(0,a.kt)("span",null,"Supply:\xa0")),(0,a.kt)("td",{class:"tg-uu1j"},"3.3V - 5V")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Power\xa0",(0,a.kt)("span",null,"Output:\xa0")),(0,a.kt)("td",{class:"tg-uu1j"},"Up to +20 dBm at 3.3V")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Working Frequency"),(0,a.kt)("td",{class:"tg-uu1j"},"868/915MHz")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Protocol"),(0,a.kt)("td",{class:"tg-uu1j"},"LoRaWAN\xae")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Sensitivity"),(0,a.kt)("td",{class:"tg-uu1j"},"-116.5dBm ~ -136dBm")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Modulation"),(0,a.kt)("td",{class:"tg-uu1j"},"LoRa\xae, (G)FSK, (G)MSK and BPSK")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Current"),(0,a.kt)("td",{class:"tg-uu1j"},"Only 60uA in sleep mode")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Size"),(0,a.kt)("td",{class:"tg-uu1j"},"20*40mm")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j"},"Working Temperature"),(0,a.kt)("td",{class:"tg-uu1j"},"-40\u2103 ~ 85\u2103")))),(0,a.kt)("table",{class:"tg"},(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{class:"tg-f2tp",colspan:"2"},"Part List:"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j",colspan:"2"},"Grove - Wio-E5 PCBA *1")),(0,a.kt)("tr",null,(0,a.kt)("td",{class:"tg-uu1j",colspan:"2"},"Grove Universal Cable*1")))),(0,a.kt)("h2",{id:"application"},"Application"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Works for LoRaWAN\xae sensor nodes and any wireless communication application")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"IoT device testing and development"))),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/products/317990687/image/application.png",alt:null})),(0,a.kt)("h2",{id:"application-notes"},"Application Notes"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"1. Factroy AT Firmare")),(0,a.kt)("p",null,"Wio-E5 series has a built-in AT command firmware, which supports LoRaWAN\xae Class A/B/C protocol and a wide frequency plan: EU868/US915/AU915/AS923/KR920/IN865. With this AT command firmware, developers can easily and quickly build their prototype or application."),(0,a.kt)("p",null,'The AT command firmware contains a bootloader for DFU and the AT application. The "PB13/SPI_SCK/BOOT" pin is used to control Wio-E5 to stay in the bootloader or jump to the AT application. When PB13 is HIGH, the module will jump to AT application after reset, with a default baud rate of 9600. When PB13 is LOW (press the "Boot" button on Wio-E5 Dev Board or Wio-E5 mini), the module will stay in the bootloader, and keep transmitting "C" character every 1S at baud rate 115200.'),(0,a.kt)("admonition",{title:"attention",type:"caution"},(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"Factory AT Firmware is programmed with RDP(Read Protection) Level 1, developers need to remove RDP first with STM32Cube Programmer. Note that regression RDP to level 0 will cause a flash memory mass to erase and the Factory AT Firmware can't be restored again."),(0,a.kt)("li",{parentName:"ul"},'The "PB13/SPI_SCK/BOOT" pin on the Wio-E5 module is just a normal GPIO, not the "BOOT0" pin of the MCU. This "PB13/SPI_SCK/BOOT" pin is used in the bootloader of the Factory AT firmware, to decide to jump to APP or stay in bootloader(for DFU). The real "BOOT0" pin doesn\'t pinout to the module, so users need to be careful when developing the low-power applications.'))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"2. Clock Configuration")),(0,a.kt)("p",null,"2.1 HSE"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"32MHz TCXO")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"TCXO power supply: PB0-VDD_TCXO"))),(0,a.kt)("p",null,"2.2 LSE"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"32.768KHz crystal oscillator")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"3. RF Switch")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Wio-E5 module ONLY transmits through RFO_HP:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Receive: PA4=1, PA5=0")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Transmit(high output power, SMPS mode): PA4=0, PA5=1"))),(0,a.kt)("h2",{id:"getting-started"},"Getting Started"),(0,a.kt)("h3",{id:"preparations"},"Preparations"),(0,a.kt)("p",null,"Here is a demo showing you how to connect TTN (The Things Network) and Seeeduino XIAO module via Grove - Wio-E5 module. These modules are able to collect temperature and humidity parameters from the environment and send them back to TTN. The flashing LED lights on the Seeeduino Xiao indicate the status of the temperature and humidity sensor as connecting to TTN cloud."),(0,a.kt)("admonition",{title:"attention",type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Please ensure the consistent of the frequency band among the end nodes, gateway, and TTN configuration you are using by following this instruction.\nThe frequency plan this demo applied is for ",(0,a.kt)("strong",{parentName:"p"},"EU868"),".")),(0,a.kt)("h3",{id:"hardware-required"},"Hardware Required"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Seeeduino XIAO"),(0,a.kt)("th",{parentName:"tr",align:null},"Grove - Wio-E5"),(0,a.kt)("th",{parentName:"tr",align:null},"Seeeduino XIAO Expansion Board"),(0,a.kt)("th",{parentName:"tr",align:null},"Grove - Temperature & Humidity Sensor (DHT11)"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Seeeduino-XIAO/img/seeeduino-XIAO-thumbnail.jpg",alt:"pir",width:600,height:"auto"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/9d0ce51a71ce6a79dfa2a98d65a0f0bd/1/1/11302009_preview-34.png",alt:"pir",width:600,height:"auto"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Seeeduino-XIAO-Expansion-Board/Update_pic/zheng1.jpg",alt:"pir",width:600,height:"auto"}))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/9d0ce51a71ce6a79dfa2a98d65a0f0bd/g/r/grove-temperature-humidity-sensor-dht11-preview.png",alt:"pir",width:600,height:"auto"})))))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"If this is your first time using Seeeduino XIAO, please refer to ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Seeeduino_Lotus/"},"Seeeduino XIAO's wiki"),".\nIf this is your first time to use Arduino, ",(0,a.kt)("a",{parentName:"p",href:"https://www.arduino.cc/"},"Arduino\u2019s website")," is a great resource for you to start your Arduino journey.")),(0,a.kt)("h3",{id:"hardware-connection"},"Hardware Connection"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 1."),' Connect the Wio-E5 module directly to the "UART" slot.')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 2."),' Put DH11 into the "A0/D0" socket.')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Download the code, please refer to the software part."))),(0,a.kt)("h3",{id:"software-preparation"},"Software Preparation"),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"If this is the first time you work with Arduino, we strongly recommend you to see ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Getting_Started_with_Arduino/"},"Getting Started with Arduino")," before the start.\nClick to learn about detail about ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/How_to_install_Arduino_Library/"},"how to install an Arduino Library"))),(0,a.kt)("h4",{id:"download-library"},"Download Library"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Install the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/olikraus/U8g2_Arduino"},"u8g2 library"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Install the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/Grove_Temperature_And_Humidity_Sensor"},"DHT sensor library")))),(0,a.kt)("h4",{id:"software-code"},"Software Code"),(0,a.kt)("p",null,"Download the example; copy the code stick onto the Aruino IDE and then upload it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"# include <Arduino.h>\n# include <U8x8lib.h>\n# include \"DHT.h\"\n\n# define DHTPIN 0 // what pin we're connected to\n\n// Uncomment whatever type you're using!\n# define DHTTYPE DHT11 // DHT 11\n// #define DHTTYPE DHT22   // DHT 22  (AM2302)\n//#define DHTTYPE DHT21   // DHT 21 (AM2301)\n\nDHT dht(DHTPIN, DHTTYPE);\n\nU8X8_SSD1306_128X64_NONAME_HW_I2C u8x8(/*reset=*/U8X8_PIN_NONE);\n// U8X8_SSD1306_128X64_NONAME_SW_I2C u8x8(/*clock=*/ SCL, /*data=*/ SDA, /*reset=*/ U8X8_PIN_NONE);   // OLEDs without Reset of the Display\n\nstatic char recv_buf[512];\nstatic bool is_exist = false;\nstatic bool is_join = false;\nstatic int led = 0;\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},'static int at_send_check_response(char *p_ack, int timeout_ms, char*p_cmd, ...)\n{\n    int ch;\n    int num = 0;\n    int index = 0;\n    int startMillis = 0;\n    va_list args;\n    memset(recv_buf, 0, sizeof(recv_buf));\n    va_start(args, p_cmd);\n    Serial1.printf(p_cmd, args);\n    Serial.printf(p_cmd, args);\n    va_end(args);\n    delay(200);\n    startMillis = millis();\n\n    if (p_ack == NULL)\n    {\n        return 0;\n    }\n\n    do\n    {\n        while (Serial1.available() > 0)\n        {\n            ch = Serial1.read();\n            recv_buf[index++] = ch;\n            Serial.print((char)ch);\n            delay(2);\n        }\n\n        if (strstr(recv_buf, p_ack) != NULL)\n        {\n            return 1;\n        }\n\n    } while (millis() - startMillis < timeout_ms);\n    return 0;\n}\n\nstatic void recv_prase(char *p_msg)\n{\n    if (p_msg == NULL)\n    {\n        return;\n    }\nchar*p_start = NULL;\n    int data = 0;\n    int rssi = 0;\n    int snr = 0;\n\n    p_start = strstr(p_msg, "RX");\n    if (p_start && (1 == sscanf(p_start, "RX: \\"%d\\"\\r\\n", &data)))\n    {\n        Serial.println(data);\n        u8x8.setCursor(2, 4);\n        u8x8.print("led :");\n        led = !!data;\n        u8x8.print(led);\n        if (led)\n        {\n            digitalWrite(LED_BUILTIN, LOW);\n        }\n        else\n        {\n            digitalWrite(LED_BUILTIN, HIGH);\n        }\n    }\n\n    p_start = strstr(p_msg, "RSSI");\n    if (p_start && (1 == sscanf(p_start, "RSSI %d,", &rssi)))\n    {\n        u8x8.setCursor(0, 6);\n        u8x8.print("                ");\n        u8x8.setCursor(2, 6);\n        u8x8.print("rssi:");\n        u8x8.print(rssi);\n    }\n    p_start = strstr(p_msg, "SNR");\n    if (p_start && (1 == sscanf(p_start, "SNR %d", &snr)))\n    {\n        u8x8.setCursor(0, 7);\n        u8x8.print("                ");\n        u8x8.setCursor(2, 7);\n        u8x8.print("snr :");\n        u8x8.print(snr);\n    }\n}\n\nvoid setup(void)\n{\n    u8x8.begin();\n    u8x8.setFlipMode(1);\n    u8x8.setFont(u8x8_font_chroma48medium8_r);\n\n    Serial.begin(115200);\n    pinMode(LED_BUILTIN, OUTPUT);\n    digitalWrite(LED_BUILTIN, HIGH);\n\n    Serial1.begin(9600);\n    Serial.print("E5 LORAWAN TEST\\r\\n");\n    u8x8.setCursor(0, 0);\n\n    if (at_send_check_response("+AT: OK", 100, "AT\\r\\n"))\n    {\n        is_exist = true;\n        at_send_check_response("+ID: AppEui", 1000, "AT+ID\\r\\n");\n        at_send_check_response("+MODE: LWOTAA", 1000, "AT+MODE=LWOTAA\\r\\n");\n        at_send_check_response("+DR: EU868", 1000, "AT+DR=EU868\\r\\n");\n        at_send_check_response("+CH: NUM", 1000, "AT+CH=NUM,0-2\\r\\n");\n        at_send_check_response("+KEY: APPKEY", 1000, "AT+KEY=APPKEY,\\"2B7E151628AED2A6ABF7158809CF4F3C\\"\\r\\n");\n        at_send_check_response("+CLASS: C", 1000, "AT+CLASS=A\\r\\n");\n        at_send_check_response("+PORT: 8", 1000, "AT+PORT=8\\r\\n");\n        delay(200);\n        u8x8.setCursor(5, 0);\n        u8x8.print("LoRaWAN");\n        is_join = true;\n    }\n    else\n    {\n        is_exist = false;\n        Serial.print("No E5 module found.\\r\\n");\n        u8x8.setCursor(0, 1);\n        u8x8.print("unfound E5 !");\n    }\n\n    dht.begin();\n\n    u8x8.setCursor(0, 2);\n    u8x8.setCursor(2, 2);\n    u8x8.print("temp:");\n\n    u8x8.setCursor(2, 3);\n    u8x8.print("humi:");\n\n    u8x8.setCursor(2, 4);\n    u8x8.print("led :");\n    u8x8.print(led);\n}\n\nvoid loop(void)\n{\n    float temp = 0;\n    float humi = 0;\n\n    temp = dht.readTemperature();\n    humi = dht.readHumidity();\n\n    Serial.print("Humidity: ");\n    Serial.print(humi);\n    Serial.print(" %\\t");\n    Serial.print("Temperature: ");\n    Serial.print(temp);\n    Serial.println(" *C");\n\n    u8x8.setCursor(0, 2);\n    u8x8.print("      ");\n    u8x8.setCursor(2, 2);\n    u8x8.print("temp:");\n    u8x8.print(temp);\n    u8x8.setCursor(2, 3);\n    u8x8.print("humi:");\n    u8x8.print(humi);\n\n    if (is_exist)\n    {\n        int ret = 0;\n        if (is_join)\n        {\n\n            ret = at_send_check_response("+JOIN: Network joined", 12000, "AT+JOIN\\r\\n");\n            if (ret)\n            {\n                is_join = false;\n            }\n            else\n            {\n                at_send_check_response("+ID: AppEui", 1000, "AT+ID\\r\\n");\n                Serial.print("JOIN failed!\\r\\n\\r\\n");\n                delay(5000);\n            }\n        }\n        else\n        {\n            char cmd[128];\n            sprintf(cmd, "AT+CMSGHEX=\\"%04X%04X\\"\\r\\n", (int)temp, (int)humi);\n            ret = at_send_check_response("Done", 5000, cmd);\n            if (ret)\n            {\n                recv_prase(recv_buf);\n            }\n            else\n            {\n                Serial.print("Send failed!\\r\\n\\r\\n");\n            }\n            delay(5000);\n        }\n    }\n    else\n    {\n        delay(1000);\n    }\n}\n\n')),(0,a.kt)("h3",{id:"ttn-console-configuration-setup"},"TTN Console Configuration Setup"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Visit ",(0,a.kt)("a",{parentName:"p",href:"https://www.thethingsnetwork.org"},"The Things Network")," website and sign up for a new account")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Step 2.")," After logging in, click your profile and select ",(0,a.kt)("strong",{parentName:"p"},"Console")))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/1.png",alt:"pir",width:1e3,height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 3.")," Select a cluster to start adding devices and gateways")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/2.png",alt:"pir",width:"600",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 4.")," Click ",(0,a.kt)("strong",{parentName:"li"},"Go to applications"))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/4.png",alt:"pir",width:"1000",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 5.")," Click ",(0,a.kt)("strong",{parentName:"li"},"+ Add application"))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/5.png",alt:"pir",width:"400",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 6.")," Fill ",(0,a.kt)("strong",{parentName:"li"},"Application ID")," and click ",(0,a.kt)("strong",{parentName:"li"},"Create application"))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/6.png",alt:"pir",width:"500",height:"auto"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note:")," Here ",(0,a.kt)("strong",{parentName:"p"},"Application name")," and ",(0,a.kt)("strong",{parentName:"p"},"Description")," are not compulsory fields. If ",(0,a.kt)("strong",{parentName:"p"},"Application name")," is left blank, it will use the same name as ",(0,a.kt)("strong",{parentName:"p"},"Application ID")," by default"),(0,a.kt)("p",null,"The following is the newly created application"),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/7.png",alt:"pir",width:"1000",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 7"),": Navigate to ",(0,a.kt)("inlineCode",{parentName:"li"},"Payload formatters > Uplink"),", select ",(0,a.kt)("strong",{parentName:"li"},"Formatter Type")," as ",(0,a.kt)("strong",{parentName:"li"},"Javascript")," and fill the ",(0,a.kt)("strong",{parentName:"li"},"Formatter parameter")," as follows")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Grove-E5/1.png",alt:"pir",width:"550",height:"auto"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function Decoder(bytes, port) {\n  \n  var decoded = {};\n  if (port === 8) {\n    decoded.temp = bytes[0] <<8 | bytes[1];\n    decoded.humi = bytes[2] <<8 | bytes[3];\n  }\n\n  return decoded;\n}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 8"),": Upload the Arduino code to Seeeduino XIAO as explained before, and open serial monitor to see the following output")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Humidity: 50%       Temperature: 25.00 *C\nAT+JOIN\n+JOIN: Start\n+JOIN: NORMAL\n+JOIN: Join failed\n+JOIN: Done\nAT+ID\n+ID: DevAddr, 24:40:00:7C\n+ID: DevEui, 2C:F7:F1:20:24:90:03:63\n+ID: AppEui, 80:00:00:00:00:00:00:07\n+JOIN: Join failed\n")),(0,a.kt)("p",null,"Note down ",(0,a.kt)("strong",{parentName:"p"},"DevEui")," and ",(0,a.kt)("strong",{parentName:"p"},"AppEUi")," generated above"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 9"),": Go back to the ",(0,a.kt)("strong",{parentName:"li"},"Overview")," page of the created application and click ",(0,a.kt)("strong",{parentName:"li"},"+ Add end device"))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/7.png",alt:"pir",width:"1000",height:"auto"})),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/8.png",alt:"pir",width:"500",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 10.")," Click ",(0,a.kt)("strong",{parentName:"li"},"Manually"),", to enter the registration credentials manually")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/9.png",alt:"pir",width:"420",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 11.")," Select the ",(0,a.kt)("strong",{parentName:"li"},"Frequency plan")," according to your region. Also make sure you use the same frequency as the gateway in which you will connect this device to. Select ",(0,a.kt)("strong",{parentName:"li"},"MAC V1.0.2")," as the ",(0,a.kt)("strong",{parentName:"li"},"LoRaWAN\xae version")," and ",(0,a.kt)("strong",{parentName:"li"},"PHY V1.0.2 REV B")," as the ",(0,a.kt)("strong",{parentName:"li"},"Regional Parameters version"),". These settings are according to the LoraWAN\xae stack of Wio-E5.")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/10.png",alt:"pir",width:"450",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 12.")," Copy and paste the previously obtained information from ",(0,a.kt)("strong",{parentName:"li"},"step 8")," into ",(0,a.kt)("strong",{parentName:"li"},"DevEUI")," and ",(0,a.kt)("strong",{parentName:"li"},"AppEUI")," fields. ",(0,a.kt)("strong",{parentName:"li"},"End device ID")," field will be automatically filled when we fill ",(0,a.kt)("strong",{parentName:"li"},"DevEUI"),". For ",(0,a.kt)("strong",{parentName:"li"},"AppKey")," field, use: 2B7E151628AED2A6ABF7158809CF4F3C.  ")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/LoRa-E5-Module/12.png",alt:"pir",width:"450",height:"auto"})),(0,a.kt)("p",null,"Finally click ",(0,a.kt)("strong",{parentName:"p"},"Register end device")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 13.")," Register your LoRaWAN\xae Gateway with TTN Console. Please refer to the instructions shown ",(0,a.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/The-Things-Indoor-Gateway/#step-2-gateway-registration-on-ttn-console"},"here"))),(0,a.kt)("p",null,"If you see the following output on serial monitor after everything is setup, that means the Seeeduino XIAO is successfully connected with TTN and sending the temperature and humidity sensor data!"),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/products/113020091/Screen%20Shot%202021-03-09%20at%203.20.00%20PM.png",alt:"pir",width:"500",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 14.")," Go back to the application page and navigate to ",(0,a.kt)("strong",{parentName:"li"},"End devices"),", select the created device and click ",(0,a.kt)("strong",{parentName:"li"},"Live data"))),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Grove-E5/2.png",alt:"pir",width:"1000",height:"auto"})),(0,a.kt)("p",null,"Here you will see the temperature and humidity sensor data displayed in real-time!"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 15.")," Navigate to ",(0,a.kt)("inlineCode",{parentName:"li"},"Messaging > Downlink"),", type ",(0,a.kt)("strong",{parentName:"li"},"01")," under ",(0,a.kt)("strong",{parentName:"li"},"Payload")," and click ",(0,a.kt)("strong",{parentName:"li"},"Schedule downlink")," to ",(0,a.kt)("strong",{parentName:"li"},"turn on")," the ",(0,a.kt)("strong",{parentName:"li"},"built-in yellow LED")," on the Seeeduino XIAO.")),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Grove-E5/3.png",alt:"pir",width:"550",height:"auto"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Step 16.")," Send the ",(0,a.kt)("strong",{parentName:"li"},"Payload")," as ",(0,a.kt)("strong",{parentName:"li"},"00")," to ",(0,a.kt)("strong",{parentName:"li"},"turn off")," the ",(0,a.kt)("strong",{parentName:"li"},"built-in yellow LED"))),(0,a.kt)("h2",{id:"grove---wio-e5-p2p-example"},"Grove - Wio-E5 P2P Example"),(0,a.kt)("p",null,"This is the example of how to build a Point-to-Point Transmission Application with Grove - Wio-E5 and Seeeduino XIAO."),(0,a.kt)("h3",{id:"preparations-1"},"Preparations"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Grove - Wio E5 *2"),(0,a.kt)("li",{parentName:"ul"},"Seeeduino XIAO* 2"),(0,a.kt)("li",{parentName:"ul"},"Seeeduino XIAO Expansion board *2"),(0,a.kt)("li",{parentName:"ul"},"USB typc cable* 2")),(0,a.kt)("p",null,"If this is your first time using Seeeduino XIAO, please refer to Seeeduino XIAO's ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Seeeduino-XIAO/"},"wiki"),"."),(0,a.kt)("p",null,"If this is your first time using Arduino, Please put hand on ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Getting_Started_with_Arduino/"},"here")," to start your Arduino journey."),(0,a.kt)("h3",{id:"connecting-hardware"},"Connecting hardware"),(0,a.kt)("p",null,"We can connect the Wio-E5 module to the UART socket directly as the below picture shows."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://files.seeedstudio.com/products/113020091/P2P.png",alt:"point to point transmission with grove wio e5"})),(0,a.kt)("h3",{id:"download-library-1"},"Download Library"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/olikraus/u8g2"},"u8g2")," library must be installed for this demo. Click to download the library and install it (",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/How_to_install_Arduino_Library/"},"How to install an Arduino Library"),")."),(0,a.kt)("h3",{id:"download-the-example"},"Download the example"),(0,a.kt)("p",null,"Copy the code stick on the Aruino IDE then upload it.\nOne of them is used as a master, and the NODE_SLAVE macro definition in the code needs to be commented out, and the other is used as a slave, and the NODE_SLAVE macro definition in the code needs to be turned on."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C++"},'# include <Arduino.h>\n# include <U8x8lib.h>\n\n// #define NODE_SLAVE\n\nU8X8_SSD1306_128X64_NONAME_HW_I2C u8x8(/*reset=*/U8X8_PIN_NONE);\n// U8X8_SSD1306_128X64_NONAME_SW_I2C u8x8(/*clock=*/ SCL, /*data=*/ SDA, /*reset=*/ U8X8_PIN_NONE);   // OLEDs without Reset of the Display\n\nstatic char recv_buf[512];\nstatic bool is_exist = false;\n\nstatic int at_send_check_response(char *p_ack, int timeout_ms, char*p_cmd, ...)\n{\n    int ch = 0;\n    int index = 0;\n    int startMillis = 0;\n    va_list args;\n    memset(recv_buf, 0, sizeof(recv_buf));\n    va_start(args, p_cmd);\n    Serial1.printf(p_cmd, args);\n    Serial.printf(p_cmd, args);\n    va_end(args);\n    delay(200);\n    startMillis = millis();\n\n    if (p_ack == NULL)\n    {\n        return 0;\n    }\n\n    do\n    {\n        while (Serial1.available() > 0)\n        {\n            ch = Serial1.read();\n            recv_buf[index++] = ch;\n            Serial.print((char)ch);\n            delay(2);\n        }\n\n        if (strstr(recv_buf, p_ack) != NULL)\n        {\n            return 1;\n        }\n\n    } while (millis() - startMillis < timeout_ms);\n    return 0;\n}\n\nstatic int recv_prase(void)\n{\n    char ch;\n    int index = 0;\n    memset(recv_buf, 0, sizeof(recv_buf));\n    while (Serial1.available() > 0)\n    {\n        ch = Serial1.read();\n        recv_buf[index++] = ch;\n        Serial.print((char)ch);\n        delay(2);\n    }\n\n    if (index)\n    {\n        char *p_start = NULL;\n        char data[32] = {\n            0,\n        };\n        int rssi = 0;\n        int snr = 0;\n\n        p_start = strstr(recv_buf, "+TEST: RX \\"5345454544");\n        if (p_start)\n        {\n            p_start = strstr(recv_buf, "5345454544");\n            if (p_start && (1 == sscanf(p_start, "5345454544%s", data)))\n            {\n                data[4] = 0;\n                u8x8.setCursor(0, 4);\n                u8x8.print("               ");\n                u8x8.setCursor(2, 4);\n                u8x8.print("RX: 0x");\n                u8x8.print(data);\n                Serial.print(data);\n                Serial.print("\\r\\n");\n            }\n\n            p_start = strstr(recv_buf, "RSSI:");\n            if (p_start && (1 == sscanf(p_start, "RSSI:%d,", &rssi)))\n            {\n                u8x8.setCursor(0, 6);\n                u8x8.print("                ");\n                u8x8.setCursor(2, 6);\n                u8x8.print("rssi:");\n                u8x8.print(rssi);\n            }\n            p_start = strstr(recv_buf, "SNR:");\n            if (p_start && (1 == sscanf(p_start, "SNR:%d", &snr)))\n            {\n                u8x8.setCursor(0, 7);\n                u8x8.print("                ");\n                u8x8.setCursor(2, 7);\n                u8x8.print("snr :");\n                u8x8.print(snr);\n            }\n            return 1;\n        }\n    }\n    return 0;\n}\n\nstatic int node_recv(uint32_t timeout_ms)\n{\n    at_send_check_response("+TEST: RXLRPKT", 1000, "AT+TEST=RXLRPKT\\r\\n");\n    int startMillis = millis();\n    do\n    {\n        if (recv_prase())\n        {\n            return 1;\n        }\n    } while (millis() - startMillis < timeout_ms);\n    return 0;\n}\n\nstatic int node_send(void)\n{\n    static uint16_t count = 0;\n    int ret = 0;\n    char data[32];\n    char cmd[128];\n\n    memset(data, 0, sizeof(data));\n    sprintf(data, "%04X", count);\n    sprintf(cmd, "AT+TEST=TXLRPKT,\\"5345454544%s\\"\\r\\n", data);\n\n    u8x8.setCursor(0, 3);\n    u8x8.print("                ");\n    u8x8.setCursor(2, 3);\n    u8x8.print("TX: 0x");\n    u8x8.print(data);\n\n    ret = at_send_check_response("TX DONE", 2000, cmd);\n    if (ret == 1)\n    {\n\n        count++;\n        Serial.print("Sent successfully!\\r\\n");\n    }\n    else\n    {\n        Serial.print("Send failed!\\r\\n");\n    }\n    return ret;\n}\n\nstatic void node_recv_then_send(uint32_t timeout)\n{\n    int ret = 0;\n    ret = node_recv(timeout);\n    delay(100);\n    if (!ret)\n    {\n        Serial.print("\\r\\n");\n        return;\n    }\n    node_send();\n    Serial.print("\\r\\n");\n}\n\nstatic void node_send_then_recv(uint32_t timeout)\n{\n    int ret = 0;\n    ret = node_send();\n    if (!ret)\n    {\n        Serial.print("\\r\\n");\n        return;\n    }\n    if (!node_recv(timeout))\n    {\n        Serial.print("recv timeout!\\r\\n");\n    }\n    Serial.print("\\r\\n");\n}\n\nvoid setup(void)\n{\n\n    u8x8.begin();\n    u8x8.setFlipMode(1);\n    u8x8.setFont(u8x8_font_chroma48medium8_r);\n\n    Serial.begin(115200);\n    // while (!Serial);\n\n    Serial1.begin(9600);\n    Serial.print("ping pong communication!\\r\\n");\n    u8x8.setCursor(0, 0);\n\n    if (at_send_check_response("+AT: OK", 100, "AT\\r\\n"))\n    {\n        is_exist = true;\n        at_send_check_response("+MODE: TEST", 1000, "AT+MODE=TEST\\r\\n");\n        at_send_check_response("+TEST: RFCFG", 1000, "AT+TEST=RFCFG,866,SF12,125,12,15,14,ON,OFF,OFF\\r\\n");\n        delay(200);\n# ifdef NODE_SLAVE\n        u8x8.setCursor(5, 0);\n        u8x8.print("slave");\n# else\n        u8x8.setCursor(5, 0);\n        u8x8.print("master");\n# endif\n    }\n    else\n    {\n        is_exist = false;\n        Serial.print("No E5 module found.\\r\\n");\n        u8x8.setCursor(0, 1);\n        u8x8.print("unfound E5 !");\n    }\n}\n\nvoid loop(void)\n{\n    if (is_exist)\n    {\n# ifdef NODE_SLAVE\n        node_recv_then_send(2000);\n# else\n        node_send_then_recv(2000);\n        delay(3000);\n# endif\n    }\n}\n')),(0,a.kt)("h3",{id:"review-results"},"Review Results"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/seeed-lora/Grove-LoRa-E5-P2P-Example/blob/master/Doc/result.jpg?raw=true",alt:null})),(0,a.kt)("h2",{id:"resources"},"Resources"),(0,a.kt)("p",null,"Datasheet:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"http://files.seeedstudio.com/products/113020091/Grove%20-%20LoRa%20-E5%20v1.0.brd"},"Grove Wio-E5 v1.0.brd"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/113020091/Grove%20-%20LoRa%20-E5%20v1.0.pdf"},"Grove Wio-E5 v1.0.pdf"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"http://files.seeedstudio.com/products/113020091/Grove%20-%20LoRa%20-E5%20v1.0.sch"},"Grove Wio-E5 v1.0.sch"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20module%20datasheet_V1.0.pdf"},"Wio-E5 datasheet and specifications"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20AT%20Command%20Specification_V1.0%20.pdf"},"Wio-E5 AT Command Specification"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/STM32WLE5JC%20Datasheet.pdf"},"STM32WLE5JC Datasheet")))),(0,a.kt)("p",null,"Certifications:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20Certification%20CE-VOC-RED.pdf"},"Wio-E5-HF Certification CE-VOC-RED"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DSS.pdf"},"Wio-E5-HF FCC Certification -DSS"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DTS.pdf"},"Wio-E5-HF FCC Certification -DTS")))),(0,a.kt)("p",null,"Relevant SDK:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",null,(0,a.kt)("a",{href:"https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubewl.license=1608693595598.product=STM32CubeWL.version=1.0.0.html#overview",target:"_blank"},"STM32Cube MCU Package for STM32WL series")))),(0,a.kt)("div",{id:"gtx-trans",style:{position:"absolute",left:"-36px",top:"48.875px"}},(0,a.kt)("div",{className:"gtx-trans-icon"})),(0,a.kt)("h2",{id:"tech-support"},"Tech Support"),(0,a.kt)("p",null," if you have any technical issue.  submit the issue into our ",(0,a.kt)("a",{parentName:"p",href:"http://forum.seeedstudio.com/"},"forum"),"."),(0,a.kt)("div",null,(0,a.kt)("br",null),(0,a.kt)("p",{style:{textalign:"center"}},(0,a.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"})))))}d.isMDXComponent=!0}}]);