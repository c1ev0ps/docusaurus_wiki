"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[36228],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),d=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),h=a,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||r;return n?o.createElement(m,i(i({ref:t},c),{},{components:n})):o.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},36264:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var o=n(87462),a=(n(67294),n(3905));const r={description:"Connect to TTN",title:"Connect to TTN",keywords:["SenseCap"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"1/13/2023",author:"shuxu hu"}},i="Connecting to TTN",s={unversionedId:"Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN",id:"Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN",title:"Connect to TTN",description:"Connect to TTN",source:"@site/docs/Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN.md",sourceDirName:"Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services",slug:"/Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN",permalink:"/docusaurus_wiki/Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/Connecting-to-TTN.md",tags:[],version:"current",lastUpdatedBy:"shuxu hu",lastUpdatedAt:1673568e3,formattedLastUpdatedAt:"Jan 13, 2023",frontMatter:{description:"Connect to TTN",title:"Connect to TTN",keywords:["SenseCap"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"1/13/2023",author:"shuxu hu"}},sidebar:"ProductSidebar",previous:{title:"TTN Introduction",permalink:"/docusaurus_wiki/Network/SenseCAP_K1100/LoRaWAN-Network_Application/TTN_Cloud_Services/TTN-Introduction"},next:{title:"SenseCAP & Node-RED Usage",permalink:"/docusaurus_wiki/Network/SenseCAP_K1100/LoRaWAN-Network_Application/SenseCAP&Node-Red_for_Cloud_Services/K1100_sensecap_node-red"}},l={},d=[{value:"Upgradable to Industrial Sensors",id:"upgradable-to-industrial-sensors",level:2},{value:'<span id="jump1">Adding Grove - Wio-E5 devices to the TTN console</span>',id:"adding-grove---wio-e5-devices-to-the-ttn-console",level:2},{value:"Write decoders function for different sensors",id:"write-decoders-function-for-different-sensors",level:2},{value:"Option 1. Wio Terminal Light Sensor data decoder",id:"option-1-wio-terminal-light-sensor-data-decoder",level:3},{value:"Option 2. Wio Terminal IMU Sensor data decoder",id:"option-2-wio-terminal-imu-sensor-data-decoder",level:3},{value:"Option 3. Grove Soil Moisture Sensor data decoder",id:"option-3-grove-soil-moisture-sensor-data-decoder",level:3},{value:"Option 4. Grove VOC and eCO2 Gas Sensor (SGP30) data decoder",id:"option-4-grove-voc-and-eco2-gas-sensor-sgp30-data-decoder",level:3},{value:"Option 5. Grove Temp&amp;Humi Sensor (SHT40) data decoder",id:"option-5-grove-temphumi-sensor-sht40-data-decoder",level:3},{value:"Option 6. Grove Vision AI Module data decoder",id:"option-6-grove-vision-ai-module-data-decoder",level:3},{value:"Upload code send data to TTN",id:"upload-code-send-data-to-ttn",level:2},{value:"Real-time data",id:"real-time-data",level:3},{value:"Source Code Analysis",id:"source-code-analysis",level:3},{value:"Tech Support",id:"tech-support",level:2},{value:"Statement",id:"statement",level:2}],c={toc:d};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"connecting-to-ttn"},"Connecting to TTN"),(0,a.kt)("p",null,"In this chapter, we will go over the basic use of the TTN platform and how to relay sensor data out through the TTN platform."),(0,a.kt)("h2",{id:"upgradable-to-industrial-sensors"},"Upgradable to Industrial Sensors"),(0,a.kt)("p",null,"With the SenseCAP ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/SenseCAP-XIAO-LoRaWAN-Controller-p-5474.html"},"S2110 controller")," and ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/SenseCAP-S2100-LoRaWAN-Data-Logger-p-5361.html"},"S2100 data logger"),", you can easily turn the Grove into a LoRaWAN\xae sensor. Seeed not only helps you with prototyping but also offers you the possibility to expand your project with the SenseCAP series of robust ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/catalogsearch/result/?q=sensecap&categories=SenseCAP&application=Temperature%2FHumidity~Soil~Gas~Light~Weather~Water~Automation~Positioning~Machine%20Learning~Voice%20Recognition&compatibility=SenseCAP"},"industrial sensors"),"."),(0,a.kt)("p",null,"The IP66 housing, Bluetooth configuration, compatibility with the global LoRaWAN\xae network, built-in 19 Ah battery, and powerful support from APP make the ",(0,a.kt)("a",{parentName:"p",href:"https://www.seeedstudio.com/catalogsearch/result/?q=S21&categories=SenseCAP~LoRaWAN%20Device&product_module=Device"},"SenseCAP S210x")," the best choice for industrial applications. The series includes sensors for soil moisture, air temperature and humidity, light intensity, CO2, EC, and an 8-in-1 weather station. Try the latest SenseCAP S210x for your next successful industrial project."),(0,a.kt)("table",{style:{marginLeft:"auto",marginRight:"auto"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colSpan:4,bgcolor:"#0e3c49",align:"center"},(0,a.kt)("font",{color:"white",size:4},(0,a.kt)("strong",null,"SenseCAP Industrial Sensor")))),(0,a.kt)("tr",null,(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2100-LoRaWAN-Data-Logger-p-5361.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2100-LoRaWAN-Data-Logger-p-5361.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2100.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2101-LoRaWAN-Air-Temperature-and-Humidity-Sensor-p-5354.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2101-LoRaWAN-Air-Temperature-and-Humidity-Sensor-p-5354.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2101&S2103.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2102-LoRaWAN-Light-Intensity-Sensor-p-5355.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2102-LoRaWAN-Light-Intensity-Sensor-p-5355.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2102.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2103-LoRaWAN-CO2-Temperature-and-Humidity-Sensor-p-5356.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2103-LoRaWAN-CO2-Temperature-and-Humidity-Sensor-p-5356.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2101&S2103.png"}))))),(0,a.kt)("tr",null,(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2100-LoRaWAN-Data-Logger-p-5361.html",target:"_blank"},(0,a.kt)("strong",null,"S2100 ",(0,a.kt)("br",null)," Data Logger"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2101-LoRaWAN-Air-Temperature-and-Humidity-Sensor-p-5354.html",target:"_blank"},(0,a.kt)("strong",null,"S2101 ",(0,a.kt)("br",null)," Air Temp & Humidity"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2102-LoRaWAN-Light-Intensity-Sensor-p-5355.html",target:"_blank"},(0,a.kt)("strong",null,"S2102 ",(0,a.kt)("br",null)," Light"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2103-LoRaWAN-CO2-Temperature-and-Humidity-Sensor-p-5356.html",target:"_blank"},(0,a.kt)("strong",null,"S2103 ",(0,a.kt)("br",null)," Air Temp & Humidity & CO2")))),(0,a.kt)("tr",null,(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2104-LoRaWAN-Soil-Temperature-and-Moisture-Sensor-p-5357.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2104-LoRaWAN-Soil-Temperature-and-Moisture-Sensor-p-5357.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2104.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2105-LoRaWAN-Soil-Temperature-Moisture-and-EC-Sensor-p-5358.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2105-LoRaWAN-Soil-Temperature-Moisture-and-EC-Sensor-p-5358.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2105.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-XIAO-LoRaWAN-Controller-p-5474.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-XIAO-LoRaWAN-Controller-p-5474.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2110.png"})))),(0,a.kt)("td",{bgcolor:"#0e3c49"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/sensecap-s2120-lorawan-8-in-1-weather-sensor-p-5436.html",target:"_blank"}),(0,a.kt)("div",{align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/sensecap-s2120-lorawan-8-in-1-weather-sensor-p-5436.html",target:"_blank"},(0,a.kt)("img",{width:"100%",src:"https://files.seeedstudio.com/wiki/K1100_overview/2/S2120.png"}))))),(0,a.kt)("tr",null,(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2104-LoRaWAN-Soil-Temperature-and-Moisture-Sensor-p-5357.html",target:"_blank"},(0,a.kt)("strong",null,"S2104 ",(0,a.kt)("br",null)," Soil Moisture & Temp"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-S2105-LoRaWAN-Soil-Temperature-Moisture-and-EC-Sensor-p-5358.html",target:"_blank"},(0,a.kt)("strong",null,"S2105 ",(0,a.kt)("br",null)," Soil Moisture & Temp & EC"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/SenseCAP-XIAO-LoRaWAN-Controller-p-5474.html",target:"_blank"},(0,a.kt)("strong",null,"S2110 ",(0,a.kt)("br",null)," LoRaWAN\xae Controller"))),(0,a.kt)("td",{bgcolor:"#0e3c49",align:"center"},(0,a.kt)("a",{href:"https://www.seeedstudio.com/sensecap-s2120-lorawan-8-in-1-weather-sensor-p-5436.html",target:"_blank"},(0,a.kt)("strong",null,"S2120 ",(0,a.kt)("br",null)," 8-in-1 Weather Station")))))),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/27.png"})),(0,a.kt)("p",null,"If you are completely inexperienced with TTN, we recommend that you read about the TTN console first."),(0,a.kt)("table",{align:"center"},(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{align:"cent er"},(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal-Developer-for-TTN/TTN.png",alt:"pir",width:500,height:"auto"}))),(0,a.kt)("td",{align:"left"},(0,a.kt)("strong",null,"TTN Introduction"),(0,a.kt)("br",null),(0,a.kt)("br",null),"In this chapter, we will introduce the TTN console controls that we use to get a first impression of the TTN console.",(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("a",{href:"https://wiki.seeedstudio.com/TTN-Introduction"},"Let's get started >"))))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Before starting this section, make sure you have TTN LoRaWAN\xae coverage around your deployment environment, otherwise you will not be able to add devices to TTN via LoRa\xae. For more details, please read ",(0,a.kt)("a",{parentName:"p",href:"https://www.thethingsnetwork.org/docs/lorawan/"},"TTN LoRaWAN\xae"),".")),(0,a.kt)("h2",{id:"adding-grove---wio-e5-devices-to-the-ttn-console"},(0,a.kt)("span",{id:"jump1"},"Adding Grove - Wio-E5 devices to the TTN console")),(0,a.kt)("p",null,"To relay sensor data out of TTN, first step we need to add Grove - Wio-E5 to the TTN Application to build the connection between the local device and the TTN platform."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 1.")," Get the DevEUI, AppEUI for Grove - Wio-E5."),(0,a.kt)("p",null,"Please download the necessary environment for Arduino and Wio Terminal in ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-Light-Sensor-Grove-LoRa-E5/#preliminary-preparation"},"pre-approved content"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/Wio-Terminal-Developer-for-helium/wiolora.jpg"})),(0,a.kt)("p",null,"Click ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/example/Get-Grove-LoRa-E5-AppEUI-DevEUI/Get-Grove-LoRa-E5-AppEUI-DevEUI.ino"},"here")," to download the code for the DevEUI, AppEUI that comes with Grove - Wio-E5 and upload it to Wio Terminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},'#include <Arduino.h>\n#include "disk91_LoRaE5.h"\n\nDisk91_LoRaE5 lorae5(&Serial); // Where the AT command and debut traces are printed\n\nvoid setup() {\n  Serial.begin(9600);\n  uint32_t start = millis();\n  while ( !Serial && (millis() - start) < 3000 );  // Open the Serial Monitor to get started or wait for 3.0"\n\n  // init the library, search the Wio-E5 over the different WIO port available\n  if ( ! lorae5.begin(DSKLORAE5_SEARCH_WIO) ) {\n    Serial.println("Wio-E5 Init Failed");\n    while(1); \n  }\n}\n\nvoid loop() {\n  //Grove - Wio-E5 allows querying DevEUI, AppEUI, but not AppKey.\n  lorae5.sendATCommand("AT+ID=DevEui","","+ID: ERROR","",1000,false,NULL);\n  lorae5.sendATCommand("AT+ID=AppEUI","","+ID: ERROR","",1000,false,NULL);\n  delay(30000);\n}\n')),(0,a.kt)("p",null,"Open the serial port monitor of Arduino IDE, set the baud rate to ",(0,a.kt)("strong",{parentName:"p"},"9600")," and observe the setting."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:700,src:"https://files.seeedstudio.com/wiki/K1100/95.png"})),(0,a.kt)("p",null,"Please note down the 16 digits after ",(0,a.kt)("strong",{parentName:"p"},"DevEUI")," and ",(0,a.kt)("strong",{parentName:"p"},"AppEUI"),", which will be used in the TTN add device session."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 2.")," Add an application"),(0,a.kt)("p",null,"Click the ",(0,a.kt)("strong",{parentName:"p"},"Add application")," button on the top right."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/31.png"})),(0,a.kt)("p",null,"Fill in the ones with an asterisk and ask for the content according to your preference."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/K1100/32.png"})),(0,a.kt)("p",null,"Then click ",(0,a.kt)("strong",{parentName:"p"},"Create Application"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Step 3.")," Adding devices"),(0,a.kt)("p",null,"Go to ",(0,a.kt)("strong",{parentName:"p"},"End devices")," in the left menu and click on ",(0,a.kt)("strong",{parentName:"p"},"+ Add end device")," to reach the end device registration page."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/33.png"})),(0,a.kt)("p",null,"To use the Grove - Wio-E5 in device repository, make sure the ",(0,a.kt)("strong",{parentName:"p"},"From the LoRaWAN\xae Device Repository")," tab is selected."),(0,a.kt)("p",null,"Then, Please click the following options to select."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Brand")," -- SenseCAP"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Model")," -- LoRa-E5 STM32WLE5JC Module"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Hardware Ver.")," -- 1.0"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Firmware Ver.")," -- 1.0"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Profile (Region)")," -- Choose a Frequency plan appropriate for your region.")),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/29.png"})),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Choose a Frequency plan appropriate for your region. Your device and gateway must use the same frequency plan to communicate. Different world regions use different ",(0,a.kt)("a",{parentName:"p",href:"https://www.thethingsindustries.com/docs/reference/frequency-plans/"},"frequency plans"),", e.g. 863-870 MHz for Europe, 902-928 MHz for North America, etc.")),(0,a.kt)("p",null,"Here, I will choose the TTN gateway band I use, EU868."),(0,a.kt)("p",null,"Then, please fill in the ",(0,a.kt)("strong",{parentName:"p"},"DevEUI")," and ",(0,a.kt)("strong",{parentName:"p"},"AppEUI")," you just obtained into the corresponding fields of TTN."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/35.png"})),(0,a.kt)("p",null,"As for the ",(0,a.kt)("strong",{parentName:"p"},"AppKey"),", click the ",(0,a.kt)("strong",{parentName:"p"},"Generate")," button and then upload it to Wio Terminal using the following code to enable Grove - Wio-E5."),(0,a.kt)("p",null,"Note that the 32-bit AppKey generated by TTN is replaced by the content in the code."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c"},'lorae5.sendATCommand("AT+KEY=APPKEY,\\"2B7E151628XXXXXXXXXX158809CF4F3C\\"","","+KEY: ERROR","",1000,false,NULL);\n')),(0,a.kt)("p",null,"Here is the complete code."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},'#include <Arduino.h>\n#include "disk91_LoRaE5.h"\n\nDisk91_LoRaE5 lorae5(&Serial); // Where the AT command and debut traces are printed\n\nvoid setup() {\n  Serial.begin(9600);\n  uint32_t start = millis();\n  while ( !Serial && (millis() - start) < 3000 );  // Open the Serial Monitor to get started or wait for 3.0"\n\n  // init the library, search the Wio-E5 over the different WIO port available\n  if ( ! lorae5.begin(DSKLORAE5_SEARCH_WIO) ) {\n    Serial.println("Wio-E5 Init Failed");\n    while(1); \n  }\n}\n\nvoid loop() {\n  //Grove - Wio-E5 allows querying DevEUI, AppEUI, but not AppKey.\n  lorae5.sendATCommand("AT+KEY=APPKEY,\\"2B7E151628XXXXXXXXXX158809CF4F3C\\"","","+KEY: ERROR","",1000,false,NULL);\n  delay(30000);\n}\n')),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:700,src:"https://files.seeedstudio.com/wiki/K1100/96.png"})),(0,a.kt)("p",null,"At this point, the three codes for Grove - Wio-E5 and TTN have been configured. Just click to ",(0,a.kt)("strong",{parentName:"p"},"Register end device"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/37.png"})),(0,a.kt)("h2",{id:"write-decoders-function-for-different-sensors"},"Write decoders function for different sensors"),(0,a.kt)("p",null,"In the previous sections, we instructed you on how to use the Wio Terminal to read the values of the individual sensors in the kit. To send the sensor values to TTN via Grove - Wio-E5, it is necessary to use AT commands to do so. The sent data is received by TTN and needs to be decoded before it becomes real data that we can read. This is the reason why we wrote the decoder."),(0,a.kt)("p",null,"Also, since the data format sent is not uniform, with sensors having integer, float, positive and negative data, etc., the decoder code required for each sensor is different."),(0,a.kt)("table",{align:"center"},(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Sensor Type"),(0,a.kt)("th",null,"Download Address")),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Wio Terminal built-in light sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/Wio-Terminal-Light-Sensor-data-decoder.js"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Wio Terminal built-in IMU sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/Wio-Terminal-IMU-Sensor-data-decoder.js"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Soil Moisture Sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/soil-moisture-data-decoder.js"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"VOC and eCO2 Gas Sensor (SGP30)"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/SGP30-data-decoder.js"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Temp&Humi Sensor (SHT40)"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/SHT40-data-decoder.js"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Vision AI Module"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/blob/main/decoder/VisionAI-data-decoder.js"},"Download"))))),(0,a.kt)("h3",{id:"option-1-wio-terminal-light-sensor-data-decoder"},"Option 1. Wio Terminal Light Sensor data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-Light-Sensor-Grove-LoRa-E5/"},"Wio Terminal Light Sensor"),", we used an integer variable ",(0,a.kt)("inlineCode",{parentName:"p"},"light")," to store the light value read by the light sensor and sent that value out using the ",(0,a.kt)("strong",{parentName:"p"},"send_sync()")," function. So, the goal of the decoder we wrote in TTN is to be able to parse this integer data."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save Function")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n \n  var decoded = {};\n  if (port == 8) {\n    decoded.light = bytes[0]<<8 | bytes[1];\n  }\n \n  return decoded;\n}\n")),(0,a.kt)("p",null,"Please click on the ",(0,a.kt)("strong",{parentName:"p"},"Payload formatters")," --\x3e ",(0,a.kt)("strong",{parentName:"p"},"Uplink")," --\x3e ",(0,a.kt)("strong",{parentName:"p"},"Custom Javascript formatter"),"  of the device in turn."),(0,a.kt)("p",null,"Then just paste the code of the above decoder into the ",(0,a.kt)("strong",{parentName:"p"},"Formatter code"),"."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/38.png"})),(0,a.kt)("p",null,"We can input the data of 8-bit light sensor in ",(0,a.kt)("strong",{parentName:"p"},"Test")," window on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/K1100/39.png"})),(0,a.kt)("h3",{id:"option-2-wio-terminal-imu-sensor-data-decoder"},"Option 2. Wio Terminal IMU Sensor data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-IMU-Sensor-Grove-LoRa-E5/"},"Wio Terminal IMU Sensor"),", We use float numbers ",(0,a.kt)("inlineCode",{parentName:"p"},"x_values"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"y_values"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"z_values")," to store the three axes of data returned by IMU, and multiply these three sets of data by 100 to convert them to integers and then send them together."),(0,a.kt)("p",null,"In particular, it is important to note that these data can be both positive and negative, so we also need to parse this and restore it to a float number."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save changes")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n \n  var decoded = {};\n  \n  function transformers(bytes){\n    value = bytes[0] * 256 + bytes[1];\n    if (value >= 32768) {\n      value = 32768 - value;\n    }\n    value = value/100.0;\n    return value;\n  }\n    \n  if (port == 8) {\n    decoded.x = transformers(bytes.slice(0,2));\n    decoded.y = transformers(bytes.slice(2,4));\n    decoded.z = transformers(bytes.slice(4,6));\n  }\n  \n  return decoded;\n}\n")),(0,a.kt)("p",null,"We can input the data of 48-bit IMU sensor in ",(0,a.kt)("strong",{parentName:"p"},"Test")," on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/97.png"})),(0,a.kt)("h3",{id:"option-3-grove-soil-moisture-sensor-data-decoder"},"Option 3. Grove Soil Moisture Sensor data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-Soil-Moisture-Sensor-Grove-LoRa-E5/"},"Grove Soil Moisture Sensor"),", we used an integer variable ",(0,a.kt)("inlineCode",{parentName:"p"},"sensorValue")," to store the soil moisture value read by the soil moisture sensor and sent that value out using the ",(0,a.kt)("strong",{parentName:"p"},"send_sync()")," function. So, the goal of the decoder we wrote in TTN is to be able to parse this integer data."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save changes")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n \n  var decoded = {};\n  if (port == 8) {\n    decoded.soil = bytes[0]<<8 | bytes[1];\n  }\n \n  return decoded;\n}\n")),(0,a.kt)("p",null,"We can input the data of 8-bit soil moisture sensor in ",(0,a.kt)("strong",{parentName:"p"},"Test")," on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/Wio-Terminal-Developer-for-TTN/23.png"})),(0,a.kt)("h3",{id:"option-4-grove-voc-and-eco2-gas-sensor-sgp30-data-decoder"},"Option 4. Grove VOC and eCO2 Gas Sensor (SGP30) data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-VOC-and-eCO2-Gas-Sensor-Grove-LoRa-E5/"},"Grove VOC and eCO2 Gas Sensor (SGP30)"),", We use integer variable ",(0,a.kt)("inlineCode",{parentName:"p"},"tvoc_ppb")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"co2_eq_ppm")," to store the VOC and eCO2 values."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save changes")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n \n  var decoded = {};\n  \n  function transformers(bytes){\n    value = bytes[0] * 256 + bytes[1];\n    return value;\n  }\n  \n  if (port == 8) {\n    decoded.voc = transformers(bytes.slice(0,2));\n    decoded.eco2 = transformers(bytes.slice(2,4));\n  }\n \n  return decoded;\n}\n")),(0,a.kt)("p",null,"We can input the data of 16-bit SGP30 in ",(0,a.kt)("strong",{parentName:"p"},"Test")," on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/Wio-Terminal-Developer-for-TTN/24.png"})),(0,a.kt)("h3",{id:"option-5-grove-temphumi-sensor-sht40-data-decoder"},"Option 5. Grove Temp&Humi Sensor (SHT40) data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-Temp-Humi-Sensor-Grove-LoRa-E5/"},"Grove Temp&Humi Sensor (SHT40)"),", We use float variables ",(0,a.kt)("inlineCode",{parentName:"p"},"temperature")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"humidity")," to store the temperature and humidity values. And send the two values after they have been enlarged a hundred times into integers."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save changes")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n\n    var decoded = {};\n\n    function transformers(bytes){\n        value = bytes[0] * 256 + bytes[1];\n        if (value >= 32768) {\n        value = 32768 - value;\n        }\n        value = value/100.0;\n        return value;\n    }\n\n    if (port == 8) {\n        decoded.temp = transformers(bytes.slice(0, 2));\n        decoded.humi = transformers(bytes.slice(2, 4));\n    }\n\n    return decoded;\n}\n")),(0,a.kt)("p",null,"We can input the data of 32-bit SHT40 in ",(0,a.kt)("strong",{parentName:"p"},"Test")," on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/98.png"})),(0,a.kt)("h3",{id:"option-6-grove-vision-ai-module-data-decoder"},"Option 6. Grove Vision AI Module data decoder"),(0,a.kt)("p",null,"In the previous section ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/K1100-Vision-AI-Module-Grove-LoRa-E5/"},"Grove Vision AI Module"),", We use int variables ",(0,a.kt)("inlineCode",{parentName:"p"},"model")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"confi")," to store the type of model identified and its confidence level."),(0,a.kt)("p",null,"The configuration code of its decoder is as follows. Please paste the following code into the code section of TTN. Click the ",(0,a.kt)("strong",{parentName:"p"},"Save changes")," to save this decoder."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"function Decoder(bytes, port) {\n \n  var decoded = {};\n  \n  function transformers(bytes){\n    value = bytes[0] * 256 + bytes[1];\n    return value;\n  }\n  \n  if (port == 8) {\n    decoded.model = transformers(bytes.slice(0,2));\n    decoded.confidence = transformers(bytes.slice(2,4));\n  }\n \n  return decoded;\n}\n")),(0,a.kt)("p",null,"We can input the data of 16-bit Vision AI in ",(0,a.kt)("strong",{parentName:"p"},"Test")," on the right side to check whether the decoder parses correctly."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/Wio-Terminal-Developer-for-TTN/26.png"})),(0,a.kt)("h2",{id:"upload-code-send-data-to-ttn"},"Upload code send data to TTN"),(0,a.kt)("p",null,"On the different sensor pages we provide detailed codes for uploading data. You can also find the sensor code you want to use in the list below."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Before using the code provided in this section, please note that the Device EUI, App EUI and App Key in the code are consistent with the device information added by TTN. And check if the frequency band configured for Grove - Wio-E5 is the same as the gateway band in your area or TTN. Failure to do so may result in network access failure."),(0,a.kt)("p",{parentName:"admonition"},"The code to set the LoRaWAN\xae band is as follows, and the default setting is EU868 band. (The EU868 band is commonly used in the European region.)",(0,a.kt)("br",null),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"#define Frequency DSKLORAE5_ZONE_EU868"),(0,a.kt)("br",null),"\nUS915 band (The US915 band is commonly used in North America.)",(0,a.kt)("br",null),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"#define Frequency DSKLORAE5_ZONE_US915"),(0,a.kt)("br",null),"\nAU915 band (The AU915 band is commonly used in Australia Region.)",(0,a.kt)("br",null),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"#define Frequency DSKLORAE5_ZONE_AU915"))),(0,a.kt)("table",{align:"center"},(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Sensor Type"),(0,a.kt)("th",null,"Download Address")),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Wio Terminal built-in light sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/Lightsensor-send-data"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Wio Terminal built-in IMU sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/IMU-send-data"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Soil Moisture Sensor"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/Soil-moisture-send-data"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"VOC and eCO2 Gas Sensor (SGP30)"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/SGP30-send-data"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Temp&Humi Sensor (SHT40)"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/SHT40-send-data"},"Download"))),(0,a.kt)("tr",null,(0,a.kt)("td",{align:"center"},"Vision AI Module"),(0,a.kt)("td",{align:"center"},(0,a.kt)("a",{href:"https://github.com/limengdu/Seeed-Studio-LoRaWAN-Dev-Kit/tree/main/sensor/AI-Module-send-data"},"Download"))))),(0,a.kt)("p",null,"The above code for sending sensor data can be uploaded directly to the Wio Terminal from the Arduino IDE and run. At that time, please turn on the serial monitor and adjust the baud rate to 9600 to observe the data transmission in real time."),(0,a.kt)("p",null,"For more details, please return to the section on the use of individual sensors in the reference catalog."),(0,a.kt)("h3",{id:"real-time-data"},"Real-time data"),(0,a.kt)("p",null,"In the ",(0,a.kt)("strong",{parentName:"p"},"Application")," tab, we can click on the ",(0,a.kt)("strong",{parentName:"p"},"Live data")," to see the information about the data received by TTN."),(0,a.kt)("p",null,"We can directly see the data information after decoding by the decoder."),(0,a.kt)("div",{align:"center"},(0,a.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/K1100/40.png"})),(0,a.kt)("h3",{id:"source-code-analysis"},"Source Code Analysis"),(0,a.kt)("p",null,"If you want to apply the content of this tutorial to your own project development, learning to understand the meaning of the code is essential. Here we will use the code of ",(0,a.kt)("strong",{parentName:"p"},"SHT40")," sensor as an example to explain the logic of code implementation."),(0,a.kt)("p",null,"At the beginning of the program, we need to prepare the necessary triad information to connect to TTN and to set the frequency of the Wio-E5."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},'#define Frequency DSKLORAE5_ZONE_EU868\n/*\nSelect your frequency band here.\nDSKLORAE5_ZONE_EU868\nDSKLORAE5_ZONE_US915\nDSKLORAE5_ZONE_AS923_1\nDSKLORAE5_ZONE_AS923_2\nDSKLORAE5_ZONE_AS923_3\nDSKLORAE5_ZONE_AS923_4\nDSKLORAE5_ZONE_KR920\nDSKLORAE5_ZONE_IN865\nDSKLORAE5_ZONE_AU915\n */\n \nchar deveui[] = "2CF7FXXXXXX0A49F";\nchar appeui[] = "80000XXXXXX00009";\nchar appkey[] = "2B7E151628XXXXXXXXXX158809CF4F3C";\n')),(0,a.kt)("p",null,"Next, a ",(0,a.kt)("inlineCode",{parentName:"p"},"data_decord()")," function is defined. This function converts the sensor values into data frames that can be parsed by the TTN decoder and also comply with the LoRaWAN\xae protocol, and stores them in the array ",(0,a.kt)("inlineCode",{parentName:"p"},"data[]"),"."),(0,a.kt)("p",null,"In general, to prevent data overflow, we need to consider the maximum and minimum values that the sensor may read. And split into hexadecimal numbers that will not overflow."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},"void data_decord(int val_1, int val_2, uint8_t data[4])\n{\n  int val[] = {val_1, val_2};\n\n  for(int i = 0, j = 0; i < 2; i++, j += 2)\n  {\n    if(val[i] < 0)\n    {\n      val[i] = ~val[i] + 1;\n      data[j] = val[i] >> 8 | 0x80;\n      data[j+1] = val[i] & 0xFF;\n    }\n    else\n    {\n      data[j] = val[i] >> 8 & 0xFF;\n      data[j+1] = val[i] & 0xFF;\n    }\n  }\n}\n")),(0,a.kt)("p",null,"For the SHT40 sensor, he will have two data, one is temperature data and one is humidity data, and there are positive and negative values, so the negative numbers need to be processed, and also the decimal places need to be processed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},"int_temp = temperature*100;\nint_humi = humidity*100;\n")),(0,a.kt)("p",null,"The next step is the initialization of the SHT40 and the initial setup of the Wio-E5. These will all be executed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"setup()")," function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},"lorae5.begin(DSKLORAE5_SWSERIAL_WIO_P2)\n")),(0,a.kt)("p",null,"In the initialization code, ",(0,a.kt)("inlineCode",{parentName:"p"},"DSKLORAE5_SWSERIAL_WIO_P2")," represents the Grove interface on the ",(0,a.kt)("strong",{parentName:"p"},"right")," side of the Wio Terminal, while ",(0,a.kt)("inlineCode",{parentName:"p"},"DSKLORAE5_SWSERIAL_WIO_P1")," represents the Grove interface on the ",(0,a.kt)("strong",{parentName:"p"},"left")," side. For other projects without external sensors, you can also use ",(0,a.kt)("inlineCode",{parentName:"p"},"DSKLORAE5_SEARCH_WIO")," , which will automatically search for the Grove interface your Wio-E5 is connected to."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},"lorae5.send_sync(              //Sending the sensor values out\n        8,                     // LoRaWan Port\n        data,                  // data array\n        sizeof(data),          // size of the data\n        false,                 // we are not expecting a ack\n        7,                     // Spread Factor\n        14                     // Tx Power in dBm\n       ) \n")),(0,a.kt)("p",null,"The important role of the ",(0,a.kt)("inlineCode",{parentName:"p"},"send_sync()")," function is to send the sensor values over the LoRaWAN\xae. The first parameter indicates the channel number to send the data, the second parameter indicates the content of the data sent, and the third parameter indicates the length of the data sent. In general, we only need to focus on the content of the first three parameters."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-c++"},"delay(15000);\n")),(0,a.kt)("p",null,"The delay at the end of the program determines how often you want to send data. We do not recommend sending at a rate of less than 10 seconds, as sending at such a high frequency may cause the Wio-E5 to work abnormally, and may be recognized by TTN as an abnormal device and blocked because of the high frequency."),(0,a.kt)("p",null,"To learn more about the code and features of Grove - Wio-E5, please refer to the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/limengdu/Disk91_LoRaE5"},"GitHub link of the repository"),". A special thanks to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/disk91"},(0,a.kt)("strong",{parentName:"a"},"Paul Pinault (disk91)"))," for writing the library for Grove - Wio-E5."),(0,a.kt)("p",null,"Stay tuned for more content!"),(0,a.kt)("h2",{id:"tech-support"},"Tech Support"),(0,a.kt)("p",null,"Please do not hesitate to submit the issue into our ",(0,a.kt)("a",{parentName:"p",href:"https://forum.seeedstudio.com/"},"forum"),"."),(0,a.kt)("p",{style:{textAlign:"center"}},(0,a.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,a.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"}))),(0,a.kt)("h2",{id:"statement"},"Statement"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The LoRa\xae Mark is a trademark of Semtech Corporation or its subsidiaries."),(0,a.kt)("li",{parentName:"ul"},"LoRaWAN\xae is a mark used under license from the LoRa Alliance\xae.")))}p.isMDXComponent=!0}}]);