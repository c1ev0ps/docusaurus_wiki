"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[16194],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=p(a),k=l,c=d["".concat(s,".").concat(k)]||d[k]||u[k]||r;return a?n.createElement(c,i(i({ref:t},m),{},{components:a})):n.createElement(c,i({ref:t},m))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=k;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},86396:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=a(87462),l=(a(67294),a(3905));const r={description:"Few-Shot Object Detection",title:"Few-Shot Object Detection",keywords:["Edge","reComputer Application"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"01/04/2023",author:"w0x7ce"},no_comments:!1},i="Few-Shot Object Detection with YOLOv5 and Roboflow",o={unversionedId:"Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson",id:"Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson",title:"Few-Shot Object Detection",description:"Few-Shot Object Detection",source:"@site/docs/Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson.md",sourceDirName:"Edge/reComputer/Application",slug:"/Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson",permalink:"/docusaurus_wiki/Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson",draft:!1,editUrl:"https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Edge/reComputer/Application/YOLOv5-Object-Detection-Jetson.md",tags:[],version:"current",lastUpdatedBy:"w0x7ce",lastUpdatedAt:1672790400,formattedLastUpdatedAt:"Jan 4, 2023",frontMatter:{description:"Few-Shot Object Detection",title:"Few-Shot Object Detection",keywords:["Edge","reComputer Application"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S.png",last_update:{date:"01/04/2023",author:"w0x7ce"},no_comments:!1},sidebar:"ProductSidebar",previous:{title:"Traffic Management DeepStream SDK",permalink:"/docusaurus_wiki/Edge/reComputer/Application/Traffic-Management-DeepStream-SDK"},next:{title:"Getting Started with Docker",permalink:"/docusaurus_wiki/Edge/reComputer/Software/jetson-docker-getting-started"}},s={},p=[{value:"Introduction",id:"introduction",level:2},{value:"What is YOLOv5?",id:"what-is-yolov5",level:2},{value:"What is few-shot object detection?",id:"what-is-few-shot-object-detection",level:2},{value:"Hardware supported",id:"hardware-supported",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Getting started",id:"getting-started",level:2},{value:"Collect dataset or use publically available dataset",id:"collect-dataset-or-use-publically-available-dataset",level:2},{value:"Collect dataset manually",id:"collect-dataset-manually",level:3},{value:"Use publicly available dataset",id:"use-publicly-available-dataset",level:3},{value:"Annotate dataset using Roboflow",id:"annotate-dataset-using-roboflow",level:2},{value:"Train on local PC or cloud",id:"train-on-local-pc-or-cloud",level:2},{value:"Use Google Colab with Ultralytics HUB",id:"use-google-colab-with-ultralytics-hub",level:3},{value:"Use Google Colab with Roboflow api",id:"use-google-colab-with-roboflow-api",level:3},{value:"Use local PC",id:"use-local-pc",level:3},{value:"Inference on Jetson device",id:"inference-on-jetson-device",level:2},{value:"Using TensorRT",id:"using-tensorrt",level:3},{value:"Jetson Nano",id:"jetson-nano",level:4},{value:"Jetson Xavier NX",id:"jetson-xavier-nx",level:4},{value:"Using TensorRT and DeepStream SDK",id:"using-tensorrt-and-deepstream-sdk",level:3},{value:"INT8 Calibration",id:"int8-calibration",level:4},{value:"Benchmark results",id:"benchmark-results",level:4},{value:"Comparison between using public datasets and custom datasets",id:"comparison-between-using-public-datasets-and-custom-datasets",level:2},{value:"Number of training samples",id:"number-of-training-samples",level:3},{value:"Custom dataset",id:"custom-dataset",level:4},{value:"Public dataset",id:"public-dataset",level:4},{value:"Pascal VOC 2012 dataset",id:"pascal-voc-2012-dataset",level:5},{value:"Microsoft COCO 2017 dataset",id:"microsoft-coco-2017-dataset",level:5},{value:"Training time",id:"training-time",level:3},{value:"Local training",id:"local-training",level:4},{value:"Custom dataset with local training",id:"custom-dataset-with-local-training",level:5},{value:"540 images dataset",id:"540-images-dataset",level:6},{value:"240 images dataset",id:"240-images-dataset",level:6},{value:"Pascal VOC 2012 dataset with local training",id:"pascal-voc-2012-dataset-with-local-training",level:5},{value:"Microsoft COCO 2017 Dataset with local training",id:"microsoft-coco-2017-dataset-with-local-training",level:5},{value:"Google Colab training",id:"google-colab-training",level:4},{value:"Custom dataset",id:"custom-dataset-1",level:5},{value:"540 images dataset",id:"540-images-dataset-1",level:6},{value:"240 images dataset",id:"240-images-dataset-1",level:6},{value:"Pascal VOC 2012 dataset with Google Colab training",id:"pascal-voc-2012-dataset-with-google-colab-training",level:5},{value:"Microsoft COCO 2017 Dataset with Google Colab training",id:"microsoft-coco-2017-dataset-with-google-colab-training",level:5},{value:"Number of training samples and training time summary",id:"number-of-training-samples-and-training-time-summary",level:3},{value:"Pretrained checkpoints comparison",id:"pretrained-checkpoints-comparison",level:2},{value:"Bonus Applications",id:"bonus-applications",level:2},{value:"Road signs detection",id:"road-signs-detection",level:3},{value:"Wildfire smoke detection",id:"wildfire-smoke-detection",level:3},{value:"Resources",id:"resources",level:2},{value:"Tech Support",id:"tech-support",level:2}],m={toc:p};function d(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"few-shot-object-detection-with-yolov5-and-roboflow"},"Few-Shot Object Detection with YOLOv5 and Roboflow"),(0,l.kt)("h2",{id:"introduction"},"Introduction"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://docs.ultralytics.com"},"YOLO")," is one of the most famous object detection algorithms available. It only needs ",(0,l.kt)("strong",{parentName:"p"},"few samples for training"),", while providing ",(0,l.kt)("strong",{parentName:"p"},"faster training times")," and ",(0,l.kt)("strong",{parentName:"p"},"high accuracy"),". We will demonstrate these features one-by-one in this wiki, while explaining the complete machine learning pipeline step-by-step where you ",(0,l.kt)("strong",{parentName:"p"},"collect data, label them, train them and finally detect objects using the trained data")," by running the trained model on an edge device such as the ",(0,l.kt)("strong",{parentName:"p"},"NVIDIA Jetson platform"),". Also, we will compare the difference between using custom datasets and public datasets."),(0,l.kt)("h2",{id:"what-is-yolov5"},"What is YOLOv5?"),(0,l.kt)("p",null,"YOLO is an abbreviation for the term \u2018You Only Look Once\u2019. It is an algorithm that detects and recognizes various objects in an image in real-time. Ultralytics ",(0,l.kt)("a",{parentName:"p",href:"https://ultralytics.com/yolov5"},"YOLOv5")," is the latest version of YOLO and it is now based on the PyTorch framework."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/YOLOv5_banner.jpg"})),(0,l.kt)("h2",{id:"what-is-few-shot-object-detection"},"What is few-shot object detection?"),(0,l.kt)("p",null,"Traditionally if you want to train a machine learning model, you would use a public dataset such as the Pascal VOC 2012 dataset which consists of around 17112 images. However, we will use transfer learning to realize few-shot object detection with YOLOv5 which needs only a very few training samples. We will demonstate this in this wiki."),(0,l.kt)("h2",{id:"hardware-supported"},"Hardware supported"),(0,l.kt)("p",null,"YOLOv5 is supported by the following hardware:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Official Development Kits by NVIDIA:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson Nano Developer Kit"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson Xavier NX Developer Kit"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson AGX Xavier Developer Kit"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson TX2 Developer Kit"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Official SoMs by NVIDIA:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson Nano module"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson Xavier NX module"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson TX2 NX module"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson TX2 module"),(0,l.kt)("li",{parentName:"ul"},"NVIDIA\xae Jetson AGX Xavier module"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Carrier Boards by Seeed:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Jetson Mate"),(0,l.kt)("li",{parentName:"ul"},"Jetson SUB Mini PC"),(0,l.kt)("li",{parentName:"ul"},"Jetson Xavier AGX H01 Kit"),(0,l.kt)("li",{parentName:"ul"},"A203 Carrier Board"),(0,l.kt)("li",{parentName:"ul"},"A203 (Version 2) Carrier Board"),(0,l.kt)("li",{parentName:"ul"},"A205 Carrier Board"),(0,l.kt)("li",{parentName:"ul"},"A206 Carrier Board")))),(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Any of the above Jetson devices running latest JetPack v4.6.1 with all SDK components installed (check ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Tutorial-of-A20X-Carrier-Boards/"},"this wiki")," for a reference on installation)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Host PC"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Local training needs a Linux PC (preferably Ubuntu)"),(0,l.kt)("li",{parentName:"ul"},"Cloud training can be performed from a PC with any OS")))),(0,l.kt)("h2",{id:"getting-started"},"Getting started"),(0,l.kt)("p",null,"Running your first object detection project on an edge device such as the Jetson platform simply involves 4 main steps!"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Collect dataset or use publically available dataset"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Collect dataset manually"),(0,l.kt)("li",{parentName:"ul"},"Use publicly available dataset"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Annotate dataset using Roboflow")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Train on local PC or cloud"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Train on local PC (Linux)"),(0,l.kt)("li",{parentName:"ul"},"Train on Google Colab"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Inference on Jetson device"))),(0,l.kt)("h2",{id:"collect-dataset-or-use-publically-available-dataset"},"Collect dataset or use publically available dataset"),(0,l.kt)("p",null,"The very first step of an object detection project is to obtain data for training. You can either download datasets available publicly or create your own dataset! Usually public datasets are used for education and research purposes. However, if you want to build specific object detection projects where the public datasets do not have the objects that you want to detect, you might want to build your own dataset."),(0,l.kt)("h3",{id:"collect-dataset-manually"},"Collect dataset manually"),(0,l.kt)("p",null,"It is recommended that you first record a video footage of the object that you want to recognize. You have to make sure that you cover all angles (360 degrees) of the object, place the object in different environments, different lighting and different weather conditions.\nThe total video we recorded is 9 minutes long where 4.5 minutes is for flowers and the remaining 4.5 minutes is for leaves.  The recording can be broken down as follows:"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/pink-flowers-2.gif"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"morning normal weather"),(0,l.kt)("li",{parentName:"ol"},"morning windy weather"),(0,l.kt)("li",{parentName:"ol"},"Morning rainy weather"),(0,l.kt)("li",{parentName:"ol"},"Noon normal weather"),(0,l.kt)("li",{parentName:"ol"},"Noon windy weather"),(0,l.kt)("li",{parentName:"ol"},"Noon rainy weather"),(0,l.kt)("li",{parentName:"ol"},"Evening normal weather"),(0,l.kt)("li",{parentName:"ol"},"Evening windy weather"),(0,l.kt)("li",{parentName:"ol"},"Evening rainy weather")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," Later on, we will convert this video footage into a series of images to make up the dataset for training."),(0,l.kt)("h3",{id:"use-publicly-available-dataset"},"Use publicly available dataset"),(0,l.kt)("p",null,"You can download a number of publically available datasets such as the  ",(0,l.kt)("a",{parentName:"p",href:"https://cocodataset.org"},"COCO dataset"),", ",(0,l.kt)("a",{parentName:"p",href:"http://host.robots.ox.ac.uk/pascal/VOC"},"Pascal VOC dataset")," and much more. ",(0,l.kt)("a",{parentName:"p",href:"https://universe.roboflow.com"},"Roboflow Universe")," is a recommended platform which provides a wide-range of datasets and it has ",(0,l.kt)("a",{parentName:"p",href:"https://blog.roboflow.com/computer-vision-datasets-and-apis"},"90,000+ datasets with 66+ million images")," available for building computer vision models. Also, you can simply search ",(0,l.kt)("strong",{parentName:"p"},"open-source datasets")," on Google and choose from a variety of datasets available."),(0,l.kt)("h2",{id:"annotate-dataset-using-roboflow"},"Annotate dataset using Roboflow"),(0,l.kt)("p",null,"Next we will move on to annotating the dataset that we have. Annotating means simply drawing rectangular boxes around each object that we want to detect and assign them labels. We will explain how to do this using Roboflow."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://roboflow.com"},"Roboflow"),' is an annotation tool based online. Here we can directly import the video footage that we recorded before into Roboflow and it will be exported into a series of images. This tool is very convenient because it will let us help distribute the dataset into "training, validation and testing". Also this tool will allow us to add further processing to these images after labelling them. Furthermore, it can easily export the labelled dataset into ',(0,l.kt)("strong",{parentName:"p"},"YOLOV5 PyTorch format")," which is what we exactly need!"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 1.")," Click ",(0,l.kt)("a",{parentName:"p",href:"https://app.roboflow.com/login"},"here")," to sign up for a Roboflow account")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 2.")," Click ",(0,l.kt)("strong",{parentName:"p"},"Create New Project")," to start our project"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/2.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 3.")," Fill in ",(0,l.kt)("strong",{parentName:"li"},"Project Name"),", keep the ",(0,l.kt)("strong",{parentName:"li"},"License (CC BY 4.0)")," and ",(0,l.kt)("strong",{parentName:"li"},"Project type (Object Detection (Bounding Box))"),"  as default. Under ",(0,l.kt)("strong",{parentName:"li"},"What will your model predict?")," column, fill in an annotation group name. For example, in our case we choose ",(0,l.kt)("strong",{parentName:"li"},"plants"),". This name should highlight all of the classes of your dataset. Finally, click ",(0,l.kt)("strong",{parentName:"li"},"Create Public Project"),".")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:360,src:"https://files.seeedstudio.com/wiki/YOLOV5/20.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 4.")," Drag and drop the video footage that you recorded before")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/4.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 5.")," Choose a framerate so that the video will be divided into a series of images. Here we will use the default frame rate which is ",(0,l.kt)("strong",{parentName:"li"},"1 frame/second")," and this will generate 542 images in total. Once you select a frame rate by scrubbing through the slider, click ",(0,l.kt)("strong",{parentName:"li"},"Choose Frame Rate"),". It will take a few seconds to a few minutes (depending on the video length) to finish this process.")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/5.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 6.")," After the images are processed, click ",(0,l.kt)("strong",{parentName:"li"},"Finish Uploading"),". Wait patiently until the images are uploaded.")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/6.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 7.")," After the images are uploaded, click ",(0,l.kt)("strong",{parentName:"li"},"Assign Images"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/YOLOV5/7.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 8.")," Select an image, draw a rectangular box around a flower, choose the label as ",(0,l.kt)("strong",{parentName:"li"},"pink flower")," and press ",(0,l.kt)("strong",{parentName:"li"},"ENTER"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/21.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 9.")," Repeat the same for the remaining flowers")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/22.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 10.")," Draw a rectangular box around a leaf, choose the label as ",(0,l.kt)("strong",{parentName:"li"},"leaf")," and press ",(0,l.kt)("strong",{parentName:"li"},"ENTER"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/23.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 11.")," Repeat the same for the remaining leaves")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/24.jpg"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," Try to label all the objects that you see inside the image. If only a part of the object is visible, try to label that too."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 12.")," Continue to annotate all the images in the dataset")),(0,l.kt)("p",null,"Roboflow has a feature called ",(0,l.kt)("strong",{parentName:"p"},"Label Assist")," where it can predict the labels beforehand so that your labelling will be much faster. However, it will not work with all object types, but rather a selected type of objects. To turn this feature on, you simply need to press the ",(0,l.kt)("strong",{parentName:"p"},"Label Assist")," button, ",(0,l.kt)("strong",{parentName:"p"},"select a model"),", ",(0,l.kt)("strong",{parentName:"p"},"select the classes")," and navigate through the images to see the predicted labels with bounding boxes"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:200,src:"https://files.seeedstudio.com/wiki/YOLOV5/41.png"})),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/39.png"})),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/40.png"})),(0,l.kt)("p",null,"As you can see above, it can only help to predict annotations for the 80 classes mentioned. If your images do not contain the object classes from above, you cannot use the label assist feature."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 13.")," Once labelling is done, click ",(0,l.kt)("strong",{parentName:"li"},"Add images to Dataset"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/25.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 14."),' Next we will split the images between "Train, Valid and Test". Keep the default percentages for the distribution and click ',(0,l.kt)("strong",{parentName:"li"},"Add Images"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:330,src:"https://files.seeedstudio.com/wiki/YOLOV5/26.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 15.")," Click ",(0,l.kt)("strong",{parentName:"li"},"Generate New Version"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/27.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 16.")," Now you can add ",(0,l.kt)("strong",{parentName:"li"},"Preprocessing")," and ",(0,l.kt)("strong",{parentName:"li"},"Augmentation")," if you prefer. Here we will ",(0,l.kt)("strong",{parentName:"li"},"delete")," the ",(0,l.kt)("strong",{parentName:"li"},"Resize")," option and keep the original image sizes")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/28.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 17.")," Next, proceed with the remaining defaults and click ",(0,l.kt)("strong",{parentName:"li"},"Generate"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/29.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 18.")," Click ",(0,l.kt)("strong",{parentName:"li"},"Export"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/17.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 19.")," Select ",(0,l.kt)("strong",{parentName:"li"},"download zip to computer"),', under "Select a Format" choose ',(0,l.kt)("strong",{parentName:"li"},"YOLO v5 PyTorch")," and click ",(0,l.kt)("strong",{parentName:"li"},"Continue"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/18.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 20.")," After that, a ",(0,l.kt)("strong",{parentName:"li"},".zip file")," will be downloaded to your computer. We will need this .zip file later for our training.")),(0,l.kt)("h2",{id:"train-on-local-pc-or-cloud"},"Train on local PC or cloud"),(0,l.kt)("p",null,"After we are done with annotating the dataset, we need to train the dataset. For training we will introduce two methods. One method will be based online (Google Colab) and the other method will be based on local PC (Linux)."),(0,l.kt)("p",null,"For the Google Colab training, we will use two methods. In the first method, we will use Ultralytics HUB to upload the dataset, setup training on Colab, monitor the training and grab the trained model. In the second method, we will grab the dataset from Roboflow via Roboflow api, train and download the model from Colab."),(0,l.kt)("h3",{id:"use-google-colab-with-ultralytics-hub"},"Use Google Colab with Ultralytics HUB"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://hub.ultralytics.com"},"Ultralytics HUB")," is a platform where you can train your models without having to know a single line of code. Simply upload your data to Ultralytics HUB, train your model and deploy it into the real world! It is fast, simple and easy to use. Anyone can get started!"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 1.")," Visit ",(0,l.kt)("a",{parentName:"p",href:"https://hub.ultralytics.com"},"this link")," to sign up for a free Ultralytics HUB account")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 2.")," Enter your credentials and ",(0,l.kt)("strong",{parentName:"p"},"sign up with email")," or sign up directly with a ",(0,l.kt)("strong",{parentName:"p"},"Google, GitHub or Apple account")))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/1.png"})),(0,l.kt)("p",null,"After you login to Ultralytics HUB, you will see the dashboard as follows"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/2.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 3.")," Extract the zip file that we downloaded before from Roboflow and put all the included files inside a new folder")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 4.")," Make sure your ",(0,l.kt)("strong",{parentName:"p"},"dataset yaml")," and ",(0,l.kt)("strong",{parentName:"p"},"root folder")," (the folder we created before) share the same name. For example, if you name your yaml file as ",(0,l.kt)("strong",{parentName:"p"},"pinkflowers.yaml"),",  the root folder should be named as ",(0,l.kt)("strong",{parentName:"p"},"pinkflowers"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 5.")," Open ",(0,l.kt)("strong",{parentName:"p"},"pinkflowers.yaml")," file and edit ",(0,l.kt)("strong",{parentName:"p"},"train")," and ",(0,l.kt)("strong",{parentName:"p"},"val")," directories as follows"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"train: train/images\nval: valid/images\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 6.")," Compress the root folder as a ",(0,l.kt)("strong",{parentName:"li"},".zip")," and name it the same as the root folder (",(0,l.kt)("strong",{parentName:"li"},"pinkflowers.zip")," in this example)")),(0,l.kt)("p",null,"Now we have prepared the dataset which is ready to be uploaded to Ultalytics HUB."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 7.")," Click on the ",(0,l.kt)("strong",{parentName:"li"},"Datasets")," tab and click ",(0,l.kt)("strong",{parentName:"li"},"Upload Dataset"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/6.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 8.")," Enter a ",(0,l.kt)("strong",{parentName:"li"},"Name")," for the dataset, enter a ",(0,l.kt)("strong",{parentName:"li"},"Description")," if needed, drag and drop the .zip file that we created before under ",(0,l.kt)("strong",{parentName:"li"},"Dataset")," field and click ",(0,l.kt)("strong",{parentName:"li"},"Upload Dataset"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/24.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 9.")," After the datset is uploaded, click on the dataset to view more insights into the dataset")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/25.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 10.")," Click on the ",(0,l.kt)("strong",{parentName:"li"},"Projects")," tab and click ",(0,l.kt)("strong",{parentName:"li"},"Create Project"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/5.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 11.")," Enter a ",(0,l.kt)("strong",{parentName:"li"},"Name")," for the project, enter a ",(0,l.kt)("strong",{parentName:"li"},"Description")," if needed, add a ",(0,l.kt)("strong",{parentName:"li"},"cover image")," if needed, and click ",(0,l.kt)("strong",{parentName:"li"},"Create Project"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:350,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/26.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 12.")," Enter the newly created project and click ",(0,l.kt)("strong",{parentName:"li"},"Create Model"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/27.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 13.")," Enter a ",(0,l.kt)("strong",{parentName:"li"},"Model name"),", choose ",(0,l.kt)("strong",{parentName:"li"},"YOLOv5n")," as the pretrained model, and click ",(0,l.kt)("strong",{parentName:"li"},"Next"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/28.png"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," Usually ",(0,l.kt)("strong",{parentName:"p"},"YOLOv5n6")," is preferred as the pretrained model because it is suitable to be used for edge devices such as the Jetson platform. However, Ultralytics HUB still does not have the support for it. So we use ",(0,l.kt)("strong",{parentName:"p"},"YOLOv5n")," which is a slightly similar model."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 14.")," Choose the dataset that we uploaded before and click ",(0,l.kt)("strong",{parentName:"li"},"Next"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/29.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 15.")," Choose ",(0,l.kt)("strong",{parentName:"li"},"Google Colab")," as the training platform and click the ",(0,l.kt)("strong",{parentName:"li"},"Advanced Options")," drop-down menu. Here we can change some settings for training. For example, we will change the number of epochs from 300 to 100 and keep the other settings as they are. Click ",(0,l.kt)("strong",{parentName:"li"},"Save"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/30.png"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," You can also choose ",(0,l.kt)("strong",{parentName:"p"},"Bring your own agent")," if you are planning to perform local training"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 16.")," Copy the ",(0,l.kt)("strong",{parentName:"li"},"API key")," and click ",(0,l.kt)("strong",{parentName:"li"},"Open Colab"))),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/31.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 17.")," Replace ",(0,l.kt)("strong",{parentName:"li"},"MODEL_KEY")," with the ",(0,l.kt)("strong",{parentName:"li"},"API key")," that we copied before")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:700,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/16.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 18.")," Click ",(0,l.kt)("inlineCode",{parentName:"li"},"Runtime > Rull All")," to run all the code cells and start the training process")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/17.jpg"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 19.")," Come back to Ultralytics HUB and click ",(0,l.kt)("strong",{parentName:"li"},"Done")," when it turns blue. You will also see that Colab shows as ",(0,l.kt)("strong",{parentName:"li"},"Connected"),".")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/32.png"})),(0,l.kt)("p",null,"Now you will see the training progress on the HUB"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/33.png"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 20.")," After the training is finished, click PyTorch to download the trained model in PyTorch format. PyTorch is the format that we need in order to perform inference on the Jetson device")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/37.png"})),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," You can also export into other formats as well which are displayed under ",(0,l.kt)("strong",{parentName:"p"},"Formats")),(0,l.kt)("p",null,"If you go back to Google Colab, you can see more details as follows:"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/36.png"})),(0,l.kt)("p",null,"Here the accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 90% and 99.4% for leaf and flower respectively, while the total accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 94.7%."),(0,l.kt)("h3",{id:"use-google-colab-with-roboflow-api"},"Use Google Colab with Roboflow api"),(0,l.kt)("p",null,"Here we use a Google Colaboratory environment to perform training on the cloud. Furthermore, we use Roboflow api within Colab to easily download our dataset."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 1.")," Click ",(0,l.kt)("a",{parentName:"li",href:"https://colab.research.google.com/gist/lakshanthad/645de50b7cc5870f4070b720be770f8b/yolov5-training-for-jetson.ipynb"},"here")," to open an already prepared Google Colab workspace and go through the steps mentioned in the workspace")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/82.png"})),(0,l.kt)("p",null,"After the training is done, you will see an output as follows:"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/37.png"})),(0,l.kt)("p",null,"Here the accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 91.6% and 99.4% for leaf and flower respectively, while the total accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 95.5%."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 2.")," Under ",(0,l.kt)("strong",{parentName:"li"},"Files")," tab, if you navigate to ",(0,l.kt)("inlineCode",{parentName:"li"},"runs/train/exp/weights"),", you will see a file called ",(0,l.kt)("strong",{parentName:"li"},"best.pt"),". This is the generated model from training. Download this file and copy to your Jetson device because this is the model we are going to use later for inferencing on the Jetson device.")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/52.png"})),(0,l.kt)("h3",{id:"use-local-pc"},"Use local PC"),(0,l.kt)("p",null,"Here you can use a PC with a Linux OS for training. We have used an Ubuntu 20.04 PC for this wiki."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 1.")," Clone the ",(0,l.kt)("strong",{parentName:"li"},"YOLOv5 repo")," and install ",(0,l.kt)("strong",{parentName:"li"},"requirements.txt")," in a ",(0,l.kt)("strong",{parentName:"li"},"Python>=3.7.0")," environment")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/ultralytics/yolov5 \ncd yolov5\npip install -r requirements.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 2.")," Copy and paste the .zip file that we downloaded before from Roboflow into ",(0,l.kt)("strong",{parentName:"li"},"yolov5")," directory and extract it")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"# example\ncp ~/Downloads/pink-flowers.v1i.yolov5pytorch.zip ~/yolov5\nunzip pink-flowers.v1i.yolov5pytorch.zip\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 3.")," Open ",(0,l.kt)("strong",{parentName:"li"},"data.yaml")," file and edit ",(0,l.kt)("strong",{parentName:"li"},"train")," and ",(0,l.kt)("strong",{parentName:"li"},"val")," directories as follows")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"train: train/images\nval: valid/images\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 4.")," Execute the following to start training")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"python3 train.py --data data.yaml --img-size 640 --batch-size -1 --epoch 100 --weights yolov5n6.pt\n")),(0,l.kt)("p",null,"Since our dataset is relatively small (~500 images), ",(0,l.kt)("strong",{parentName:"p"},"transfer learning")," is expected to produce better results than training from scratch. Our model was initialized with weights from a pre-trained COCO model, by passing the name of the model (yolov5n6) to the \u2018weights\u2019 argument. Here we used ",(0,l.kt)("strong",{parentName:"p"},"yolov5n6")," because it is ideal for edge devices. Here the ",(0,l.kt)("strong",{parentName:"p"},"image size")," is set to ",(0,l.kt)("strong",{parentName:"p"},"640x640"),". We use ",(0,l.kt)("strong",{parentName:"p"},"batch-size")," as ",(0,l.kt)("strong",{parentName:"p"},"-1"),' because that will automatically determine the best batch size. However, if there is an error which says "GPU memory not enough", choose batch size as ',(0,l.kt)("strong",{parentName:"p"},"32"),", or even ",(0,l.kt)("strong",{parentName:"p"},"16"),". You can also change ",(0,l.kt)("strong",{parentName:"p"},"epoch")," according to your preference.  "),(0,l.kt)("p",null,"After the training is done, you will see an output as follows:"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/65.png"})),(0,l.kt)("p",null,"Here the accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 90.6% and 99.4% for leaf and flower respectively, while the total accuracy (",(0,l.kt)("a",{parentName:"p",href:"mailto:mAP@.5"},"mAP@.5"),") is about 95%."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 5.")," If you navigate to ",(0,l.kt)("inlineCode",{parentName:"li"},"runs/train/exp/weights"),", you will see a file called ",(0,l.kt)("strong",{parentName:"li"},"best.pt"),". This is the generated model from training. Copy and paste this file to your Jetson device because this is the model we are going to use later for inferencing on the Jetson device.")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/YOLOV5/33.jpg"})),(0,l.kt)("h2",{id:"inference-on-jetson-device"},"Inference on Jetson device"),(0,l.kt)("h3",{id:"using-tensorrt"},"Using TensorRT"),(0,l.kt)("p",null,"Now we will use a Jetson device to perform inference (detect objects) on images with the help of the model generated from our training before. Here we will use ",(0,l.kt)("a",{parentName:"p",href:"https://developer.nvidia.com/tensorrt"},"NVIDIA TensorRT")," to increase the inference performance on the Jetson platform"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 1.")," Access the terminal of Jetson device, install pip and upgrade it")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt update\nsudo apt install -y python3-pip\npip3 install --upgrade pip\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 2.")," Clone the following repo")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/ultralytics/yolov5\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 3.")," Open ",(0,l.kt)("strong",{parentName:"li"},"requirements.txt"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd yolov5\nvi requirements.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 4.")," Edit the following lines. Here you need to press ",(0,l.kt)("strong",{parentName:"li"},"i")," first to enter editing mode. Press ",(0,l.kt)("strong",{parentName:"li"},"ESC"),", then type ",(0,l.kt)("strong",{parentName:"li"},":wq")," to save and quit")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"matplotlib==3.2.2\nnumpy==1.19.4\n# torch>=1.7.0\n# torchvision>=0.8.1\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," We include fixed versions for ",(0,l.kt)("strong",{parentName:"p"},"matplotlib")," and ",(0,l.kt)("strong",{parentName:"p"},"numpy")," to make sure there are no errors when running YOLOv5 later. Also, torch and torchvision are excluded for now because they will be installed later."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 5.")," install the below dependency")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y libfreetype6-dev\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 6.")," Install the necessary packages")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"pip3 install -r requirements.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 7.")," Install torch")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~\nsudo apt-get install -y libopenblas-base libopenmpi-dev\nwget https://nvidia.box.com/shared/static/fjtbno0vpo676a25cgvuqc1wty0fkkg6.whl -O torch-1.10.0-cp36-cp36m-linux_aarch64.whl\npip3 install torch-1.10.0-cp36-cp36m-linux_aarch64.whl\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 8.")," Install torchvision")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y libjpeg-dev zlib1g-dev\ngit clone --branch v0.9.0 https://github.com/pytorch/vision torchvision\ncd torchvision\nsudo python3 setup.py install \n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 9.")," Clone the following repo")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~\ngit clone https://github.com/wang-xinyu/tensorrtx\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 10.")," Copy ",(0,l.kt)("strong",{parentName:"p"},"best.pt")," file from previous training into ",(0,l.kt)("strong",{parentName:"p"},"yolov5")," directory")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 11.")," Copy ",(0,l.kt)("strong",{parentName:"p"},"gen_wts.py")," from ",(0,l.kt)("strong",{parentName:"p"},"tensorrtx/yolov5")," into ",(0,l.kt)("strong",{parentName:"p"},"yolov5")," directory"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cp tensorrtx/yolov5/gen_wts.py yolov5\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 12.")," Generate ",(0,l.kt)("strong",{parentName:"li"},".wts")," file from PyTorch with ",(0,l.kt)("strong",{parentName:"li"},".pt"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd yolov5\npython3 gen_wts.py -w best.pt -o best.wts\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 13.")," Navigate to ",(0,l.kt)("strong",{parentName:"li"},"tensorrtx/yolov5"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~\ncd tensorrtx/yolov5\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 14.")," Open ",(0,l.kt)("strong",{parentName:"li"},"yololayer.h")," with ",(0,l.kt)("strong",{parentName:"li"},"vi text editor"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"vi yololayer.h\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 15.")," Change ",(0,l.kt)("strong",{parentName:"li"},"CLASS_NUM")," to the number of classes your model is trained. In our example, it is 2")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"CLASS_NUM = 2\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 16.")," Create a new ",(0,l.kt)("strong",{parentName:"li"},"build")," directory and navigate inside")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir build \ncd build\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 17.")," Copy the previously generated ",(0,l.kt)("strong",{parentName:"li"},"best.wts")," file into this ",(0,l.kt)("strong",{parentName:"li"},"build")," directory")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cp ~/yolov5/best.wts .\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 18.")," Compile it")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cmake ..\nmake\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 19.")," Serialize the model")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ./yolov5 -s [.wts] [.engine] [n/s/m/l/x/n6/s6/m6/l6/x6 or c/c6 gd gw]\n#example\nsudo ./yolov5 -s best.wts best.engine n6\n")),(0,l.kt)("p",null,"Here we use ",(0,l.kt)("strong",{parentName:"p"},"n6")," because that is recommended for edge devices such as the NVIDIA Jetson platform. However, if you use Ultralytics HUB to set up training, you can only use ",(0,l.kt)("strong",{parentName:"p"},"n")," because ",(0,l.kt)("strong",{parentName:"p"},"n6")," not yet supported by the HUB."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 20.")," Copy the images that you want the model to detect into a new folder such as ",(0,l.kt)("strong",{parentName:"p"},"tensorrtx/yolov5/images"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 21.")," Deserialize and run inference on the images as follows"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ./yolov5 -d best.engine images\n")),(0,l.kt)("p",null,"Below is a comparison of inference time running on Jetson Nano vs Jetson Xavier NX."),(0,l.kt)("h4",{id:"jetson-nano"},"Jetson Nano"),(0,l.kt)("p",null,"Here quantization is set to FP16"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/58.png"})),(0,l.kt)("p",null,"From the above results, we can take the average as about ",(0,l.kt)("strong",{parentName:"p"},"47ms"),". Converting this value to frames per second: 1000/47 = 21.2766 = ",(0,l.kt)("strong",{parentName:"p"},"21fps"),"."),(0,l.kt)("h4",{id:"jetson-xavier-nx"},"Jetson Xavier NX"),(0,l.kt)("p",null,"Here quantization is set to FP16"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/59.jpg"})),(0,l.kt)("p",null,"From the above results, we can take the average as about ",(0,l.kt)("strong",{parentName:"p"},"20ms"),". Converting this value to frames per second: 1000/20 = ",(0,l.kt)("strong",{parentName:"p"},"50fps"),"."),(0,l.kt)("p",null,"Also, the output images will be as follows with the objects detected:"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/55.jpg"})),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/56.jpg"})),(0,l.kt)("h3",{id:"using-tensorrt-and-deepstream-sdk"},"Using TensorRT and DeepStream SDK"),(0,l.kt)("p",null,"Here we will use ",(0,l.kt)("a",{parentName:"p",href:"https://developer.nvidia.com/tensorrt"},"NVIDIA TensorRT")," along with ",(0,l.kt)("a",{parentName:"p",href:"https://developer.nvidia.com/deepstream-sdk"},"NVIDIA DeepStream SDK")," to perform inference on a video footage"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 1.")," Make sure you have properly installed all the ",(0,l.kt)("strong",{parentName:"li"},"SDK Components")," and ",(0,l.kt)("strong",{parentName:"li"},"DeepStream SDK")," on the Jetson device. (check ",(0,l.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Tutorial-of-A20X-Carrier-Boards"},"this wiki")," for a reference on installation)")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," It is recommended to use NVIDIA SDK Manager to install all the SDK components and DeepStream SDK"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 2.")," Access the terminal of Jetson device, install pip and upgrade it")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt update\nsudo apt install -y python3-pip\npip3 install --upgrade pip\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 3.")," Clone the following repo")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/ultralytics/yolov5\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 4.")," Open ",(0,l.kt)("strong",{parentName:"li"},"requirements.txt"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd yolov5\nvi requirements.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 5.")," Edit the following lines. Here you need to press ",(0,l.kt)("strong",{parentName:"li"},"i")," first to enter editing mode. Press ",(0,l.kt)("strong",{parentName:"li"},"ESC"),", then type ",(0,l.kt)("strong",{parentName:"li"},":wq")," to save and quit")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"matplotlib==3.2.2\nnumpy==1.19.4\n# torch>=1.7.0\n# torchvision>=0.8.1\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," We include fixed versions for ",(0,l.kt)("strong",{parentName:"p"},"matplotlib")," and ",(0,l.kt)("strong",{parentName:"p"},"numpy")," to make sure there are no errors when running YOLOv5 later. Also, torch and torchvision are excluded for now because they will be installed later."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 6.")," install the below dependency")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y libfreetype6-dev\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 7.")," Install the necessary packages")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"pip3 install -r requirements.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 8.")," Install torch")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~\nsudo apt-get install -y libopenblas-base libopenmpi-dev\nwget https://nvidia.box.com/shared/static/fjtbno0vpo676a25cgvuqc1wty0fkkg6.whl -O torch-1.10.0-cp36-cp36m-linux_aarch64.whl\npip3 install torch-1.10.0-cp36-cp36m-linux_aarch64.whl\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 9.")," Install torchvision")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y libjpeg-dev zlib1g-dev\ngit clone --branch v0.9.0 https://github.com/pytorch/vision torchvision\ncd torchvision\nsudo python3 setup.py install \n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 10.")," Clone the following repo")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~\ngit clone https://github.com/marcoslucianops/DeepStream-Yolo\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 11.")," Copy ",(0,l.kt)("strong",{parentName:"li"},"gen_wts_yoloV5.py")," from ",(0,l.kt)("strong",{parentName:"li"},"DeepStream-Yolo/utils")," into ",(0,l.kt)("strong",{parentName:"li"},"yolov5")," directory")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cp DeepStream-Yolo/utils/gen_wts_yoloV5.py yolov5\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 12.")," Inside the yolov5 repo, download ",(0,l.kt)("strong",{parentName:"li"},"pt file")," from YOLOv5 releases (example for YOLOv5s 6.1)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd yolov5\nwget https://github.com/ultralytics/yolov5/releases/download/v6.1/yolov5s.pt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 13.")," Generate the ",(0,l.kt)("strong",{parentName:"li"},"cfg")," and ",(0,l.kt)("strong",{parentName:"li"},"wts")," files")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"python3 gen_wts_yoloV5.py -w yolov5s.pt\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note"),": To change the inference size (defaut: 640)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"-s SIZE\n--size SIZE\n-s HEIGHT WIDTH\n--size HEIGHT WIDTH\n\nExample for 1280:\n-s 1280\nor\n-s 1280 1280\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 14.")," Copy the generated ",(0,l.kt)("strong",{parentName:"li"},"cfg")," and ",(0,l.kt)("strong",{parentName:"li"},"wts")," files into the ",(0,l.kt)("strong",{parentName:"li"},"DeepStream-Yolo")," folder")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cp yolov5s.cfg ~/DeepStream-Yolo\ncp yolov5s.wts ~/DeepStream-Yolo\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 15.")," Open the ",(0,l.kt)("strong",{parentName:"li"},"DeepStream-Yolo")," folder and compile the library")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~/DeepStream-Yolo\n# For DeepStream 6.1\nCUDA_VER=11.4 make -C nvdsinfer_custom_impl_Yolo\n# For DeepStream 6.0.1 / 6.0\nCUDA_VER=10.2 make -C nvdsinfer_custom_impl_Yolo\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 16.")," Edit the ",(0,l.kt)("strong",{parentName:"li"},"config_infer_primary_yoloV5.txt")," file according to your model")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"[property]\n...\ncustom-network-config=yolov5s.cfg\nmodel-file=yolov5s.wts\n...\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 17.")," Edit the ",(0,l.kt)("strong",{parentName:"li"},"deepstream_app_config")," file")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"...\n[primary-gie]\n...\nconfig-file=config_infer_primary_yoloV5.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 18.")," Run the inference")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"deepstream-app -c deepstream_app_config.txt\n")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/FP32-yolov5s.gif"})),(0,l.kt)("p",null,"The above result is running on ",(0,l.kt)("strong",{parentName:"p"},"Jetson Xavier NX")," with ",(0,l.kt)("strong",{parentName:"p"},"FP32")," and ",(0,l.kt)("strong",{parentName:"p"},"YOLOv5s 640x640"),". We can see that the ",(0,l.kt)("strong",{parentName:"p"},"FPS")," is around ",(0,l.kt)("strong",{parentName:"p"},"30"),"."),(0,l.kt)("h4",{id:"int8-calibration"},"INT8 Calibration"),(0,l.kt)("p",null,"If you want to use INT8 precision for inference, you need to follow the steps below"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 1.")," Install OpenCV")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get install libopencv-dev\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 2.")," Compile/recompile the ",(0,l.kt)("strong",{parentName:"li"},"nvdsinfer_custom_impl_Yolo")," library with OpenCV support")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cd ~/DeepStream-Yolo\n# For DeepStream 6.1\nCUDA_VER=11.4 OPENCV=1 make -C nvdsinfer_custom_impl_Yolo\n# For DeepStream 6.0.1 / 6.0\nCUDA_VER=10.2 OPENCV=1 make -C nvdsinfer_custom_impl_Yolo\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 3.")," For COCO dataset, download the ",(0,l.kt)("a",{parentName:"p",href:"https://drive.google.com/file/d/1gbvfn7mcsGDRZ_luJwtITL-ru2kK99aK/view?usp=sharing"},"val2017"),", extract, and move to ",(0,l.kt)("strong",{parentName:"p"},"DeepStream-Yolo")," folder")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Step 4.")," Make a new directory for calibration images"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir calibration\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 5.")," Run the following to select 1000 random images from COCO dataset to run calibration")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"for jpg in $(ls -1 val2017/*.jpg | sort -R | head -1000); do \\\n    cp ${jpg} calibration/; \\\ndone\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," NVIDIA recommends at least 500 images to get a good accuracy. On this example, 1000 images are chosen to get better accuracy (more images = more accuracy). Higher INT8_CALIB_BATCH_SIZE values will result in more accuracy and faster calibration speed. Set it according to you GPU memory. You can set it from ",(0,l.kt)("strong",{parentName:"p"},"head -1000"),". For example, for 2000 images, ",(0,l.kt)("strong",{parentName:"p"},"head -2000"),". This process can take a long time."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 6.")," Create the ",(0,l.kt)("strong",{parentName:"li"},"calibration.txt")," file with all selected images")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"realpath calibration/*jpg > calibration.txt\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 7.")," Set environment variables")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"export INT8_CALIB_IMG_PATH=calibration.txt\nexport INT8_CALIB_BATCH_SIZE=1\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 8.")," Update the ",(0,l.kt)("strong",{parentName:"li"},"config_infer_primary_yoloV5.txt")," file")),(0,l.kt)("p",null,"From"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"...\nmodel-engine-file=model_b1_gpu0_fp32.engine\n#int8-calib-file=calib.table\n...\nnetwork-mode=0\n...\n")),(0,l.kt)("p",null,"To"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"...\nmodel-engine-file=model_b1_gpu0_int8.engine\nint8-calib-file=calib.table\n...\nnetwork-mode=1\n...\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Step 9.")," Run the inference")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"deepstream-app -c deepstream_app_config.txt\n")),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/INT8-yolov5s.gif"})),(0,l.kt)("p",null,"The above result is running on ",(0,l.kt)("strong",{parentName:"p"},"Jetson Xavier NX")," with ",(0,l.kt)("strong",{parentName:"p"},"INT8")," and ",(0,l.kt)("strong",{parentName:"p"},"YOLOv5s 640x640"),". We can see that the ",(0,l.kt)("strong",{parentName:"p"},"FPS")," is around ",(0,l.kt)("strong",{parentName:"p"},"60"),"."),(0,l.kt)("h4",{id:"benchmark-results"},"Benchmark results"),(0,l.kt)("p",null,"The following table summarizes how different models perform on ",(0,l.kt)("strong",{parentName:"p"},"Jetson Xavier NX"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Model Name"),(0,l.kt)("th",null,"Precision"),(0,l.kt)("th",null,"Inference Size"),(0,l.kt)("th",null,"Inference Time (ms)"),(0,l.kt)("th",null,"FPS"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",{rowspan:"3"},"YOLOv5s"),(0,l.kt)("td",null,"FP32"),(0,l.kt)("td",null,"320x320"),(0,l.kt)("td",null,"16.66"),(0,l.kt)("td",null,"60")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"FP32"),(0,l.kt)("td",null,"640x640"),(0,l.kt)("td",null,"33.33"),(0,l.kt)("td",null,"30")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"INT8"),(0,l.kt)("td",null,"640x640"),(0,l.kt)("td",null,"16.66"),(0,l.kt)("td",null,"60")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"YOLOv5n"),(0,l.kt)("td",null,"FP32"),(0,l.kt)("td",null,"640x640"),(0,l.kt)("td",null,"16.66"),(0,l.kt)("td",null,"60")))),(0,l.kt)("h2",{id:"comparison-between-using-public-datasets-and-custom-datasets"},"Comparison between using public datasets and custom datasets"),(0,l.kt)("p",null,"Now we will compare the difference between the number of training samples and training time when using public datasets and your own custom datasets"),(0,l.kt)("h3",{id:"number-of-training-samples"},"Number of training samples"),(0,l.kt)("h4",{id:"custom-dataset"},"Custom dataset"),(0,l.kt)("p",null,"In this wiki, we collected our plant dataset as a video first and then converted the video into a series of images using Roboflow. Here we obtained 542 images which is a very small dataset when compared with public datasets."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/YOLOV5/62.jpg"})),(0,l.kt)("h4",{id:"public-dataset"},"Public dataset"),(0,l.kt)("p",null,"Public datasets such as ",(0,l.kt)("strong",{parentName:"p"},"Pascal VOC 2012")," and ",(0,l.kt)("strong",{parentName:"p"},"Microsoft COCO 2017")," dataset have around ",(0,l.kt)("strong",{parentName:"p"},"17112")," and ",(0,l.kt)("strong",{parentName:"p"},"121408")," Images repectively."),(0,l.kt)("h5",{id:"pascal-voc-2012-dataset"},"Pascal VOC 2012 dataset"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/63.png"})),(0,l.kt)("h5",{id:"microsoft-coco-2017-dataset"},"Microsoft COCO 2017 dataset"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/64.png"})),(0,l.kt)("h3",{id:"training-time"},"Training time"),(0,l.kt)("h4",{id:"local-training"},"Local training"),(0,l.kt)("p",null,"The training was done on an NVIDIA GeForce GTX 1660 Super Graphics Card with 6GB memory"),(0,l.kt)("h5",{id:"custom-dataset-with-local-training"},"Custom dataset with local training"),(0,l.kt)("h6",{id:"540-images-dataset"},"540 images dataset"),(0,l.kt)("p",null,"According to the local training we performed before for the plants, we obtained the following results"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:"{1000}",src:"https://files.seeedstudio.com/wiki/YOLOV5/65.png"})),(0,l.kt)("p",null,"Here it took only ",(0,l.kt)("strong",{parentName:"p"},"2.2 hours")," run 100 epochs. This is comparatively faster than training using public datasets."),(0,l.kt)("h6",{id:"240-images-dataset"},"240 images dataset"),(0,l.kt)("p",null,"We reduced the dataset to 240 images and performed training again and obtained the following results"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/83.png"})),(0,l.kt)("p",null,"Here it took only about ",(0,l.kt)("strong",{parentName:"p"},"1 hour")," run 100 epochs. This is comparatively faster than training using public datasets."),(0,l.kt)("h5",{id:"pascal-voc-2012-dataset-with-local-training"},"Pascal VOC 2012 dataset with local training"),(0,l.kt)("p",null,"We used a Pascal VOC 2012 dataset for the training in this scenario while keeping the same training parameters. We found that it was taking about ",(0,l.kt)("strong",{parentName:"p"},"50 minutes (0.846 hours * 60)")," to run 1 epoch, and therefore we stopped the training on 1 epoch."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/66.png"})),(0,l.kt)("p",null,"If we calculate the training time for 100 epochs, it would take about ",(0,l.kt)("strong",{parentName:"p"},"50 * 100 minutes = 5000 minutes = 83 hours")," which is much longer than the training time for the custom dataset."),(0,l.kt)("h5",{id:"microsoft-coco-2017-dataset-with-local-training"},"Microsoft COCO 2017 Dataset with local training"),(0,l.kt)("p",null,"We used a Microsoft COCO 2017 dataset for the training in this scenario while keeping the same training parameters. We found that it was estimated to take about ",(0,l.kt)("strong",{parentName:"p"},"7.5 hours")," to run 1 epoch, and therefore we stopped the training before 1 epoch was finished."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/68.png"})),(0,l.kt)("p",null,"If we calculate the training time for 100 epochs, it would take about ",(0,l.kt)("strong",{parentName:"p"},"7.5 hours * 100 = 750 hours")," which is much longer than the training time for the custom dataset."),(0,l.kt)("h4",{id:"google-colab-training"},"Google Colab training"),(0,l.kt)("p",null,"The training was done on an NVIDIA Tesla K80 Graphics Card with 12GB memory"),(0,l.kt)("h5",{id:"custom-dataset-1"},"Custom dataset"),(0,l.kt)("h6",{id:"540-images-dataset-1"},"540 images dataset"),(0,l.kt)("p",null,"According to the Google Colab training we performed before for the plants with 540 images, we obtained the following results"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/37.png"})),(0,l.kt)("p",null,"Here it took only about ",(0,l.kt)("strong",{parentName:"p"},"1.3 hours")," run 100 epochs. This is also comparatively faster than training using public datasets."),(0,l.kt)("h6",{id:"240-images-dataset-1"},"240 images dataset"),(0,l.kt)("p",null,"We reduced the dataset to 240 images and performed training again and obtained the following results"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/79.png"})),(0,l.kt)("p",null,"Here it took only about ",(0,l.kt)("strong",{parentName:"p"},"42 minutes (0.697 hours * 60)")," run 100 epochs. This is comparatively faster than training using public datasets."),(0,l.kt)("h5",{id:"pascal-voc-2012-dataset-with-google-colab-training"},"Pascal VOC 2012 dataset with Google Colab training"),(0,l.kt)("p",null,"We used a Pascal VOC 2012 dataset for the training in this scenario while keeping the same training parameters. We found that it was taking about ",(0,l.kt)("strong",{parentName:"p"},"9 minutes (0.148 hours * 60)")," to run 1 epoch, and therefore we stopped the training on 1 epoch."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/67.png"})),(0,l.kt)("p",null,"If we calculate the training time for 100 epochs, it would take about ",(0,l.kt)("strong",{parentName:"p"},"9 * 100 minutes = 900 minutes = 15 hours")," which is much longer than the training time for the custom dataset."),(0,l.kt)("h5",{id:"microsoft-coco-2017-dataset-with-google-colab-training"},"Microsoft COCO 2017 Dataset with Google Colab training"),(0,l.kt)("p",null,"We used a Microsoft COCO 2017 dataset for the training in this scenario while keeping the same training parameters. We found that it was estimated to take about ",(0,l.kt)("strong",{parentName:"p"},"1.25 hours")," to run 1 epoch, and therefore we stopped the training before 1 epoch was finished."),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOV5/69.png"})),(0,l.kt)("p",null,"If we calculate the training time for 100 epochs, it would take about ",(0,l.kt)("strong",{parentName:"p"},"1.25 hours * 100 = 125 hours")," which is much longer than the training time for the custom dataset."),(0,l.kt)("h3",{id:"number-of-training-samples-and-training-time-summary"},"Number of training samples and training time summary"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Dataset"),(0,l.kt)("th",{parentName:"tr",align:null},"Number of training samples"),(0,l.kt)("th",{parentName:"tr",align:null},"Training time on Local PC (GTX 1660 Super)"),(0,l.kt)("th",{parentName:"tr",align:null},"Training time on Google Colab (NVIDIA Tesla K80)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Custom"),(0,l.kt)("td",{parentName:"tr",align:null},"542"),(0,l.kt)("td",{parentName:"tr",align:null},"2.2 hours"),(0,l.kt)("td",{parentName:"tr",align:null},"1.3 hours")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"240"),(0,l.kt)("td",{parentName:"tr",align:null},"1 hour"),(0,l.kt)("td",{parentName:"tr",align:null},"42 minutes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Pascal VOC 2012"),(0,l.kt)("td",{parentName:"tr",align:null},"17112"),(0,l.kt)("td",{parentName:"tr",align:null},"83 hours"),(0,l.kt)("td",{parentName:"tr",align:null},"15 hours")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Microsoft COCO 2017"),(0,l.kt)("td",{parentName:"tr",align:null},"121408"),(0,l.kt)("td",{parentName:"tr",align:null},"750 hours"),(0,l.kt)("td",{parentName:"tr",align:null},"125 hours")))),(0,l.kt)("h2",{id:"pretrained-checkpoints-comparison"},"Pretrained checkpoints comparison"),(0,l.kt)("p",null,"You can learn more about pretrained checkpoints from the table below. Here we have highlighted our scenario when trained with ",(0,l.kt)("strong",{parentName:"p"},"Google Colab")," and inference done on ",(0,l.kt)("strong",{parentName:"p"},"Jetson Nano")," and ",(0,l.kt)("strong",{parentName:"p"},"Jetson Xavier NX")," with ",(0,l.kt)("strong",{parentName:"p"},"YOLOv5n6")," as the pretrained checkpoint."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Model"),(0,l.kt)("th",{parentName:"tr",align:null},"size (pixels)"),(0,l.kt)("th",{parentName:"tr",align:null},"mAPval 0.5:0.95"),(0,l.kt)("th",{parentName:"tr",align:null},"mAPval 0.5"),(0,l.kt)("th",{parentName:"tr",align:null},"Speed CPU b1 (ms)"),(0,l.kt)("th",{parentName:"tr",align:null},"Speed V100 b1 (ms)"),(0,l.kt)("th",{parentName:"tr",align:null},"Speed V100 b32 (ms)"),(0,l.kt)("th",{parentName:"tr",align:null},"Speed Jetson  Nano FP16 (ms)"),(0,l.kt)("th",{parentName:"tr",align:null},"Speed Jetson Xavier NX FP16 (ms)"),(0,l.kt)("th",{parentName:"tr",align:null},"params (M)"),(0,l.kt)("th",{parentName:"tr",align:null},"FLOPs @640 (B)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5n"),(0,l.kt)("td",{parentName:"tr",align:null},"640"),(0,l.kt)("td",{parentName:"tr",align:null},"28.0"),(0,l.kt)("td",{parentName:"tr",align:null},"45.7"),(0,l.kt)("td",{parentName:"tr",align:null},"45"),(0,l.kt)("td",{parentName:"tr",align:null},"6.3"),(0,l.kt)("td",{parentName:"tr",align:null},"0.6"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"1.9"),(0,l.kt)("td",{parentName:"tr",align:null},"4.5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5s"),(0,l.kt)("td",{parentName:"tr",align:null},"640"),(0,l.kt)("td",{parentName:"tr",align:null},"37.4"),(0,l.kt)("td",{parentName:"tr",align:null},"56.8"),(0,l.kt)("td",{parentName:"tr",align:null},"98"),(0,l.kt)("td",{parentName:"tr",align:null},"6.4"),(0,l.kt)("td",{parentName:"tr",align:null},"0.9"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"7.2"),(0,l.kt)("td",{parentName:"tr",align:null},"16.5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5m"),(0,l.kt)("td",{parentName:"tr",align:null},"640"),(0,l.kt)("td",{parentName:"tr",align:null},"45.4"),(0,l.kt)("td",{parentName:"tr",align:null},"64.1"),(0,l.kt)("td",{parentName:"tr",align:null},"224"),(0,l.kt)("td",{parentName:"tr",align:null},"8.2"),(0,l.kt)("td",{parentName:"tr",align:null},"1.7"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"21.2"),(0,l.kt)("td",{parentName:"tr",align:null},"49.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5l"),(0,l.kt)("td",{parentName:"tr",align:null},"640"),(0,l.kt)("td",{parentName:"tr",align:null},"49.0"),(0,l.kt)("td",{parentName:"tr",align:null},"67.3"),(0,l.kt)("td",{parentName:"tr",align:null},"430"),(0,l.kt)("td",{parentName:"tr",align:null},"10.1"),(0,l.kt)("td",{parentName:"tr",align:null},"2.7"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"46.5"),(0,l.kt)("td",{parentName:"tr",align:null},"109.1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5x"),(0,l.kt)("td",{parentName:"tr",align:null},"640"),(0,l.kt)("td",{parentName:"tr",align:null},"50.7"),(0,l.kt)("td",{parentName:"tr",align:null},"68.9"),(0,l.kt)("td",{parentName:"tr",align:null},"766"),(0,l.kt)("td",{parentName:"tr",align:null},"12.1"),(0,l.kt)("td",{parentName:"tr",align:null},"4.8"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"86.7"),(0,l.kt)("td",{parentName:"tr",align:null},"205.7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"YOLOv5n6")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"640")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"71.7")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"95.5")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"153")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"8.1")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"2.1")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"47")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"20")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"3.1")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"4.6"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5s6"),(0,l.kt)("td",{parentName:"tr",align:null},"1280"),(0,l.kt)("td",{parentName:"tr",align:null},"44.8"),(0,l.kt)("td",{parentName:"tr",align:null},"63.7"),(0,l.kt)("td",{parentName:"tr",align:null},"385"),(0,l.kt)("td",{parentName:"tr",align:null},"8.2"),(0,l.kt)("td",{parentName:"tr",align:null},"3.6"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"12.6"),(0,l.kt)("td",{parentName:"tr",align:null},"16.8")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5m6"),(0,l.kt)("td",{parentName:"tr",align:null},"1280"),(0,l.kt)("td",{parentName:"tr",align:null},"51.3"),(0,l.kt)("td",{parentName:"tr",align:null},"69.3"),(0,l.kt)("td",{parentName:"tr",align:null},"887"),(0,l.kt)("td",{parentName:"tr",align:null},"11.1"),(0,l.kt)("td",{parentName:"tr",align:null},"6.8"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"35.7"),(0,l.kt)("td",{parentName:"tr",align:null},"50.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5l6"),(0,l.kt)("td",{parentName:"tr",align:null},"1280"),(0,l.kt)("td",{parentName:"tr",align:null},"53.7"),(0,l.kt)("td",{parentName:"tr",align:null},"71.3"),(0,l.kt)("td",{parentName:"tr",align:null},"1784"),(0,l.kt)("td",{parentName:"tr",align:null},"15.8"),(0,l.kt)("td",{parentName:"tr",align:null},"10.5"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"76.8"),(0,l.kt)("td",{parentName:"tr",align:null},"111.4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"YOLOv5x6 + ","[TTA]"),(0,l.kt)("td",{parentName:"tr",align:null},"1280 1536"),(0,l.kt)("td",{parentName:"tr",align:null},"55.0 55.8"),(0,l.kt)("td",{parentName:"tr",align:null},"72.7 72.7"),(0,l.kt)("td",{parentName:"tr",align:null},"3136 -"),(0,l.kt)("td",{parentName:"tr",align:null},"26.2 -"),(0,l.kt)("td",{parentName:"tr",align:null},"19.4 -"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"140.7 -"),(0,l.kt)("td",{parentName:"tr",align:null},"209.8 -")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Reference: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ultralytics/yolov5"},"YOLOv5 GitHub"))),(0,l.kt)("h2",{id:"bonus-applications"},"Bonus Applications"),(0,l.kt)("p",null,"Since all the steps that we explained above are common for any type of object detection application, you only need to change the dataset for your own object detection application!"),(0,l.kt)("h3",{id:"road-signs-detection"},"Road signs detection"),(0,l.kt)("p",null,"Here we used the ",(0,l.kt)("a",{parentName:"p",href:"https://universe.roboflow.com/usmanchaudhry622-gmail-com/traffic-and-road-signs/1"},"road signs dataset")," from Roboflow and performed inference on NVIDIA Jetson!"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/YOLOv5-2/thumb-2.png"})),(0,l.kt)("h3",{id:"wildfire-smoke-detection"},"Wildfire smoke detection"),(0,l.kt)("p",null,"Here we used ",(0,l.kt)("a",{parentName:"p",href:"https://public.roboflow.com/object-detection/wildfire-smoke"},"wildfire smoke dataset")," from Roboflow and performed inference on NVIDIA Jetson!"),(0,l.kt)("div",{align:"center"},(0,l.kt)("img",{width:1e3,src:"https://files.seeedstudio.com/wiki/Roboflow/20.jpg"})),(0,l.kt)("h2",{id:"resources"},"Resources"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,l.kt)("a",{parentName:"p",href:"https://docs.ultralytics.com"},"YOLOv5 Documentation"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,l.kt)("a",{parentName:"p",href:"https://ultralytics.com/hub"},"Ultralytics HUB"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"[Web Page]")," ",(0,l.kt)("a",{parentName:"p",href:"https://docs.roboflow.com"},"Roboflow Documentation")))),(0,l.kt)("h2",{id:"tech-support"},"Tech Support"),(0,l.kt)("p",null,"Please submit any technical issue into our ",(0,l.kt)("a",{parentName:"p",href:"https://forum.seeedstudio.com/"},"forum"),"."),(0,l.kt)("br",null),(0,l.kt)("p",null,(0,l.kt)("a",{href:"https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts",target:"_blank"},(0,l.kt)("img",{src:"https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg"}))))}d.isMDXComponent=!0}}]);