<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Software/Arduino-DAPLink">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">How to use Arduino Borads as DAPLink Device | Seeed Studio Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://c1ev0ps.github.io/docusaurus_wiki/Software/Arduino-DAPLink"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to use Arduino Borads as DAPLink Device | Seeed Studio Wiki"><meta data-rh="true" name="description" content="How to use Arduino Borads as DAPLink Device"><meta data-rh="true" property="og:description" content="How to use Arduino Borads as DAPLink Device"><meta data-rh="true" name="keywords" content="Sorftware"><meta data-rh="true" property="og:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><meta data-rh="true" name="twitter:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><link data-rh="true" rel="icon" href="/docusaurus_wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://c1ev0ps.github.io/docusaurus_wiki/Software/Arduino-DAPLink"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Software/Arduino-DAPLink" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/zh-CN/Software/Arduino-DAPLink" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Software/Arduino-DAPLink" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8182LB8Y0D-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docusaurus_wiki/blog/rss.xml" title="Seeed Studio Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docusaurus_wiki/blog/atom.xml" title="Seeed Studio Wiki Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Seeed Studio Wiki" href="/docusaurus_wiki/opensearch.xml">
<link rel="icon" href="/docusaurus_wiki/img/docusaurus.png">
<link rel="manifest" href="/docusaurus_wiki/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<script src="https://viewer.altium.com/client/static/js/embed.js" async></script><link rel="stylesheet" href="/docusaurus_wiki/assets/css/styles.2eda7060.css">
<link rel="preload" href="/docusaurus_wiki/assets/js/runtime~main.8f55fba0.js" as="script">
<link rel="preload" href="/docusaurus_wiki/assets/js/main.3a7959e5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">We are looking forward to your contribution! Welcome come to our <a target="_blank" rel="https://github.com/orgs/c1ev0ps/projects/3/views/1" href="#">Task Project</a></div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus_wiki/"><div class="navbar__logo"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--light_HNdA navbar_logo_items"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--dark_i4oU navbar_logo_items"></div></a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Getting_Started">Getting Started</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Sensor_Network">Sensor Network</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Edge_Computing">Edge Computing</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/CloudnChain">Cloud &amp; Chain</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Solutions">Solutions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/c1ev0ps/docusaurus_wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_items">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar_doc_items"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docusaurus_wiki/Software/Arduino-DAPLink" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/docusaurus_wiki/zh-CN/Software/Arduino-DAPLink" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文（中国）</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar_doc_items">Page</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_blank" href="/docusaurus_wiki/indexIAG">SenseCAP</a></li><li><a class="dropdown__link" target="_blank" href="/docusaurus_wiki/./">Initial</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to use Arduino Boards as DAPLink Device</h1><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-10.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-daplink">What is DAPLink<a class="hash-link" href="#what-is-daplink" title="Direct link to heading">​</a></h2><p><strong><a href="https://armmbed.github.io/DAPLink/" target="_blank" rel="noopener noreferrer">Arm Mbed DAPLink</a></strong> is an open source software project that programs and debugs application software running on <strong>Arm Cortex CPUs</strong>. DAPLink is often referred to as interface firmware and runs on an auxiliary MCU connected to the SWD or JTAG port of the application MCU. This configuration is available on almost all development boards. It creates a bridge between your development computer and the CPU debug access port.</p><blockquote><p>Please also visit <a href="https://github.com/ARMmbed/DAPLink" target="_blank" rel="noopener noreferrer">DAPLink</a> for more information.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="daplink-for-arduino-boards">DAPLink For Arduino Boards<a class="hash-link" href="#daplink-for-arduino-boards" title="Direct link to heading">​</a></h3><p>Now, we have <strong>developed the DAPLink firmware running on your Arduino Boards</strong>(<em>SAMD Series</em>) such as <a href="https://www.seeedstudio.com/Wio-Terminal-p-4509.html" target="_blank" rel="noopener noreferrer">Wio Terminal</a> and <a href="https://www.seeedstudio.com/Seeeduino-XIAO-Arduino-Microcontroller-SAMD21-Cortex-M0+-p-4426.html" target="_blank" rel="noopener noreferrer">Seeeduino Xiao</a> so that you can upload and debug development boards that support DAPLink in a most cost-effective way!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">​</a></h3><ul><li>Debug and Flash Arm Cortex CPUs</li><li>Provides a virtual serial port, eliminating the need for a usb to serial port</li><li>Drag and drop to upload firmware(coming soon)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-boards">Supported Boards<a class="hash-link" href="#supported-boards" title="Direct link to heading">​</a></h2><p>It supports all the SAMD boards by Seeed:</p><ul><li><a href="https://www.seeedstudio.com/Wio-Terminal-p-4509.html" target="_blank" rel="noopener noreferrer">Wio Terminal</a></li><li><a href="https://www.seeedstudio.com/Seeeduino-XIAO-Arduino-Microcontroller-SAMD21-Cortex-M0+-p-4426.html" target="_blank" rel="noopener noreferrer">Seeeduino XIAO</a></li><li>Seeeduino Zero Series:<ul><li><a href="https://www.seeedstudio.com/Seeeduino-Cortex-M0-p-4070.html" target="_blank" rel="noopener noreferrer">Seeeduino Cortex-M0+</a></li><li><a href="https://www.seeedstudio.com/Seeeduino-Lotus-Cortex-M0-p-2896.html" target="_blank" rel="noopener noreferrer">Seeeduino Lotus Cortex-M0+</a></li><li><a href="https://www.seeedstudio.com/Wio-Lite-W600-p-4155.html" target="_blank" rel="noopener noreferrer">Wio Lite W600 - ATSAMD21 Cortex-M0 Wireless Development Board</a></li><li><a href="https://www.seeedstudio.com/Wio-Lite-MG126-p-4189.html" target="_blank" rel="noopener noreferrer">Wio Lite MG126 - ATSAMD21 Cortex-M0 Blue Wireless Development Board</a></li></ul></li><li><a href="https://www.seeedstudio.com/Seeeduino-LoRaWAN-p-2780.html" target="_blank" rel="noopener noreferrer">Seeeduino LoRaWAN</a></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Please make sure you have installed the <strong>latest ArduinoSAMD board library for Seeed (&gt;=1.8.1)</strong> for this to work!</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-started">Get Started<a class="hash-link" href="#get-started" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-installing-the-daplink-arduino-libraries">1. Installing the DAPLink Arduino Libraries<a class="hash-link" href="#1-installing-the-daplink-arduino-libraries" title="Direct link to heading">​</a></h3><ol><li><p>Visit the <a href="https://github.com/Seeed-Studio/Seeed_Arduino_DAPLink/" target="_blank" rel="noopener noreferrer"><strong>Seeed_Arduino_DAPLink</strong></a> repositories and download the entire repo to your local drive.</p></li><li><p>Now, the Seeed_Arduino_DAPLink library can be installed to the Arduino IDE. Open the Arduino IDE, and click <code>sketch</code> -&gt; <code>Include Library</code> -&gt; <code>Add .ZIP Library</code>, and choose the <code>Seeed_Arduino_DAPLink</code> file that you&#x27;ve have just downloaded.</p></li></ol><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/Xnip2019-11-21_15-50-13.jpg" alt="InstallLibrary" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-installing-the-adafruit_tinyusb_arduino-library">2. Installing the Adafruit_TinyUSB_Arduino Library<a class="hash-link" href="#2-installing-the-adafruit_tinyusb_arduino-library" title="Direct link to heading">​</a></h3><ol><li><p>Visit the <a href="https://github.com/adafruit/Adafruit_TinyUSB_Arduino" target="_blank" rel="noopener noreferrer"><strong>Adafruit_TinyUSB_Arduino</strong></a> repositories and download the entire repo to your local drive.</p></li><li><p>Now, the Adafruit_TinyUSB_Arduino library can be installed to the Arduino IDE. Open the Arduino IDE, and click <code>sketch</code> -&gt; <code>Include Library</code> -&gt; <code>Add .ZIP Library</code>, and choose the <code>Adafruit_TinyUSB_Arduino</code> file that you&#x27;ve have just downloaded.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-pin-definitions">Customizing Pin Definitions<a class="hash-link" href="#customizing-pin-definitions" title="Direct link to heading">​</a></h3><p>If you are using <strong>Wio Terminal</strong> or <strong>Seeeduino Xiao</strong>, you may skip this section and just use the default definitions.</p><ul><li>The pins definitions for DAPLink is defined in <strong><code>DAP_config.h</code></strong> under <code>Seeed_Arduino_DAPLink/src</code>, reference the followings:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/pins-new.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upload-to-arduino-boards">Upload to Arduino Boards<a class="hash-link" href="#upload-to-arduino-boards" title="Direct link to heading">​</a></h3><p>Open the <code>simple_daplink.ino</code> under <code>Seeed_Arduino_DAPLink/example</code> using Arduino IDE. Under <code>Tools</code> -&gt; <code>USB Stack</code> and choose <strong>TinyUSB</strong>.</p><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/usbstack.png" class="img_ev3q"></div><p>Compile and upload the code!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-connection-example">Hardware Connection Example<a class="hash-link" href="#hardware-connection-example" title="Direct link to heading">​</a></h2><p>In this wiki, we have used the <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f410rb.html" target="_blank" rel="noopener noreferrer">STM32F410RB development board</a> as connection example:</p><blockquote><p>If you have changed pinout definitions, please connect according to your own defines.</p></blockquote><ul><li>Seeeduino Xiao Connection Example</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/daplink-xiao.jpg" class="img_ev3q"></div><ul><li>Wio Terminal Connection Example</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/daplink-wt.jpg" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="debug-and-flash-example-for-ides">Debug and Flash Example for IDEs<a class="hash-link" href="#debug-and-flash-example-for-ides" title="Direct link to heading">​</a></h2><p>Our Arduino board now becomes our DAPLink device for uploading for MCUs! Let&#x27;s have some examples for different IDEs for reference.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-with-openocd">Debugging with OpenOCD<a class="hash-link" href="#debugging-with-openocd" title="Direct link to heading">​</a></h3><ul><li><p>Connect the Arduino DAPLink to target Development according to the connection above, and to your PC.</p></li><li><p>Make sure you have installed OpenOCD.</p></li><li><p>Open Terminal and run the following:</p></li></ul><p>Change to your device target according to your development board, you may check the <a href="http://openocd.org/doc/html/CPU-Configuration.html" target="_blank" rel="noopener noreferrer">official document</a> for reference.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openocd -f interface/cmsis-dap.cfg -f target/stm32f4x.cfg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/openocd-1.png" class="img_ev3q"></div><ul><li>Under your development board project build path, run the gcc, which looks something like below:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/openocd-2.png" class="img_ev3q"></div><ul><li>under gdb, connect to local host by running the following:</li></ul><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">target remote 127.0.0.1:3333</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/openocd-3.png" class="img_ev3q"></div><ul><li>Now the development board is connected, you may start to debug or upload!</li></ul><p>Run <code>load</code> to upload to development board:</p><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/openocd-4.png" class="img_ev3q"></div><p>Some useful commands for GDB:</p><ul><li><code>continue/cont</code></li><li><code>ctrl</code>+<code>c</code></li><li><code>next</code></li><li><code>break</code></li><li><code>info break</code></li><li><code>clear</code></li><li><code>delete</code></li><li><code>list</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-with-eclipse">Debugging with Eclipse<a class="hash-link" href="#debugging-with-eclipse" title="Direct link to heading">​</a></h3><p>For Eclipse, it&#x27;s very similar to the OpenOCD as it can use the OpenOCD as backend.</p><ul><li>Navigate to <strong>Help</strong> -&gt; <strong>Eclipse Marketplace</strong>, search and download <strong>Eclipse Embedded CDT</strong>:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-2.png" class="img_ev3q"></div><ul><li>Navigate to <strong>Window</strong> -&gt; <strong>Preference</strong> -&gt; <strong>MCU</strong> -&gt; <strong>Global OpenOCD Path</strong> and fill in your OpenOCD path as follow:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-3.png" class="img_ev3q"></div><ul><li>Build your project. Under <strong>Run Last Tool</strong>, click on <strong>External Tools Configurations</strong>:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-5.png" class="img_ev3q"></div><ul><li>Copy the following settings, please change to your path (also your target board).</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-6.png" class="img_ev3q"></div><p>If it goes well, it should look something like this:</p><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-8.png" class="img_ev3q"></div><ul><li>Under <strong>Debug</strong>, click <strong>Debug Configurations</strong>, select <strong>Debugger</strong> section, and fill in your gcc path:</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-9.png" class="img_ev3q"></div><p>Now it&#x27;s all good and ready to debug!</p><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/eclipse-10.png" class="img_ev3q"></div><p>More reference, please check <a href="https://gnu-mcu-eclipse.github.io/debug/openocd/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-with-keil">Debugging with Keil<a class="hash-link" href="#debugging-with-keil" title="Direct link to heading">​</a></h3><ul><li>Connect the Arduino DAPLink to target Development according to the connection above and to your PC.</li></ul><p>To use our Arduino DAPLink in Keil, check the following:</p><ul><li>Open your project with Keil, click on the <strong>Options for target</strong>.</li></ul><p>You should see a window just like below. Make sure the device matches with your device. Navigate to <strong>Debug</strong> section and select <strong>CMSIS-DAP Debugger</strong>.</p><ul><li>Click on the <strong>settings</strong> next to the <strong>CMSIS-DAP Debugger</strong>.</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/keil-1.png" class="img_ev3q"></div><ul><li>Choose <strong>Seeed CMSIS-DAP</strong>(our Arduino board) and you should see that it&#x27;s connected.</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/keil-2.png" class="img_ev3q"></div><ul><li>You may also want to navigate to the <strong>Flash Download</strong> section to make sure it&#x27;s the right device and Click <strong>OK</strong>.</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/keil-3.png" class="img_ev3q"></div><ul><li>Click on <strong>Build</strong> and <strong>Flash</strong>!</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/keil-4.png" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-with-iar-embedded-workbench">Debugging with IAR Embedded Workbench<a class="hash-link" href="#debugging-with-iar-embedded-workbench" title="Direct link to heading">​</a></h3><ul><li><p>Connect the Arduino DAPLink to target Development according to the connection above and to your PC.</p></li><li><p>Open your project, and navigate to <strong>Project</strong> -&gt; <strong>Options</strong>. In the Options menu, select <strong>Debugger</strong>:</p></li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/iar-1.png" class="img_ev3q"></div><ul><li>In the <strong>Setup</strong> tab, select <strong>CMSIS DAP</strong> from the Driver drop-down menu.</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/iar-2.png" class="img_ev3q"></div><ul><li>In the <strong>Download</strong> tab, check Verify download and Use <strong>flash loader(s)</strong></li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/iar-3.png" class="img_ev3q"></div><ul><li>Select <strong>CMSIS DAP</strong> from the menu on the left, select the <strong>Interface</strong> tab and configure the <strong>SWD</strong> protocol.</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/iar-4.png" class="img_ev3q"></div><ul><li>Click <strong>OK</strong>, and you can click <strong>Download and Debug</strong>!</li></ul><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/DAPLink/iar-5.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="serial-usage">Serial Usage<a class="hash-link" href="#serial-usage" title="Direct link to heading">​</a></h2><p>To make life easier, we also implemented a USB to Serial function to the Arduino Sketch which saves you the need of additional hardware!</p><ul><li>By default, it is defined as <code>Serial1</code> and it&#x27;s the Hardware Serial pins. For example, it&#x27;s pin 6 and 7 for Seeeduino XIAO.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">You may define your own Serial in the Arduino Sketch.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><div align="center"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Seeeduino-XIAO/img/Seeeduino-XIAO-pinout.jpg" class="img_ev3q"></div><blockquote><p>Reference usage, check <a href="https://wiki.seeedstudio.com/How-to-use-Seeeduino-XIAO-to-log-in-to-your-Raspberry-PI/" target="_blank" rel="noopener noreferrer">here</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://github.com/ARMmbed/DAPLink" target="_blank" rel="noopener noreferrer">DAPLink Official Github</a></li><li><a href="http://openocd.org/doc/html/index.html" target="_blank" rel="noopener noreferrer">OpenOCD Documents</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tech-support">Tech Support<a class="hash-link" href="#tech-support" title="Direct link to heading">​</a></h2><p>Please submit any technical issue into our <a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer">forum</a><br></p><p style="text-align:center"><a href="https://www.seeedstudio.com/act-4.html?utm_source=wiki&amp;utm_medium=wikibanner&amp;utm_campaign=newproducts" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg" class="img_ev3q"></a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Software/Arduino-DAPLink.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-01-16T00:00:00.000Z">Jan 16, 2023</time></b> by <b>jianjing Huang</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-daplink" class="table-of-contents__link toc-highlight">What is DAPLink</a><ul><li><a href="#daplink-for-arduino-boards" class="table-of-contents__link toc-highlight">DAPLink For Arduino Boards</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li></ul></li><li><a href="#supported-boards" class="table-of-contents__link toc-highlight">Supported Boards</a></li><li><a href="#get-started" class="table-of-contents__link toc-highlight">Get Started</a><ul><li><a href="#1-installing-the-daplink-arduino-libraries" class="table-of-contents__link toc-highlight">1. Installing the DAPLink Arduino Libraries</a></li><li><a href="#2-installing-the-adafruit_tinyusb_arduino-library" class="table-of-contents__link toc-highlight">2. Installing the Adafruit_TinyUSB_Arduino Library</a></li><li><a href="#customizing-pin-definitions" class="table-of-contents__link toc-highlight">Customizing Pin Definitions</a></li><li><a href="#upload-to-arduino-boards" class="table-of-contents__link toc-highlight">Upload to Arduino Boards</a></li></ul></li><li><a href="#hardware-connection-example" class="table-of-contents__link toc-highlight">Hardware Connection Example</a></li><li><a href="#debug-and-flash-example-for-ides" class="table-of-contents__link toc-highlight">Debug and Flash Example for IDEs</a><ul><li><a href="#debugging-with-openocd" class="table-of-contents__link toc-highlight">Debugging with OpenOCD</a></li><li><a href="#debugging-with-eclipse" class="table-of-contents__link toc-highlight">Debugging with Eclipse</a></li><li><a href="#debugging-with-keil" class="table-of-contents__link toc-highlight">Debugging with Keil</a></li><li><a href="#debugging-with-iar-embedded-workbench" class="table-of-contents__link toc-highlight">Debugging with IAR Embedded Workbench</a></li></ul></li><li><a href="#serial-usage" class="table-of-contents__link toc-highlight">Serial Usage</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#tech-support" class="table-of-contents__link toc-highlight">Tech Support</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/About">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Form<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/QqMgVwHT3X" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/seeedstudio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/c1ev0ps/docusaurus_wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Seeed Studio, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus_wiki/assets/js/runtime~main.8f55fba0.js"></script>
<script src="/docusaurus_wiki/assets/js/main.3a7959e5.js"></script>
</body>
</html>