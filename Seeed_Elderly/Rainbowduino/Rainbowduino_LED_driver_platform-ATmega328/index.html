<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Rainbowduino LED driver platform-ATmega328 | Seeed Studio Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://c1ev0ps.github.io/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rainbowduino LED driver platform-ATmega328 | Seeed Studio Wiki"><meta data-rh="true" name="description" content="Rainbowduino_LED_driver_platform-ATmega328"><meta data-rh="true" property="og:description" content="Rainbowduino_LED_driver_platform-ATmega328"><meta data-rh="true" name="keywords" content="Rainbowduino_LED_driver_platform-ATmega328"><meta data-rh="true" property="og:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><meta data-rh="true" name="twitter:image" content="https://files.seeedstudio.com/wiki/wiki-platform/S.png"><link data-rh="true" rel="icon" href="/docusaurus_wiki/img/S.png"><link data-rh="true" rel="canonical" href="https://c1ev0ps.github.io/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/zh-CN/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://c1ev0ps.github.io/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8182LB8Y0D-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docusaurus_wiki/blog/rss.xml" title="Seeed Studio Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docusaurus_wiki/blog/atom.xml" title="Seeed Studio Wiki Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Seeed Studio Wiki" href="/docusaurus_wiki/opensearch.xml">
<link rel="icon" href="/docusaurus_wiki/img/docusaurus.png">
<link rel="manifest" href="/docusaurus_wiki/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<script src="https://viewer.altium.com/client/static/js/embed.js" async></script><link rel="stylesheet" href="/docusaurus_wiki/assets/css/styles.e0cba3cd.css">
<link rel="preload" href="/docusaurus_wiki/assets/js/runtime~main.5a80bd54.js" as="script">
<link rel="preload" href="/docusaurus_wiki/assets/js/main.9c630393.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">We are looking forward to your contribution! Welcome to check our <a target="_blank" rel="https://github.com/orgs/c1ev0ps/projects/3/views/1" href="https://github.com/c1ev0ps/docusaurus_wiki/blob/main/TASK.md">task lists</a>ÔºÅ</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus_wiki/"><div class="navbar__logo"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--light_HNdA navbar_logo_items"><img src="https://files.seeedstudio.com/wiki/wiki-platform/S.png" alt="Seeed Studio" class="themedImage_ToTc themedImage--dark_i4oU navbar_logo_items"></div></a><a aria-current="page" class="navbar__item navbar__link navbar_doc_items navbar__link--active" href="/docusaurus_wiki/Getting_Started">Getting Started</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Sensor_Network">Sensor Network</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Edge_Computing">Edge Computing</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/CloudnChain">Cloud &amp; Chain</a><a class="navbar__item navbar__link navbar_doc_items" href="/docusaurus_wiki/Solutions">Solutions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/c1ev0ps/docusaurus_wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_doc_items">GitHub üí≠</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/Getting_Started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/weekly_wiki">Weekly Wiki</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Sensor </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Grove/Grove_Sensors/All_in_one/Grove_SEN5X_All_in_One">Grove</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/mmWave_radar_sensor/Radar_MR24HPC1">mmWave radar sensor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_SAMD21/Seeeduino-XIAO">SeeedStudio XIAO</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Wio_Terminal/Wio-Terminal-Getting-Started">Wio Terminal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Wio_Series/Wio">Wio Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Seeeduino Series/Getting_Started_with_Seeeduino">Seeeduino Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Arch/Arch_Mix">Arch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Azure Sphere MT3620/Azure_Sphere_MT3620_Development_Kit">Azure Sphere MT3620</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/IOT_Button_For_AWS/SEEED-IOT-BUTTON-FOR-AWS">IOT BUTTON FOR AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Pi_Pico/Grove-Starter-Kit-for-Raspberry-Pi-Pico">Pi Pico</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Sensor/Beyond_Grove/Sensors/Ultra_Sonic_range_measurement_module">Beyond Grove</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Network </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Network/SenseCAP/Industrial-IoT-SenseCAP-Introduction">SenseCAP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Network/SenseCAP_K1100/K1100_Getting_Started">SenseCAP K1100</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Network/LinkStar/Linkstar_Datasheet">LinkStar</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Network/reRouter/Raspberry-OpenWrt-Getting-Started">reRouter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Network/TTN_Gateway/The-Things-Indoor-Gateway">TTN Gateway</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Edge </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/reTerminal/">reTerminal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/reComputer/reComputer_Jetson_Series_Introduction">reComputer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/reServer/reServer_X86/reServer-Getting-Started">reServer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/Edge_Series/Edge_Box_RPi_200/Edgebox-rpi-200-codesys">Edge Series</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/Beagle_Bone/BeagleBone">BeagleBone¬Æ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/ODYSSEY/ODYSSEY_X86J4105/ODYSSEY-X86J4105">ODYSSEY</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Edge/Quantum_Development_Board/Quantum-Mini-Linux-Development-Kit">Quantum Development Board</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Cloud and Chain </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Cloud_Chain/SenseCAP_M4/wiki">SenseCAP Cloud</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1">
    <style>
      .sub_item {
        width: 275px;
        display:inline-block;
        text-align:center;
        font-size:20px;
        margin-top: 10px;
      }
    </style>
    <div style="width:100px;text-align:center"> 
      <div class="sub_item"><strong> Top Brand </strong></div>
    </div>
    </li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Top_Brand/Arduino/">Arduino</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Top_Brand/Raspberry_Pi/">Raspberry Pi</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Top_Brand/NVIDIA/Mini_PC/reComputer_A203E_Flash_System">NVIDIA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus_wiki/Top_Brand/Micro_bit/Grove_Inventor_Kit_for_microbit">Micro:bit</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/About">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_wiki/License">License</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docusaurus_wiki/Seeed_Elderly/reSpeaker/">Seeed Elderly</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/reSpeaker/">reSpeaker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/rePhone/">rePhone</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/LinkIt/">LinkIt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Bee/Mesh_Bee">Bee</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Xadow/Xadow_3_Aixs_Accelerometer">Xadow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_v3.0">Rainbowduino</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_v3.0">Rainbowduino v3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328">Rainbowduino LED driver platform-ATmega328</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/reComputer_Alpha/How-to-build-a-home-soft-router-and-NAS-With-ReComputer">reComputer Alpha</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Air_Serial/Air602_WiFi_Development_Board">Air Serial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/NPi-i/NPi-i.MX6ULL-Dev-Board-Linux-SBC">NPi-i</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/W600/W600_Module">W600</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Artik/">Artik</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Discrete Product/ESP32_Breakout_Kit">Discrete Product</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Fusion/Service_for_Fusion_PCB">Fusion</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus_wiki/Seeed_Elderly/Contributors/How_To_Edit_A_Document">Contributors</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus_wiki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Seeed Elderly</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Rainbowduino</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Rainbowduino LED driver platform-ATmega328</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Rainbowduino LED driver platform-ATmega328</h1></header><table><thead><tr><th><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-Rainbowduino_LRG.jpg" class="img_ev3q"></th><th><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-Rainbowduino_01_LRG.jpg" class="img_ev3q"></th></tr></thead></table><p>The Rainbowduino board is an Arduino compatible controller board with professional LED driving capacity. It will drive an 8x8 RGB Led Matrix (Common Anode).</p><ul><li><p>No external circuit required, plug and shine!</p></li><li><p>24 constant current channels of 120mA each</p></li><li><p>8 super source driver channel of 500mA each</p></li><li><p>Wide output voltage adaption from 6.5V-12VDC</p></li><li><p>Dedicated GPIO and ADC</p></li><li><p>Hardware UART and I2C communication</p></li><li><p>Easy cascading</p></li><li><p>Small form and light weight</p></li></ul><p><a href="https://www.seeedstudio.com/Rainbowduino-LED-driver-platform-Atmega-328-p-371.html" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Seeed-WiKi/docs/images/300px-Get_One_Now_Banner-ragular.png" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="standalone-mode-plug-and-shine">Standalone Mode (plug and shine)<a class="hash-link" href="#standalone-mode-plug-and-shine" title="Direct link to heading">‚Äã</a></h2><hr><p>Needed Hardware:</p><ul><li><p>1 x Rainbowduino</p></li><li><p>1 x RGB LED Matrix</p></li></ul><p>The simplest work mode, no external Systems needed (only a ttl serial adapter to upload the firmware). The LED matrix content is generated by the Rainbowduino itself.</p><p>Use Case:</p><ul><li><p>Simple real-time animations calculated by the Rainbowduino</p></li><li><p>Display pre-stored animations, limited due the 32kb ROM of the Rainbowduino</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="uart-mode">UART Mode<a class="hash-link" href="#uart-mode" title="Direct link to heading">‚Äã</a></h2><hr><p>Needed Hardware:</p><ul><li><p>1x Rainbowduino</p></li><li><p>1x RGB LED Matrix</p></li><li><p>1x TTL Level converter</p></li><li><p>1x UART sender unit (Arduino, PC...)</p></li></ul><p>Send data (LED matrix content) from your computer to one Rainbowduino. As the Rainbowduino does not have a USB connector but a TTL serial connection you need a TTL serial level converter (BusPirate, UartSBee, Arduino...).</p><p><strong>Use Case:</strong></p><p>PC or Arduino generated frames displayed on ONE Led Matrix</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i2c-mode">I2C Mode<a class="hash-link" href="#i2c-mode" title="Direct link to heading">‚Äã</a></h2><hr><p>Needed Hardware:</p><ul><li><p>1..n x Rainbowduino</p></li><li><p>1..n x RGB LED Matrix</p></li><li><p>1 x I2C master device (for example an Arduino)</p></li><li><p>Some cables</p></li></ul><p>Send data (LED matrix content) from your computer to multiple Rainbowduino‚Äôs. A side-note if you use an Arduino with an FTDI USB to Serial adapter (Duemillanove, Diecimila...) - there is a Latency of ~16ms to send data from your computer to the Arduino. The new Arduino UNO have a much lower latency ~4ms.</p><p>Use Case:</p><p>PC or Arduino generated frames displayed on <strong>multiple</strong> Led Matrices</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-i2c-cabling.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i2c-cascading">I2C Cascading<a class="hash-link" href="#i2c-cascading" title="Direct link to heading">‚Äã</a></h2><hr><p>Rainbowduino is designed for easy casacading. After physically connected, power is passed on, and you may control the chain by I2C. Please note that each Rainbowduino must be assigned for a uniqe address for I2C communication.</p><p>Prepare the power connection:</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-chain-prepare.png" class="img_ev3q"></p><p>Rainbowduino cascaded:</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-chained.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="specification">Specification<a class="hash-link" href="#specification" title="Direct link to heading">‚Äã</a></h2><hr><ul><li><p>MicroprocessorÔºöAtmega 328</p></li><li><p>PCB sizeÔºö60mm <em>60mm</em> 1.6mm</p></li><li><p>IndicatorsÔºöReset, Power, Pin 13 LED</p></li><li><p>Power supplyÔºö6.5-12 VDC (9 VDC recommended)</p></li><li><p>Power connectorÔºö2 pin JST Terminal Blocks, 3mm DC Jacks</p></li><li><p>Cascading Power ConnectorÔºöTerminal Blocks</p></li><li><p>Program interfaceÔºöUART / ISP</p></li><li><p>LED dot-matrix socketsÔºö32</p></li><li><p>Expansion socketÔºö2.54mm bended pinheader pair</p></li><li><p>Communication ProtocolsÔºöI2C / UART</p></li><li><p>RHOSÔºöYes</p></li><li><p>Input VoltageÔºö6.5~12V</p></li><li><p>Global Current ConsumptionÔºö600~2000mA</p></li><li><p>Constant Current Channels (Cathode)Ôºö24</p></li><li><p>Constant Current per channel (Cathode)Ôºö20~120mA</p></li><li><p>Source Driver Current per channel (Common-Anode)Ôºö500mA</p></li><li><p>Source Driver Voltage per channel (Common-Anode)Ôºö9~12V</p></li><li><p>Source Drive ChannelsÔºö8</p></li><li><p>Drive LED countÔºö192</p></li><li><p>Circuit Response TimeÔºö10ns</p></li><li><p>RGB Led Matrix color resolution per dotÔºö4096ÔºöUart Baud RateÔºö115200baud</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="led-devices-compatibility">LED devices Compatibility<a class="hash-link" href="#led-devices-compatibility" title="Direct link to heading">‚Äã</a></h2><hr><p>Before direct plug into the female pin-headers, please verify if the RGB dot matrix are proven compatible. The concern is mainly on the pin out, where same color LEDs are in cluster, here we attach the scheme and photo demonstration. The color sequence might change, since the controlling logic are open source and easily reprogrammable.</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-ledmatrix-schema.png" class="img_ev3q"></p><p>The power of Rainbowduino is well beyond driving a RGB dot-matrix. With 192 output count, and up to 120mA constant current capacity, you may easily populate massive LED setups.</p><p>The output current of each channel (IOUT) is set by an external resistor, Rext. The relationship between Iout and Rext is shown in the following figure. Please refer to MBI5168 data-sheet for more details. Adjusting the 1k Potentiometer clockwise to reduce the output current (default minimal 20mA for RGB dotmatrix), rotating counter-clockwise to increase the output current. The potentiometers are single circle, please NOTE that strong force will break it into unlimited rotatable, then you would need a multimeter to adjust. :)</p><p>This means you can build your own LED matrix without any additional resistors.</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-ledmatrix-voltage.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demonstration">Demonstration<a class="hash-link" href="#demonstration" title="Direct link to heading">‚Äã</a></h2><hr><big>Requirements </big><ul><li><p>Rainbowduino board</p></li><li><p>A Common Anode RGB Matrix</p></li><li><p>An Arduino board (Optional)</p></li></ul><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-connected-matrix.png" class="img_ev3q"></p><big>Prepare Rainbowduino Hardware </big><p>Connect the RGB LED Matrix to the Rainbowduino and connect &quot;Pin 1&quot; to the red connection block. Pin1 is marked by a square solder point, while the other pins use a round solder point.</p><big>Upload Firmware  </big><p>1.Upload a piece of code to Arduino first:
In order to use the Arduino to upload the firmware to the Rainbowduino, make sure that the Arduino is clean - we need to upload an empty firmware sketch as below shows to it.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Upload Firmware to Rainbowduino</li></ol><p>Open the Rainbowduino firmware, <strong>select the correct board</strong> (Tools--<!-- -->&gt;<!-- -->board--<!-- -->&gt;<!-- --> Arduino Duemilanove or Nano w/ ATmega328) and upload the Firmware. At least that‚Äôs the theory ;)
For your viewing pleasure, here is the connection scheme:
<img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-fritz-uploadfw.png" class="img_ev3q"></p><p>We use an external power source, however you could also use the 5V from the Arduino.</p><p><strong>NOTE:</strong> If you own a Rainbowduino v1 board, you need to select the &quot;Arduino Diecimila, Duemilanove, or Nano w/ ATmega168&quot;!</p><table><tr><th>Arduino</th><th>Rainbowduino</th><caption></caption><td>RESET</td><td>DTR</td><caption></caption><td>GND</td><td>GND</td><caption></caption><td>RX</td><td>RX</td><caption></caption><td>TX</td><td>TX</td></tr></table><p>3.Use UartSB to Upload firmware</p><p>Those screenshot&#x27;s shows how to connect the UartSBee to the Rainbowduino:</p><table><thead><tr><th><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-beeONE.jpg" class="img_ev3q"></th><th><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-beeTWO.jpg" class="img_ev3q"></th></tr></thead></table><p>If you connect the UartSBee to the USB bus, it should register a new serial port. Now simply upload your firmware using the new serial port.</p><p>4.Use a Buspirate to Upload firmware / bootloader</p><p>I&#x27;m explaining three methods of programming (all using the buspirate):</p><ul><li>programming through the ISP.</li><li>programming using avrdude and manual reset (no patching necessary)</li><li>programming through avrdude with a tiny patch.</li></ul><p>DISCONNECT THE RAINBOWDUINO FROM THE DISPLAY AND POWER.</p><p>STEP 1: To use the Buspirate you need a new version of avrdude <a href="http://download.savannah.gnu.org/releases/avrdude/" target="_blank" rel="noopener noreferrer">[1]</a>. I&#x27;m using version 5.10 and that recognizes the &#x27;-c buspirate&#x27; programmer option. You can test this with</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./avrdude -c buspirate -C ./avrdude.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If this complains about the programmer, then you need a newer version of the buspirate.</p><p>STEP 2: connect the buspirate to the rainbowduino ISP connector like this:</p><table><tr><th> Buspirate</th><th> ISP</th><th> ISP pin</th></tr><tr><td width="80px"> GND</td><td width="80px"> GND</td><td width="80px"> 6</td></tr><tr><td> +5V</td><td> Vcc</td><td> 2</td></tr><tr><td> CS</td><td> RESET</td><td> 5</td></tr><tr><td> MOSI</td><td> MOSI</td><td> 4</td></tr><tr><td> MISO</td><td> MISO</td><td> 1</td></tr><tr><td> SCL/CLK</td><td> SCK</td><td> 3</td></tr></table><p>STEP 3: find the correct bootloader (I&#x27;m using the tiny optiboot firmware). Copy this file to your freshly compiled avrdude directory.</p><p>STEP 4: program the atmega 328p with</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./avrdude -v -c buspirate -p m328p -C ./avrdude.conf -P /dev/ttyUSB0 -U flash:w:optiboot_atmega328.hex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This takes a very long time...</p><p>I started with uploading firmwares without the bootloader and that works fine. Trick is to get the HEX files from the arduino IDE. In version 0.22-Linux they are stored in /tmp/buildXXXXXXXXXXXX and NOT in the sketches directory. Just issue the &#x27;Upload&#x27; command without any programmer connected (press <!-- -->&lt;<!-- -->shift<!-- -->&gt;<!-- --> during while pressing the &#x27;upload&#x27; button to get much debug info from the arduino ide).</p><p>After you have the bootloader on the rainbowduino you can use the transparent serial interface of the buspirate. Set the baudrate to 115200 and enter the &#x27;(3)&#x27; macro to activate transparent mode. The buspirate now acts like a USB-serial converter (any other FTDI like usb-serial converter could be used). Issue with the buspirate is that there is no DTR to reset the arduino with. You now have to time the reset and upload manually. Pressing reset after starting the upload seems to work best.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HiZ&gt;m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. HiZ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 1-WIRE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. UART</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. I2C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. SPI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. JTAG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. RAW2WIRE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8. RAW3WIRE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9. PC KEYBOARD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10. LCD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mode selected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set serial port speed: (bps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 1200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 2400</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. 4800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. 9600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. 19200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. 38400</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8. 57600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9. 115200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10. 31250 (MIDI)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data bits and parity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 8, NONE *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 8, EVEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 8, ODD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. 9, NONE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stop bits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 1 *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receive polarity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Idle 1 *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Idle 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Select output type:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Open drain (H=Hi-Z, L=GND)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Normal (H=3.3V, L=GND)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) &gt;2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">READY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UART&gt;(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UART bridge. Space continues, anything else exits.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reset to exit.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After that you can program the arduino with the bootloader:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./avrdude -v -c stk500v1 -p m328p -b 115200 -F -C ./avrdude.conf -P /dev/ttyUSB0 -U flash:w:Rainbow_Plasma.cpp.hex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>One step further is to patch avrdude in the file &#x27;arduino.c&#x27;. The buspirate sends the &#x27;rts&#x27; signal with the wrong polarity to the arduino but by swapping 1 for 0 and 0 for 1 that is fixed.From then on you have to choose &#x27;arduino&#x27; as programmer instead of &#x27;stk500v1&#x27;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static int arduino_open(PROGRAMMER * pgm, char * port)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fprintf(stderr, &quot;arduino_open...\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    strcpy(pgm-&gt;port, port);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serial_open(port, pgm-&gt;baudrate? pgm-&gt;baudrate: 115200, &amp;pgm-&gt;fd);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* Clear DTR and RTS to unload the RESET capacitor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * (for example in Arduino) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serial_set_dtr_rts(&amp;pgm-&gt;fd, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    usleep(50*1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* Set DTR and RTS back to high */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serial_set_dtr_rts(&amp;pgm-&gt;fd, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    usleep(50*1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * drain any extraneous input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stk500_drain(pgm, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (stk500_getsync(pgm) &lt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Note: change the programmer type used by the arduino ide in the &#x27;boards.txt&#x27; file.</em></p><p>Source: buspirate-avr-programming <a href="http://hintshop.ludvig.co.nz/show/buspirate-avr-programming/" target="_blank" rel="noopener noreferrer">[2]</a>, Bus_Pirate_AVR_Programming <a href="http://dangerousprototypes.com/docs/Bus_Pirate_AVR_Programming" target="_blank" rel="noopener noreferrer">[3]</a>, Optiboot <a href="http://code.google.com/p/optiboot/" target="_blank" rel="noopener noreferrer">[4]</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rainbowdunio-firmware">Rainbowdunio Firmware<a class="hash-link" href="#rainbowdunio-firmware" title="Direct link to heading">‚Äã</a></h2><big>Neorainbowduino Firmware</big><p>This firmware bundle comes with two firmwares (one for a Arduino, one for the Rainbowduino) and a Processing library. You can send data from any Application via the serial line to the Arduino - the Arduino then sends the images to the corresponding Rainbowduino device. I created an easy-to-use Processing library to get started.</p><p>Source: <a href="http://code.google.com/p/neorainbowduino/" target="_blank" rel="noopener noreferrer">http://code.google.com/p/neorainbowduino/</a></p><p><strong>Features:</strong></p><ul><li><p>I2C enabled firmware (supports multiple Rainbowduino‚Äôs)</p></li><li><p>Processing library, so you can easily control your Rainbowduino from Processing!</p></li><li><p>Send full frames from Processing to Rainbowduino</p></li><li><p>Send frames from Processing to your RGB matrix, each frame has a size of 8x8 pixel, 12bit color resolution (4096 colors). The color conversion is handled by the library</p></li><li><p>Optimized processing lib - send only frames to Rainbowduino if needed (save ~50% of traffic - of course it depends on your frames)</p></li><li><p>Fixed buffer swapping (no more flickering)</p></li><li><p>Added i2c bus scanner, find your Rainbowduinos if you forget their addresses</p></li></ul><p>Supported Work Modes: I2C</p><big>Requirements </big><p>This firmware allows you to use Processing to control the rainbowduino, so its obvious you need:</p><ul><li>Processing Software, get it from <a href="http://processing.org/" target="_blank" rel="noopener noreferrer">http://processing.org/</a></li></ul><big>Patches for Arduino IDE</big><p>Because the neorainbowduino firmware sends full frames via I2c (92 bytes) we need to patch the I2c buffer size for the arduino (to optimize transfer speed). I hope the Arduino supports variable buffer size in near future. Make sure your <strong>Arduino IDE is closed</strong> if you patch the files!</p><p><strong>File to patch:</strong> Java/libraries/Wire/utility/twi.h</p><p><strong>Reason:</strong> Increase the I2C speed from 100kHz to 400kHz, increase the I2C buffer size from 32 bytes to 98 bytes</p><big>Original File</big><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifndef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">TWI_FREQ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">TWI_FREQ</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">100000L</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifndef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">TWI_BUFFER_LENGTH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">TWI_BUFFER_LENGTH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><big>Patched File</big><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifndef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">TWI_FREQ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">TWI_FREQ</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression number" style="color:#36acaa">400000L</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifndef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">TWI_BUFFER_LENGTH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">TWI_BUFFER_LENGTH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression number" style="color:#36acaa">98</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token macro property expression operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>x</p><p><strong>File to patch:</strong> Java/libraries/Wire/Wire.h</p><p><strong>Reason:</strong> Increase the Serial buffer size from 32 bytes to 98 bytes</p><table><tr><th>Original File</th><th>Patched File</th><caption></caption><td width="300px"></td></tr></table><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#define BUFFER_LENGTH 32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#define BUFFER_LENGTH **98**</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><big>Upload Firmware to Rainbowduino</big><p>Upload the firmware (see Upload Firmware), the firmware file you need is <strong>rainbowduinoFw/Rainbow_V2_71/Rainbow_V2_71.pde</strong>.</p><p><strong>Note:</strong> This firmware use the I2C protocol to communicate - each Rainbowduino needs a unique I2C address. The address can be configured by editing the Rainbowduino.h file (<code>#define I2C_DEVICE_ADDRESS 0x06</code>). So dont forget to change the address if you upload this firmware to more than one rainbowduino&#x27;s!</p><big>Upload Firmware to Arduino</big><p>Disconnect the RX/TX lines between Rainbowduino and Arduino. Upload the Arduino firmware <strong>arduinoFw/neoLed/neoLed.pde</strong> to the Arduino.</p><big>Interact with Rainbowduino</big><p>This chapter will show you a <strong>simple way to communicate</strong> with your Rainbowduino. You need an Arduino (working as a serial to I2C gateway) and a Rainbowduino with an I2C address of 0x06.</p><p>The connection between the Rainbowduino and Arduino should look like this:
<img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-neorainbow.png" class="img_ev3q"></p><p>We use an external power source, however you could also use the 5V from the Arduino.</p><table><tr><th> Arduino</th><th> Rainbowduino</th></tr><tr><td width="150px">RESET</td><td width="150px">DTR</td></tr><tr><td>GND</td><td>GND</td></tr><tr><td>Analog IN 4</td><td>SDA</td></tr><tr><td>Analog IN 5</td><td>SDL</td></tr></table><big>Install Processing Libraries </big><p>After you installed the Processing Software, you&#x27;ll need to install the neorainbowduino libraray. You can find the processing library in the <strong>processingLib\distribution\neorainbowduino-x.y\download</strong> directory. Unpack the zip-file to your Processing home folder (there is a README.TXT file inside for detailed instructions, how to install).</p><p>When you start Processing you should able to import the neorainbowduino library):</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-processing-lib.png" class="img_ev3q"></p><p><strong>Simple Example</strong></p><p>Here is a very simple Processing sketch to send som random rectangles to the rainbowduino.</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import processing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">neophob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rainbowduino</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">neophob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rainbowduino</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> final </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> SIZE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rainbowduino r</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">frameRate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">background</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SIZE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SIZE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//initialize rainbowduino</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Integer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new ArrayList</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Integer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">//use rainbowduino with slave id 6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new </span><span class="token function" style="color:#d73a49">Rainbowduino</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ping: &quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Exception e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;FAILED to open serial port!!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">printStackTrace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">smooth</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">noStroke</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//draw some simple stuff on screen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color c1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">color</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">128</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SIZE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SIZE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">rect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">br</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//send PApplet to the Rainbowduino lib - and send it to slave id 6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendRgbFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">byte</span><span class="token punctuation" style="color:#393A34">)</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>TODO add some screenshots</p><p><strong>How Image resizing works</strong></p><p>The image will be resized using an Area Averaging Filter. So its important to know, that the image should be correctly aligned. Aligned means, that the result looks good if the image can be divided by 8. Here is a good and bad example:</p><table><thead><tr><th>Good example (aligned)</th><th>Bad example (not aligned)</th></tr></thead><tbody><tr><td><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-resize-good-src.png" class="img_ev3q"></td><td><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-resize-bad-src.png" class="img_ev3q"></td></tr><tr><td><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-resize-good-dst.png" class="img_ev3q"></td><td><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-resize-bad-dst.png" class="img_ev3q"></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mtxcontrol-firmware">mtXcontrol Firmware<a class="hash-link" href="#mtxcontrol-firmware" title="Direct link to heading">‚Äã</a></h2><p>Source: <a href="http://www.rngtng.com/mtxcontrol/" target="_blank" rel="noopener noreferrer">http://www.rngtng.com/mtxcontrol/</a></p><p><strong>Features:</strong></p><ul><li>mtXcontrol is an editor written in Processing to easily create image sequences for several output devices containing multicolor LED matrix.</li></ul><p>Supported Work Modes: ???</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="firmware-3">Firmware 3<a class="hash-link" href="#firmware-3" title="Direct link to heading">‚Äã</a></h2><p>Source: <a href="http://code.google.com/p/rainbowduino-firmware/" target="_blank" rel="noopener noreferrer">http://code.google.com/p/rainbowduino-firmware/</a></p><p><strong>Features:</strong></p><ul><li><p>double-buffering synced with refresh rate</p></li><li><p>4 auxiliary buffers</p></li><li><p>hi-level instruction set</p></li><li><p>multiple controlled hardware</p></li><li><p>I2C communication protocol</p></li><li><p>permanent data storage in Eeprom</p></li></ul><p>Supported Work Modes: I2C</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rainbowdashboard">RainbowDashboard<a class="hash-link" href="#rainbowdashboard" title="Direct link to heading">‚Äã</a></h2><p>Source: <a href="http://code.google.com/p/rainbowdash/" target="_blank" rel="noopener noreferrer">http://code.google.com/p/rainbowdash/</a></p><p><strong>Features:</strong></p><ul><li><p>Clean, maintainable code base.</p></li><li><p>Compatible with standard firmware.</p></li><li><p>Supports UART mode (no Arduino host needed - talk to Rainbowduino directly).</p></li><li><p>Double-buffered graphics operations.</p></li><li><p>Software real-time clock.</p></li><li><p>Animation driven by the Rainbowduino itself.</p></li><li><p>Full Windows ANSI (CP1252) character set.</p></li><li><p>High-level command set.</p></li></ul><p>Supported Work Modes: UART</p><p>Can easily be changed to use I2C; only one file (RainbowDash.pde) needs to be changed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-firmware-works">How the Firmware works<a class="hash-link" href="#how-the-firmware-works" title="Direct link to heading">‚Äã</a></h2><big>Microprocessor - Atmega 168/328</big><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-Schema.png" class="img_ev3q"></p><table><tr><th> PORTD</th><th> PORTB</th><th> PORTC</th></tr><tr><td width="150px">pin02 / PD0 / RXD</td><td width="150px">pin14 / PB0 / INT0</td><td width="150px">pin23 / PC0 / SDI</td></tr><tr><td>pin03 / PD1 / TXD</td><td>pin15 / PB1 / INT1</td><td>pin24 / PC1 / CLK</td></tr><tr><td>pin04 / PD2 / INT0</td><td>pin16 / PB2 / INT2</td><td>pin25 / PC2 / LE</td></tr><tr><td>pin05 / PD3 / INT19</td><td>pin17 / PB3 / INT3</td><td>pin26 / PC3 / OE</td></tr><tr><td>pin06 / PD4 / INT20</td><td>pin18 / PB4 / INT4</td><td>pin27 / PC4 / SDA</td></tr><tr><td>pin11 / PD5 / INT21</td><td>pin19 / PB5 / INT5/SCK</td><td>pin28 / PC5 / SDL</td></tr><tr><td>pin12 / PD6 / INT22</td><td></td><td></td></tr><tr><td>pin13 / PD7 / INT23</td><td></td><td></td></tr></table><p><strong>PORTB</strong> maps to Arduino digital pins 8 to 13 The two high bits (6 <!-- -->&amp;<!-- --> 7) map to the crystal pins and are not usable.</p><p><strong>PORTC</strong> maps to Arduino analog pins 0 to 5. Pins 6 <!-- -->&amp;<!-- --> 7 are only accessible on the Arduino Mini.</p><p><strong>PORTD</strong> maps to Arduino digital pins 0 to 7.</p><big>Constant Current LED driver</big><p>This driver uses the MBI5168. The MBI5168 is a 8bit <a href="https://en.wikipedia.org/wiki/Shift_register" target="_blank" rel="noopener noreferrer">shift register</a>. It converts the serial data to parallel data. All 3 MBI5168 share the LE,CLK and OE input.</p><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-Mbi-schema.png" class="img_ev3q"></p><table><tr><th> Name</th><th> Desc</th></tr><tr><td width="50px">OE</td><td width="950px">Output Enabled, when (active) low, the output drivers are enabled; when high, all output drivers are turned OFF (blanked).</td></tr><tr><td>LE</td><td>Data strobe input terminal, Serial data is transfered to the respective latch when LE is high. The data is latched when LE goes low.</td></tr><tr><td>SDI</td><td>Serial data input to the shift register.</td></tr><tr><td>SDO</td><td>Serial data output to the following SDI of next driver IC.</td></tr><tr><td>R-EXT</td><td>Input terminal used to connect an external resistor dor setting up output current for all output channels.</td></tr><tr><td>CLK</td><td>Clock input terminal for data shift on rising edge</td></tr></table><big>Super Source Driver</big><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-schema-M5456.png" class="img_ev3q"></p><big>Shift out data</big><p>To display a full frame on the LED Matrix, the Rainbowduino interrupt method needs to be called 128 times. There are 8 lines and 16 brightness levels. Each time the displayNextLine() method gets called, one line gets updated by the current brightness level. After all 8 lines are updated the brightness level gets updated. That‚Äôs why this function needs 128 cycles until a full frame is populated on the LED Matrix.</p><p>Below you see the LED Matrix display after 32, 64, 96 and 128 cycles. You notice how the brightness is increased.
<img loading="lazy" src="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/img/RAINBOW-fw.1.png" class="img_ev3q"></p><big>Support more than 4096 colors (12bit)</big><p>The stock firmware (and most 3rd party firmwares) support 12bit color resolution. It is possible to increase this:</p><table><tr><th> Color Resolution</th><th> Payload</th><th> Brightness Level</th></tr><tr><td width="250px">12 bit (4bit per color), 4096 Colors</td><td width="250px">96 bytes (12bit*64=768bit)</td><td>16</td></tr><tr><td>15 bit (5bit per color), 32768 Colors</td><td>120 bytes (15bit*64=960bit)</td><td>32</td></tr></table><p>The benefit of using 4bits per color is the data storage, one byte takes 2 color values - thus it&#x27;s easy to get the color from a byte buffer. Using 5bits per color needs more cpu power or more buffer space (use 2 bytes for 3 color values - wasting 1bit per color).</p><p>To achieve 15 bit color resolution, the firmware needs two changes:</p><ul><li><p>loop over 32 instead 16 brightness levels</p></li><li><p>change the shift out function</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><hr><ul><li><p><a href="http://www.neophob.com/2010/11/huge-rgb-led-matrix/" target="_blank" rel="noopener noreferrer">A Huge DIY LED Matrix</a></p></li><li><p><a href="http://www.neophob.com/2010/07/rainbowduino-fun-aka-neorainbowduino/" target="_blank" rel="noopener noreferrer">Generic Rainbowduino information</a></p></li><li><p><a href="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/res/RAINBOW-MBI5168_Datasheet_VA.02-English.pdf" target="_blank" rel="noopener noreferrer" title="File:RAINBOW-MBI5168 Datasheet VA.02-English.pdf">File:RAINBOW-MBI5168 Datasheet VA.02-English.pdf</a></p></li><li><p><a href="http://www.atmel.com/dyn/resources/prod_documents/doc2545.pdf" target="_blank" rel="noopener noreferrer">prod_documents</a></p></li><li><p><a href="https://files.seeedstudio.com/wiki/Rainbowduino_LED_driver_platform-ATmega328/res/RAINBOW-MBI5168_Datasheet_VA.02-English.pdf" target="_blank" rel="noopener noreferrer" title="File:RAINBOW-MBI5168 Datasheet VA.02-English.pdf">File:RAINBOW-MBI5168 Datasheet VA.02-English.pdf</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tech-support">Tech Support<a class="hash-link" href="#tech-support" title="Direct link to heading">‚Äã</a></h2><div>Please submit any technical issue into our [forum](https://forum.seeedstudio.com/). <br><p style="text-align:center"><a href="https://www.seeedstudio.com/act-4.html?utm_source=wiki&amp;utm_medium=wikibanner&amp;utm_campaign=newproducts" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg" class="img_ev3q"></a></p></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/c1ev0ps/docusaurus_wiki/edit/main/docs/Seeed_Elderly/Rainbowduino/Rainbowduino_LED_driver_platform-ATmega328.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-01-20T00:00:00.000Z">Jan 20, 2023</time></b> by <b>Matthew</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus_wiki/Seeed_Elderly/Rainbowduino/Rainbowduino_v3.0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Rainbowduino v3.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus_wiki/Seeed_Elderly/reComputer_Alpha/How-to-build-a-home-soft-router-and-NAS-With-ReComputer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Build a Home Soft Router and NAS with ReComputer</div></a></nav></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#standalone-mode-plug-and-shine" class="table-of-contents__link toc-highlight">Standalone Mode (plug and shine)</a></li><li><a href="#uart-mode" class="table-of-contents__link toc-highlight">UART Mode</a></li><li><a href="#i2c-mode" class="table-of-contents__link toc-highlight">I2C Mode</a></li><li><a href="#i2c-cascading" class="table-of-contents__link toc-highlight">I2C Cascading</a></li><li><a href="#specification" class="table-of-contents__link toc-highlight">Specification</a></li><li><a href="#led-devices-compatibility" class="table-of-contents__link toc-highlight">LED devices Compatibility</a></li><li><a href="#demonstration" class="table-of-contents__link toc-highlight">Demonstration</a></li><li><a href="#rainbowdunio-firmware" class="table-of-contents__link toc-highlight">Rainbowdunio Firmware</a></li><li><a href="#mtxcontrol-firmware" class="table-of-contents__link toc-highlight">mtXcontrol Firmware</a></li><li><a href="#firmware-3" class="table-of-contents__link toc-highlight">Firmware 3</a></li><li><a href="#rainbowdashboard" class="table-of-contents__link toc-highlight">RainbowDashboard</a></li><li><a href="#how-the-firmware-works" class="table-of-contents__link toc-highlight">How the Firmware works</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#tech-support" class="table-of-contents__link toc-highlight">Tech Support</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Navigation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/Getting_Started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/Sensor_Network">Sensor Network</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/Edge_Computing">Edge Computing</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/CloudnChain">Cloud &amp; Chain</a></li><li class="footer__item"><a class="footer__link-item" href="/docusaurus_wiki/Solutions">Solutions</a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/QqMgVwHT3X" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://project.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Hub</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/ecosystem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partners</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/distributors.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Distributors</a></li></ul></div><div class="col footer__col"><div class="footer__title">Quick Guide</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bazzar</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/HowToGetHelp" target="_blank" rel="noopener noreferrer" class="footer__link-item">How to get help</a></li><li class="footer__item"><a href="https://support.seeedstudio.com/knowledgebase" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQs</a></li><li class="footer__item"><a href="https://forum.seeedstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/get_help/TechnicalSupport" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technical Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.seeedstudio.com/about-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Seeed</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/join-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Join us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/contacts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li><li class="footer__item"><a href="https://www.seeedstudio.com/blog/2020/04/22/seeed-in-the-news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Press</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Seeed Studio, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus_wiki/assets/js/runtime~main.5a80bd54.js"></script>
<script src="/docusaurus_wiki/assets/js/main.9c630393.js"></script>
</body>
</html>